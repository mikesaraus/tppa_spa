"use strict";(self["webpackChunktppa_app"]=self["webpackChunktppa_app"]||[]).push([[212],{4212:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Fa});var n=a(83673),o=a(62323),s=a(98880);const l=(0,n.Uk)(" New Transaction "),i=(0,n.Uk)(" Each transaction is subjected to "),r=(0,n.Uk)("Cancel"),c=(0,n.Uk)("Save"),d=(0,n.Uk)(" convenience fee. "),u=(0,n.Uk)("Process single and multiple payments."),m={class:"self-start text-subtitle1 text-grey-6 q-mt-sm"},p={class:"col-lg-3 col-md-3 col-sm-12 col-xs-12"},_={class:"col-lg-3 col-md-3 col-sm-12 col-xs-12"},h={class:"col-lg-3 col-md-3 col-sm-12 col-xs-12"},f=(0,n.Uk)(" More Details "),w={class:"text-h6 text-primary q-mb-sm"},y=(0,n.Uk)(" Payment Option "),g={class:"row justify-center items-center q-gutter-x-sm full-width"},b={class:"col-4 col-lg-4 col-md-4 col-sm-12 col-xs-12"},k={key:0,class:"text-subtitle2"},v=(0,n.Uk)(" Change: "),C=(0,n.Uk)(" Check must have exact amount! "),x={class:"col-4 col-lg-4 col-md-4 col-sm-12 col-xs-12"},W=(0,n.Uk)(" Check Payment "),q={key:0,class:"row justify-center items-center q-gutter-x-xs full-width"},$=(0,n.Uk)(" Check Payment "),T={class:"col-md-auto col-xs-12"},D={class:"col-md-auto col-xs-12"},U={class:"row items-center justify-end"},S={class:"col-md-auto col-xs-12"},Z={class:"col-md-auto col-xs-12"},P=(0,n.Uk)("Close"),I={class:"text-h6 text-accent"},A=(0,n.Uk)(" Confirm Action"),V=(0,n.Uk)(" Add New Data "),R={class:"text-weight-bold"},z={class:"text-h6"},Q={class:"text-grey"},j=(0,n.Uk)("Reset All"),M=(0,n.Uk)("Hide");function O(e,t,a,O,F,N){const K=(0,n.up)("q-btn"),Y=(0,n.up)("q-item-label"),B=(0,n.up)("q-icon"),L=(0,n.up)("q-tooltip"),E=(0,n.up)("q-input"),H=(0,n.up)("q-popup-edit"),X=(0,n.up)("q-badge"),G=(0,n.up)("q-item-section"),J=(0,n.up)("q-item"),ee=(0,n.up)("q-date"),te=(0,n.up)("q-popup-proxy"),ae=(0,n.up)("SelectCheckType"),ne=(0,n.up)("q-card"),oe=(0,n.up)("q-form"),se=(0,n.up)("TransactionsTable"),le=(0,n.up)("q-list"),ie=(0,n.up)("q-page"),re=(0,n.up)("q-space"),ce=(0,n.up)("q-bar"),de=(0,n.up)("q-card-section"),ue=(0,n.up)("q-separator"),me=(0,n.up)("q-card-actions"),pe=(0,n.up)("q-dialog"),_e=(0,n.up)("q-fab-action"),he=(0,n.up)("q-fab"),fe=(0,n.up)("q-page-sticky"),we=(0,n.up)("q-linear-progress"),ye=(0,n.up)("MoreTransInfo"),ge=(0,n.Q2)("close-popup"),be=(0,n.Q2)("touch-pan");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(ie,{class:"flex full-width"},{default:(0,n.w5)((()=>[(0,n.Wm)(ne,{flat:"",class:"row full-width justify-center items-start q-pb-xl q-pt-sm"},{default:(0,n.w5)((()=>[(0,n.Wm)(le,{class:"col full-width q-gutter-y-sm"},{default:(0,n.w5)((()=>[(0,n.Wm)(J,{class:"row justify-center text-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(G,{class:"col"},{default:(0,n.w5)((()=>[(0,n.Wm)(Y,{class:"text-h4 text-primary row justify-center items-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(K,{flat:"",round:"",dense:"",size:"lg",color:"primary",icon:"verified_user",disable:e.form_isprocessing,onClick:t[0]||(t[0]=t=>e.seamless_card=!e.seamless_card)},null,8,["disable"]),l])),_:1}),e.$root.transactions_fee>0||!e.$root.isTeller?((0,n.wg)(),(0,n.j4)(Y,{key:0,caption:""},{default:(0,n.w5)((()=>[i,(0,n.Wm)(X,{class:"cursor-pointer",color:e.$root.app_settings.darkmode?"grey-9":"grey-6",onClick:t[3]||(t[3]=t=>e.local_convenience_fee=Number(e.$root.transactions_fee).toFixed(2))},{default:(0,n.w5)((()=>[(0,n.Uk)(" PHP "+(0,o.zw)(Number(e.$root.transactions_fee).toFixed(2))+" ",1),e.$root.isTeller?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(H,{key:0,cover:"",modelValue:e.local_convenience_fee,"onUpdate:modelValue":t[1]||(t[1]=t=>e.local_convenience_fee=t),title:"Convenience Fee",onSave:t[2]||(t[2]=(t,a)=>e.updateConvenienceFee(t,a)),style:{"border-radius":"15px"}},{default:(0,n.w5)((e=>[(0,n.Wm)(E,{dense:"",counter:"",autofocus:"",type:"number",hint:"Update Convenience Fee",modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,modelModifiers:{number:!0},onKeyup:(0,s.D2)(e.set,["enter"])},{prepend:(0,n.w5)((()=>[(0,n.Wm)(B,{name:"php",size:"lg"})])),append:(0,n.w5)((()=>[(0,n.Wm)(K,{flat:"",round:"",dense:"",color:"negative",icon:"cancel",onClick:(0,s.iM)(e.cancel,["stop"])},{default:(0,n.w5)((()=>[(0,n.Wm)(L,null,{default:(0,n.w5)((()=>[r])),_:1})])),_:2},1032,["onClick"]),(0,n.Wm)(K,{flat:"",round:"",dense:"",color:"positive",icon:"check_circle",onClick:(0,s.iM)(e.set,["stop"]),disable:!1===e.validate(e.value)||e.initialValue===e.value},{default:(0,n.w5)((()=>[(0,n.Wm)(L,null,{default:(0,n.w5)((()=>[c])),_:1})])),_:2},1032,["onClick","disable"])])),_:2},1032,["modelValue","onUpdate:modelValue","onKeyup"])])),_:1},8,["modelValue"]))])),_:1},8,["color"]),d])),_:1})):((0,n.wg)(),(0,n.j4)(Y,{key:1,caption:""},{default:(0,n.w5)((()=>[u])),_:1}))])),_:1})])),_:1}),(0,n.Wm)(J,{class:"flex flex-center text-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(G,{style:{"max-width":"80vw",width:"500px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(oe,{autofocus:"",class:"full-width",ref:e.form_conf.ref,onSubmit:e.submitTransactionsForm},{default:(0,n.w5)((()=>[(0,n.Wm)(s.W3,{appear:"","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut slow"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Object.keys(e.local_transactions),((t,a)=>((0,n.wg)(),(0,n.iD)("div",{key:`${t}`,class:"row justify-center items-center q-gutter-x-md"},[(0,n._)("div",m,[(0,n.Wm)(K,{flat:"",push:"",round:"",icon:"cancel",class:"button_exit",ripple:{color:"primary"},disable:e.form_isprocessing,onClick:a=>e.removeTransInput(t),color:e.$root.app_settings.darkmode?"grey-9":"grey-3"},{default:(0,n.w5)((()=>[(0,n.Wm)(X,{floating:"",color:"primary",rounded:""},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(`#${a+1}`),1)])),_:2},1024)])),_:2},1032,["disable","onClick","color"]),(0,n.Wm)(L,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(`Delete #${a+1}`),1)])),_:2},1024)]),(0,n._)("div",p,[(0,n.Wm)(E,{rounded:"",autofocus:"",clearable:"",debounce:1e3,"clear-icon":"clear",standout:"bg-primary text-white","bg-color":e.local_transactions[t].error?"negative":"","input-class":`${e.form_conf.inputclass} `+(e.local_transactions[t].error?"text-grey-3":""),readonly:e.form_isprocessing,modelValue:e.local_transactions[t].accnt_id,"onUpdate:modelValue":[a=>e.local_transactions[t].accnt_id=a,a=>e.searchAccountID(a,t)],label:"Account ID",mask:"### - #### - ####",ref_for:!0,ref:`${t}_accnt_id`,"label-color":e.local_transactions[t].error||e.$root.app_settings.darkmode?"":"grey-9",tabindex:e.getTransIndex(t,a,1),onKeyup:a=>e.modKey(a,{trans_code:t}),rules:[t=>e.checker.input(e.inputs_empty||11===e.cleanAccountID(t).length||"",500)],onFocus:a=>e.changeInputFocus(`${t}_accnt_id`)},{prepend:(0,n.w5)((()=>[(0,n.Wm)(B,{name:"numbers"})])),_:2},1032,["bg-color","input-class","readonly","modelValue","onUpdate:modelValue","label-color","tabindex","onKeyup","rules","onFocus"])]),(0,n._)("div",_,[(0,n.Wm)(E,{rounded:"",clearable:"",debounce:1e3,"clear-icon":"clear",standout:"bg-primary text-white","bg-color":e.local_transactions[t].error?"negative":"","input-class":`${e.form_conf.inputclass} `+(e.local_transactions[t].error?"text-grey-3":""),readonly:e.form_isprocessing,modelValue:e.local_transactions[t].accnt_name,"onUpdate:modelValue":a=>e.local_transactions[t].accnt_name=a,label:"Account Name","label-color":e.local_transactions[t].error||e.$root.app_settings.darkmode?"":"grey-9",ref_for:!0,ref:`${t}_accnt_name`,tabindex:e.getTransIndex(t,a,2),onKeyup:a=>e.modKey(a,{trans_code:t}),rules:[t=>e.checker.input(!!t||e.inputs_empty||"",500)],onFocus:a=>e.changeInputFocus(`${t}_accnt_name`)},{prepend:(0,n.w5)((()=>[(0,n.Wm)(B,{name:"person"})])),_:2},1032,["bg-color","input-class","readonly","modelValue","onUpdate:modelValue","label-color","tabindex","onKeyup","rules","onFocus"])]),(0,n._)("div",h,[(0,n.Wm)(E,{rounded:"",clearable:"",debounce:100,"clear-icon":"clear",type:"number",standout:"bg-primary text-white","bg-color":e.local_transactions[t].error?"negative":"","input-class":`${e.form_conf.inputclass} `+(e.local_transactions[t].error?"text-grey-3":""),readonly:e.form_isprocessing,modelValue:e.local_transactions[t].amount,"onUpdate:modelValue":a=>e.local_transactions[t].amount=a,modelModifiers:{number:!0},label:"Amount Due","label-color":e.local_transactions[t].error||e.$root.app_settings.darkmode?"":"grey-9",ref_for:!0,ref:`${t}_amount`,tabindex:e.getTransIndex(t,a,3),onKeyup:a=>e.modKey(a,{trans_code:t}),rules:[t=>e.checker.input(t&&t>0||e.inputs_empty||"",500)],onFocus:a=>e.changeInputFocus(`${t}_amount`)},{prepend:(0,n.w5)((()=>[(0,n.Wm)(B,{name:"account_balance_wallet"})])),append:(0,n.w5)((()=>[(0,n.Wm)(B,{name:"php",size:"md"})])),_:2},1032,["bg-color","input-class","readonly","modelValue","onUpdate:modelValue","label-color","tabindex","onKeyup","rules","onFocus"])]),(0,n._)("div",{class:(0,o.C_)(["self-start text-subtitle1 text-grey-6",e.$q.screen.gt.sm?"q-mt-sm":""])},[(0,n.Wm)(K,{flat:"",push:"",round:"",class:"hover-text-primary",ripple:{color:"primary"},color:e.$root.app_settings.darkmode?"grey-9":"grey-3",icon:e.$q.screen.gt.sm?"more_vert":"more_horiz",style:(0,o.j5)(e.$q.screen.lt.md?"top: -20px":""),disable:e.form_isprocessing||!e.local_transactions[t].accnt_id,onClick:()=>{e.dialogMoreDetails=!e.dialogMoreDetails,e.selectedTrans=t}},null,8,["color","icon","style","disable","onClick"]),e.local_transactions[t].accnt_id?((0,n.wg)(),(0,n.j4)(L,{key:0,offset:e.$q.screen.gt.sm?[10,10]:[10,30],anchor:e.$q.screen.gt.sm?"bottom middle":"top middle",self:e.$q.screen.gt.sm?"top middle":"bottom middle"},{default:(0,n.w5)((()=>[f])),_:1},8,["offset","anchor","self"])):(0,n.kq)("",!0)],2),e.local_transactions[t].error?((0,n.wg)(),(0,n.j4)(L,{key:0,anchor:"top middle",self:"bottom middle",offset:[10,10],class:"bg-negative"},{default:(0,n.w5)((()=>[(0,n.Wm)(B,{name:"block",size:"13px"}),(0,n.Uk)(" "+(0,o.zw)(e.local_transactions[t].error),1)])),_:2},1024)):(0,n.kq)("",!0)])))),128))])),_:1}),(0,n.Wm)(s.uT,{appear:"","enter-active-class":"animated fadeIn slow","leave-active-class":"animated fadeOut slow"},{default:(0,n.w5)((()=>[e.inputs_empty?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",{key:0,class:(0,o.C_)(["row justify-center items-top full-width",e.$q.screen.gt.sm?"q-gutter-x-md":""])},[(0,n.Wm)(ne,{flat:"",key:"payment_option_check",class:"col"},{default:(0,n.w5)((()=>[(0,n._)("div",w,[(0,n.Wm)(B,{name:"payments",size:"sm",color:"primary"}),y]),(0,n.Wm)(s.uT,{appear:"","enter-active-class":"animated fadeIn slow","leave-active-class":"animated fadeOut slow"},{default:(0,n.w5)((()=>[(0,n._)("div",g,[(0,n._)("div",b,[(0,n.Wm)(E,{rounded:"",outlined:"",clearable:"",debounce:0,"clear-icon":"clear",type:"number","input-class":e.form_conf.inputclass,readonly:e.form_isprocessing||e.inputs_empty||e.disableAmountReceived,modelValue:e.local_trans_payment.amount_received,"onUpdate:modelValue":t[4]||(t[4]=t=>e.local_trans_payment.amount_received=t),modelModifiers:{number:!0},label:"Amount Received",tabindex:e.getTransIndex("payment_options",1,1),onKeyup:t[5]||(t[5]=t=>e.modKey(t)),onFocus:t[6]||(t[6]=()=>{!e.local_trans_payment.amount_received&&e.local_trans_options.total_amount&&(e.local_trans_payment.amount_received=e.local_trans_options.total_amount)}),rules:[t=>e.checker.input(e.validateAmountReceived(),500)]},{prepend:(0,n.w5)((()=>[(0,n.Wm)(B,{name:"payment"})])),append:(0,n.w5)((()=>[e.local_trans_payment.amount_received&&e.local_trans_options.total_amount?((0,n.wg)(),(0,n.iD)("div",k,[(0,n.Wm)(B,{color:(!0===e.validateAmountReceived()||!e.payViaCheck)&&e.transactionChange>=0?"primary":"negative",name:(!0===e.validateAmountReceived()||!e.payViaCheck)&&e.transactionChange>=0?"done_outline":"warning",size:"md"},null,8,["color","name"]),v,(0,n._)("span",{class:(0,o.C_)(["text-weight-bold text-subtitle1",(!0===e.validateAmountReceived()||!e.payViaCheck)&&e.transactionChange>=0?"text-primary":"text-negative"])},(0,o.zw)(`${e.formatMoney(e.transactionChange)}`),3)])):(0,n.kq)("",!0)])),default:(0,n.w5)((()=>[!0!==e.validateAmountReceived()?((0,n.wg)(),(0,n.j4)(L,{key:0,class:"bg-negative",self:"top middle",anchor:"bottom middle"},{default:(0,n.w5)((()=>[C])),_:1})):(0,n.kq)("",!0)])),_:1},8,["input-class","readonly","modelValue","tabindex","rules"])]),(0,n._)("div",x,[(0,n.Wm)(E,{rounded:"",outlined:"",clearable:"",debounce:10,"clear-icon":"clear","input-class":e.form_conf.inputclass,readonly:e.form_isprocessing||e.inputs_empty,modelValue:e.local_trans_payment.check.check_no,"onUpdate:modelValue":t[7]||(t[7]=t=>e.local_trans_payment.check.check_no=t),label:"Check No. (For Cheque Payment Only)",maxlength:10,tabindex:e.getTransIndex("payment_options",1,2),onKeyup:t[8]||(t[8]=t=>e.modKey(t)),rules:[t=>e.checker.input(`${t}`.length<=10||"",500)]},{prepend:(0,n.w5)((()=>[(0,n.Wm)(B,{name:"numbers"})])),append:(0,n.w5)((()=>[(0,n.Wm)(X,{rounded:"",transparent:""},{default:(0,n.w5)((()=>[(0,n.Wm)(B,{size:"sm",name:"credit_score"}),(0,n.Wm)(L,null,{default:(0,n.w5)((()=>[W])),_:1})])),_:1})])),_:1},8,["input-class","readonly","modelValue","label","tabindex","rules"])])])])),_:1}),(0,n.Wm)(s.uT,{appear:"","enter-active-class":"animated fadeIn slow","leave-active-class":"animated fadeOut slow"},{default:(0,n.w5)((()=>[e.local_trans_payment.check.check_no?((0,n.wg)(),(0,n.iD)("div",q,[(0,n._)("div",{class:(0,o.C_)(["self-start",e.$q.screen.gt.sm?"q-ml-none q-mt-md":""])},[(0,n.Wm)(X,{rounded:"",transparent:"",color:"primary"},{default:(0,n.w5)((()=>[(0,n.Wm)(K,{flat:"",round:"",size:"xs",icon:"credit_score"}),$])),_:1})],2),(0,n._)("div",T,[(0,n.Wm)(E,{rounded:"",outlined:"",clearable:"",debounce:1e3,"clear-icon":"clear","input-class":e.form_conf.inputclass,readonly:e.form_isprocessing,modelValue:e.local_trans_payment.check.check_bank,"onUpdate:modelValue":t[9]||(t[9]=t=>e.local_trans_payment.check.check_bank=t),label:"Drawee Bank",tabindex:e.getTransIndex("payment_options",3,1),onKeyup:t[10]||(t[10]=t=>e.modKey(t)),rules:[t=>e.checker.input(e.payCheckInputRules(t),500)]},{prepend:(0,n.w5)((()=>[(0,n.Wm)(B,{name:"account_balance"})])),_:1},8,["input-class","readonly","modelValue","tabindex","rules"])]),(0,n._)("div",D,[(0,n.Wm)(E,{rounded:"",outlined:"",mask:"date",clearable:"",debounce:1e3,"clear-icon":"clear","input-class":e.form_conf.inputclass,readonly:e.form_isprocessing,modelValue:e.local_trans_payment.check.check_date,"onUpdate:modelValue":t[13]||(t[13]=t=>e.local_trans_payment.check.check_date=t),label:"Check Date",tabindex:e.getTransIndex("payment_options",3,2),onKeyup:t[14]||(t[14]=t=>e.modKey(t)),rules:[t=>e.dateBetween(t)||""],onClick:t[15]||(t[15]=t=>e.local_trans_options.open_check_date_picker=!0)},{prepend:(0,n.w5)((()=>[(0,n.Wm)(K,{flat:"",round:"",icon:"event",readonly:e.form_isprocessing,tabindex:e.getTransIndex("payment_options",3,3)},{default:(0,n.w5)((()=>[(0,n.Wm)(te,{cover:"","model-value":e.local_trans_options.open_check_date_picker,breakpoint:700,"transition-show":"scale","transition-hide":"scale",onHide:t[12]||(t[12]=t=>e.local_trans_options.open_check_date_picker=!1)},{default:(0,n.w5)((()=>[(0,n.Wm)(ee,{"today-btn":"",modelValue:e.local_trans_payment.check.check_date,"onUpdate:modelValue":t[11]||(t[11]=t=>e.local_trans_payment.check.check_date=t)},{default:(0,n.w5)((()=>[(0,n._)("div",U,[(0,n.wy)((0,n.Wm)(K,{flat:"",rounded:"",label:"Close",color:"primary"},null,512),[[ge]]),(0,n.Wm)(X,{rounded:"",floating:"",transparent:"",style:{top:"5px",right:"5px"},class:"bg-transparent"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(K,{flat:"",round:"",size:"sm",icon:"clear",color:"blue-3"},null,512),[[ge]])])),_:1})])])),_:1},8,["modelValue"])])),_:1},8,["model-value"])])),_:1},8,["readonly","tabindex"])])),_:1},8,["input-class","readonly","modelValue","tabindex","rules"])]),(0,n._)("div",S,[(0,n.Wm)(ae,{rounded:"",outlined:"",clearable:"","use-input":"",debounce:1e3,"clear-icon":"clear",label:"Check Type",modelValue:e.local_trans_payment.check.check_type,"onUpdate:modelValue":t[16]||(t[16]=t=>e.local_trans_payment.check.check_type=t),readonly:e.form_isprocessing,tabindex:e.getTransIndex("payment_options",3,4),"input-class":e.form_conf.inputclass,onKeyup:t[17]||(t[17]=t=>e.modKey(t)),rules:[t=>e.checker.input(e.payCheckInputRules(t),500)]},null,8,["modelValue","readonly","tabindex","input-class","rules"])]),(0,n._)("div",Z,[(0,n.Wm)(E,{rounded:"",outlined:"",clearable:"",debounce:1e3,"clear-icon":"clear","input-class":e.form_conf.inputclass,readonly:e.form_isprocessing,modelValue:e.local_trans_payment.check.check_bus_style,"onUpdate:modelValue":t[18]||(t[18]=t=>e.local_trans_payment.check.check_bus_style=t),label:"Business Style",tabindex:e.getTransIndex("payment_options",3,5),onKeyup:t[19]||(t[19]=t=>e.modKey(t)),rules:[t=>e.checker.input(e.payCheckInputRules(t),500)]},{prepend:(0,n.w5)((()=>[(0,n.Wm)(B,{name:"business"})])),_:1},8,["input-class","readonly","modelValue","tabindex","rules"])])])):(0,n.kq)("",!0)])),_:1})])),_:1})],2))])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1}),(0,n.Wm)(J,{class:"row justify-center items-center full-width q-pb-xl"},{default:(0,n.w5)((()=>[(0,n.Wm)(G,{class:"col"},{default:(0,n.w5)((()=>[(0,n._)("div",{class:"self-center",style:(0,o.j5)("z-index: 1; width: "+(e.$q.screen.gt.lg?"70vw":e.$q.screen.gt.md?"90%":"100%"))},[(0,n.Wm)(se,{ref:"transactionsTable"},null,512)],4)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,n.Wm)(pe,{autofocus:"",modelValue:e.dialog_transactions_options,"onUpdate:modelValue":t[21]||(t[21]=t=>e.dialog_transactions_options=t),"transition-duration":50,"transition-show":"scale","transition-hide":"scale"},{default:(0,n.w5)((()=>[(0,n.Wm)(ne,{style:{width:"450px","max-width":"80vw","border-radius":"15px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(ce,{class:"bg-accent text-white"},{default:(0,n.w5)((()=>[(0,n.Wm)(B,{name:"payment"}),(0,n._)("div",null,(0,o.zw)(`[ ${e.local_transactions_length} ] - Transaction${e.local_transactions_length>1?"s":""}`),1),(0,n.Wm)(re),(0,n.wy)(((0,n.wg)(),(0,n.j4)(K,{flat:"",round:"",dense:"",icon:"close"},{default:(0,n.w5)((()=>[(0,n.Wm)(L,null,{default:(0,n.w5)((()=>[P])),_:1})])),_:1})),[[ge]])])),_:1}),(0,n.Wm)(de,null,{default:(0,n.w5)((()=>[(0,n._)("div",I,[(0,n.Wm)(B,{name:"help_outline",size:"lg"}),A])])),_:1}),(0,n.Wm)(de,{class:"q-pt-none"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e.dialog_multiple_transactions?`Please verify ${e.local_transactions_length} transactions before you proceed.`:`Would you like to process payment${e.local_transactions_length>1?"s":""} or add more transaction?`),1)])),_:1}),(0,n.Wm)(ue),(0,n.Wm)(me,{align:"right"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(K,{flat:"",ripple:"","no-caps":"",unelevated:"",rounded:"",color:"accent",icon:e.dialog_multiple_transactions?"arrow_back_ios_new":"add",label:e.dialog_multiple_transactions?"Back":"Add Transaction",onClick:t[20]||(t[20]=t=>e.dialog_multiple_transactions?void 0:e.addTransaction())},null,8,["icon","label"]),[[ge]]),(0,n.wy)((0,n.Wm)(K,{ripple:"","no-caps":"",unelevated:"",autofocus:"",rounded:"",icon:"shield",color:"accent",style:{padding:"0 20px"},ref:"PopupButtonConfirmTransaction",label:"Process Payment"+(e.local_transactions_length>1?"s":""),onClick:e.submitTransactions},null,8,["label","onClick"]),[[ge]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(fe,{position:"bottom-right",offset:e.fabPos,style:{"z-index":"8"}},{default:(0,n.w5)((()=>[e.$root.isTeller?(0,n.wy)(((0,n.wg)(),(0,n.j4)(K,{key:1,fab:"",unelevated:"",icon:"add",color:"primary",onClick:e.addTransaction,ripple:{color:"secondary"},disable:e.form_isprocessing||e.draggingFab},{default:(0,n.w5)((()=>[(0,n.Wm)(L,{delay:500,offset:[10,10],self:"center end",anchor:"center start","transition-show":"scale","transition-hide":"scale",class:"text-body2 bg-primary"},{default:(0,n.w5)((()=>[(0,n.Wm)(B,{name:"exposure_plus_1",clas:"bg-accent"}),V])),_:1})])),_:1},8,["onClick","disable"])),[[be,e.moveFab,void 0,{prevent:!0,mouse:!0}]]):(0,n.wy)(((0,n.wg)(),(0,n.j4)(he,{key:0,unelevated:"",icon:"add",direction:"up",color:"primary",class:"hover-animate-rotate-icon",modelValue:e.fabAdminAction,"onUpdate:modelValue":t[24]||(t[24]=t=>e.fabAdminAction=t),"vertical-actions-align":"right",ripple:{color:"secondary"},disable:e.form_isprocessing||e.draggingFab},{default:(0,n.w5)((()=>[(0,n.Wm)(_e,{class:"q-px-md","label-position":"left",color:"primary",icon:"notification_add",label:"Create Notification",disable:e.form_isprocessing||e.draggingFab,onClick:t[22]||(t[22]=t=>e.$root.dialogAddNotif=!e.$root.dialogAddNotif)},null,8,["disable"]),(0,n.Wm)(_e,{class:"q-px-md","label-position":"left",color:"secondary",icon:"payment",label:"Add Transaction",disable:e.form_isprocessing||e.draggingFab,onClick:e.addTransaction},null,8,["disable","onClick"]),(0,n.Wm)(_e,{class:"q-px-md","label-position":"left",color:"accent",icon:"person_add",label:"Add New User",disable:e.form_isprocessing||e.draggingFab,onClick:t[23]||(t[23]=t=>e.$root.dialogAddUser=!e.$root.dialogAddUser)},null,8,["disable"])])),_:1},8,["modelValue","disable"])),[[be,e.moveFab,void 0,{prevent:!0,mouse:!0}]])])),_:1},8,["offset"]),(0,n.Wm)(pe,{seamless:"",position:"bottom",modelValue:e.seamless_card,"onUpdate:modelValue":t[26]||(t[26]=t=>e.seamless_card=t),style:{"z-index":"9"},"transition-duration":100,"transition-show":"slide-up","transition-hide":"slide-down"},{default:(0,n.w5)((()=>[(0,n.Wm)(ne,{style:{width:"350px","border-radius":"15px 15px 0 0"}},{default:(0,n.w5)((()=>[(0,n.Wm)(we,{value:!e.transactionsReady||e.form_isprocessing?0:1,color:"primary"},null,8,["value"]),(0,n.Wm)(de,{class:"row items-center no-wrap"},{default:(0,n.w5)((()=>[(0,n._)("div",null,[(0,n._)("div",R,[e.inputs_empty?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(B,{key:0,name:e.transactionsReady?e.payViaCheck?"credit_score":"payments":"warning",size:"sm",color:!e.transactionsReady||e.form_isprocessing?"":"primary"},null,8,["name","color"])),(0,n.Uk)(" "+(0,o.zw)(`${e.format.capitalize(e.local_trans_options.paymethod||"")}`)+" ",1),(0,n.Wm)(B,{size:"md",name:"php",color:"grey-7"}),(0,n._)("span",z,(0,o.zw)(e.formatMoney(e.local_trans_options.total_amount)),1)]),(0,n._)("div",Q,(0,o.zw)(e.transactionsReady?`Process ${e.local_transactions_length} transaction${e.local_transactions_length>1?"s":""}.`:e.inputs_empty?"Add transaction details.":"Review transaction details."),1)]),(0,n.Wm)(re),(0,n.Wm)(K,{flat:"",round:"",icon:"send",ripple:{color:"primary"},loading:e.form_isprocessing,disable:!e.transactionsReady||e.form_isprocessing,color:!e.transactionsReady||e.form_isprocessing?"":"primary",onClick:e.submitTransactions},{default:(0,n.w5)((()=>[(0,n.Wm)(L,{class:"bg-blue-4"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)("Process Payment"+(e.local_transactions_length>1?"s":"")),1)])),_:1})])),_:1},8,["loading","disable","color","onClick"]),(0,n.Wm)(K,{flat:"",round:"",icon:"restart_alt",ripple:{color:"primary"},loading:e.form_isprocessing,disable:e.form_isprocessing,class:"hover-animate-rotate-rev-icon",onClick:e.resetAllTransaction},{default:(0,n.w5)((()=>[(0,n.Wm)(L,{class:"bg-red-4"},{default:(0,n.w5)((()=>[j])),_:1})])),_:1},8,["loading","disable","onClick"])])),_:1}),(0,n.Wm)(X,{rounded:"",floating:"",transparent:"",style:{top:"5px",right:"0"},class:"bg-transparent text-grey-6"},{default:(0,n.w5)((()=>[(0,n.Wm)(K,{flat:"",round:"",icon:"remove",size:"xs",onClick:t[25]||(t[25]=t=>e.seamless_card=!1)},{default:(0,n.w5)((()=>[(0,n.Wm)(L,{class:"bg-grey-6 text-white"},{default:(0,n.w5)((()=>[M])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(pe,{modelValue:e.dialogMoreDetails,"onUpdate:modelValue":t[29]||(t[29]=t=>e.dialogMoreDetails=t),"transition-duration":100,"transition-show":"scale","transition-hide":"scale"},{default:(0,n.w5)((()=>[(0,n.Wm)(ye,(0,n.dG)({onSave:e.saveTransInfo,onClose:t[27]||(t[27]=()=>{e.selectedTrans=null,e.focusBackInput(),e.dialogMoreDetails=!1}),onCancel:t[28]||(t[28]=()=>{e.selectedTrans=null,e.dialogMoreDetails=!1})},e.genMoreTransInfo()),null,16,["onSave"])])),_:1},8,["modelValue"])],64)}a(65363),a(97768);var F=a(59063),N=a(26386),K=a(48825),Y=a(82130),B=a(11185),L=a(25616),E=a(33437),H=a(33317),X=a(93617);a(92100);const G=(0,n.Uk)(" Show Receipt for "),J=(0,n.Uk)(" Transaction "),ee=(0,n.Uk)("Receipt"),te=(0,n.Uk)("Copy Transaction"),ae=(0,n.Uk)("Clear All Selected"),ne=["onClick"],oe={key:4},se=(0,n.Uk)("Cancel"),le=(0,n.Uk)("Save"),ie={class:"q-gutter-sm"},re=(0,n.Uk)(" No Phone "),ce=(0,n.Uk)(" No Email "),de={class:"row justify-center items-center q-table__title q-gutter-x-sm q-mb-sm"},ue=(0,n._)("img",{class:"col-4",style:{width:"45px"},src:"assets/icons/favicon-32x32.png"},null,-1),me={class:"column"},pe=(0,n._)("div",{class:"col"},"Recent transactions",-1),_e={class:"col text-caption q-gutter-x-xs"},he={key:0},fe=(0,n.Uk)("Display Data"),we=(0,n.Uk)("Users"),ye=(0,n.Uk)("Select User"),ge=(0,n.Uk)("All Users"),be=(0,n.Uk)("Select Branch"),ke=(0,n.Uk)("All Branch"),ve=(0,n.Uk)("View Options"),Ce=(0,n.Uk)("Today's Transaction Only"),xe=(0,n.Uk)("Canceled Payments"),We=(0,n.Uk)("Compact View"),qe=(0,n.Uk)("View Options"),$e=(0,n.Uk)("Refresh Data"),Te={class:"text-grey-6"},De=(0,n.Uk)(" H "),Ue=(0,n.Uk)(" Header "),Se=(0,n.Uk)("Receipt Header"),Ze={class:"text-grey-6"},Pe=(0,n.Uk)(" F "),Ie=(0,n.Uk)(" Footer "),Ae=(0,n.Uk)("Receipt Footer"),Ve={class:"row justify-center items-center q-gutter-x-xs q-mb-sm"},Re=(0,n.Uk)("Export to CSV"),ze={class:"q-gutter-x-sm q-virtual-scroll--skip"},Qe=(0,n.Uk)(" Autoscroll "),je=(0,n.Uk)(" Automatic Scrolling "),Me={class:"full-width row flex-center text-primary q-gutter-sm"};function Oe(e,t,a,l,i,r){const c=(0,n.up)("q-badge"),d=(0,n.up)("q-tooltip"),u=(0,n.up)("q-btn"),m=(0,n.up)("q-th"),p=(0,n.up)("q-tr"),_=(0,n.up)("q-item-label"),h=(0,n.up)("q-icon"),f=(0,n.up)("q-item-section"),w=(0,n.up)("q-item"),y=(0,n.up)("q-list"),g=(0,n.up)("q-menu"),b=(0,n.up)("q-td"),k=(0,n.up)("q-input"),v=(0,n.up)("q-popup-edit"),C=(0,n.up)("q-separator"),x=(0,n.up)("q-select"),W=(0,n.up)("q-table"),q=(0,n.up)("TransactionInfo"),$=(0,n.up)("q-dialog"),T=(0,n.up)("TransactionCheckInfo"),D=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.iD)(n.HY,null,[e.$root.isLogin?((0,n.wg)(),(0,n.j4)(W,{key:0,style:(0,o.j5)(`border-radius: 15px; max-height: ${e.autoScroll?e.tableFullScreen?"100%":"650px":"100%"} !important; ${e._style||""}`),"table-style":e.table_style||"","table-class":[e.table_class,e.tableClass].join(" "),"card-class":e.card_class||"","card-style":e.card_style||"",separator:e.separator,loading:e.loading,dense:e.dense,tabindex:"0","row-key":"trans_id",color:"primary",filteredSortedRows:"","binary-state-sort":"",rows:e.data,columns:e.columns,filter:e.filter,selection:"multiple",selected:e.selected,"onUpdate:selected":t[21]||(t[21]=t=>e.selected=t),expanded:e.expanded,"onUpdate:expanded":t[22]||(t[22]=t=>e.expanded=t),pagination:e.pagination,"onUpdate:pagination":t[23]||(t[23]=t=>e.pagination=t),"visible-columns":e.visibleColumns,onKeydown:e.onKey,onRequest:e.onRequest,onFocusin:t[24]||(t[24]=t=>e.navigationActive=!0),onFocusout:t[25]||(t[25]=t=>e.navigationActive=!1),ref:"myTransactionsTable",class:(0,o.C_)(["q-pa-sm q-px-lg",e._class]),"no-results-label":"The filter didn't uncover any results.","no-data-label":"I didn't find anything for you.","loading-label":"Getting data from the server.","rows-per-page-label":"Transactions per page","selected-rows-label":e.getSelectedString,"rows-per-page-options":e.rowsPerPageOptions(e.autoScroll),"virtual-scroll":"",onVirtualScroll:e.onScroll,"virtual-scroll-item-size":e.dense?24:48,"virtual-scroll-sticky-size-start":e.dense?24:48},(0,n.Nv)({header:(0,n.w5)((a=>[(0,n.Wm)(p,{props:a,class:(0,o.C_)(e.$root.app_settings.darkmode?"bg-grey-10":"bg-grey-1")},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{"auto-width":"",style:{position:"sticky",top:"0",left:"0","z-index":"3"}},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{flat:"",round:"",ripple:"",size:"md",icon:"print",disable:!e.selected.length,color:e.selected.length?"primary":e.$root.app_settings.darkmode?"grey-9":"blue-1",onClick:t[0]||(t[0]=t=>e.printSelectedReceipt())},{default:(0,n.w5)((()=>[e.selected.length?((0,n.wg)(),(0,n.j4)(d,{key:0,delay:1e3,class:(0,o.C_)(["text-caption",e.$root.app_settings.darkmode?"bg-accent":"bg-primary"])},{default:(0,n.w5)((()=>[G,(0,n.Wm)(c,{color:e.$root.app_settings.darkmode?"primary":"accent"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e.selected.length),1)])),_:1},8,["color"]),(0,n.Uk)(" transaction"+(0,o.zw)(e.selected.length>1?"s":""),1)])),_:1},8,["class"])):(0,n.kq)("",!0)])),_:1},8,["disable","color"])])),_:1}),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.cols,(e=>((0,n.wg)(),(0,n.j4)(m,{"auto-width":"",props:a,key:e.name,class:"q-py-none",style:{position:"sticky",top:"0","z-index":"2"}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e.label),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props","class"])])),body:(0,n.w5)((a=>[(0,n.Wm)(p,{props:a,onContextmenu:(0,s.iM)((t=>e.showCustomMenu(a)),["prevent"])},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{"context-menu":"","touch-position":"","transition-duration":250,"transition-show":"jump-down","transition-hide":"jump-up",class:"q-virtual-scroll--skip"},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{style:{"min-width":"100px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{header:""},{default:(0,n.w5)((()=>[J,(0,n.Wm)(c,{transparent:""},{default:(0,n.w5)((()=>[(0,n.Uk)("#"+(0,o.zw)(e.moreTransOptions.row.trans_id),1)])),_:1})])),_:1}),(0,n.wy)(((0,n.wg)(),(0,n.j4)(w,{clickable:"",class:"hover-text-primary",onClick:t[1]||(t[1]=t=>e.toggleSelected(e.moreTransOptions.selected,e.moreTransOptions.row))},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{avatar:"",style:{"min-width":"unset"}},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{name:e.moreTransOptions.selected?"highlight_off":"task_alt"},null,8,["name"])])),_:1}),(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e.moreTransOptions.selected?"Unselect":"Select"),1)])),_:1})])),_:1})),[[D]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(w,{clickable:"",class:"hover-text-primary",onClick:t[2]||(t[2]=t=>e.printSelectedReceipt(e.moreTransOptions.row.trans_id))},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{avatar:"",style:{"min-width":"unset"}},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{name:"print"})])),_:1}),(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[ee])),_:1})])),_:1})),[[D]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(w,{clickable:"",class:"hover-text-primary",onClick:t[3]||(t[3]=t=>e.moreTransOptions.expand=!e.moreTransOptions.expand)},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{avatar:"",style:{"min-width":"unset"}},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{name:e.moreTransOptions.expand?"unfold_less":"unfold_more"},null,8,["name"])])),_:1}),(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n.Uk)(" Expand "+(0,o.zw)(e.moreTransOptions.expand?"Less":"More"),1)])),_:1})])),_:1})),[[D]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(w,{clickable:"",class:"hover-text-primary",onClick:t[4]||(t[4]=t=>e.$root.fnCopyToClipboard(JSON.stringify(e.moreTransOptions.row),"Transaction Details"))},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{avatar:"",style:{"min-width":"unset"}},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{name:"copy_all"})])),_:1}),(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[te])),_:1})])),_:1})),[[D]]),e.selected.length?(0,n.wy)(((0,n.wg)(),(0,n.j4)(w,{key:0,clickable:"",class:"hover-text-primary",onClick:t[5]||(t[5]=t=>e.selected=[])},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{avatar:"",style:{"min-width":"unset"}},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{name:"clear_all"})])),_:1}),(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[ae])),_:1})])),_:1})),[[D]]):(0,n.kq)("",!0)])),_:1})])),_:1}),(0,n.Wm)(b,{class:(0,o.C_)(["cursor-pointer text-center",e.$root.app_settings.darkmode?"bg-grey-10":"bg-grey-1"]),style:{position:"sticky",left:"0","z-index":"1"},onDblclick:e=>a.expand=!a.expand,onClick:t=>e.toggleSelected(a.selected,a.row)},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{round:"",size:e.dense?"xs":"sm",style:{cursor:"grab"},class:"no-shadow text-center",icon:a.expand?"remove":"add",outline:!a.selected,color:a.row.deleted?"negative":"primary"},null,8,["size","icon","outline","color"])])),_:2},1032,["class","onDblclick","onClick"]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Object.keys(a.row),(l=>((0,n.wg)(),(0,n.j4)(b,{props:a,key:l,class:(0,o.C_)([a.row.date_paid&&e.$root.realtimeDate&&e.date.getDateDiff(e.$root.realtimeDate,new Date(a.row.date_paid),"minutes")<=1?(e.$root.app_settings.darkmode?"bg-green-2":"bg-green-1")+" text-dark":"",a.row.deleted?(e.$root.app_settings.darkmode?"bg-red-2":"bg-red-1")+" text-dark":"OverTheCounter"!=a.row.channel?(e.$root.app_settings.darkmode?"bg-blue-2":"bg-blue-1")+" text-dark":""].join(" ")),onDblclick:(0,s.iM)((t=>e.$root.fnCopyToClipboard(a.colsMap[l].format(a.row[l],null,!1,"date_paid"==l?e.plain_date_paid:void 0),a.colsMap[l].label)),["prevent"])},{default:(0,n.w5)((()=>["id"==l?((0,n.wg)(),(0,n.j4)(c,{key:0,color:e.$root.app_settings.darkmode?"grey-9":"grey-6"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(a.colsMap[l].format(a.row[l])),1)])),_:2},1032,["color"])):"paymethod"==l?((0,n.wg)(),(0,n.j4)(c,{key:1,color:"cash"==a.row[l].toLowerCase()?"accent":"teal",onDblclick:()=>{"check"==a.row[l].toLowerCase()&&(e.dialogTransCheckInfo=!0,e.view_trans=a.row)}},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{name:"cash"==a.row[l].toLowerCase()?"payment":"credit_score",size:"xs"},null,8,["name"]),(0,n.Uk)(" "+(0,o.zw)(a.colsMap[l].format(a.row[l])),1)])),_:2},1032,["color","onDblclick"])):"trans_id"==l?((0,n.wg)(),(0,n.iD)("div",{key:2,style:{cursor:"copy"},onClick:t=>e.$root.fnCopyToClipboard(a.colsMap[l].format(a.row[l]),a.colsMap[l].label)},(0,o.zw)(a.colsMap[l].format(a.row[l])),9,ne)):"date_paid"==l?((0,n.wg)(),(0,n.iD)("div",{key:3,style:{cursor:"pointer"},onClick:t[6]||(t[6]=t=>e.plain_date_paid=!e.plain_date_paid)},(0,o.zw)(e.plain_date_paid?e.date.formatDate(a.row[l],"ddd MMM D, YYYY h:mma"):a.colsMap[l].format(a.row[l])),1)):((0,n.wg)(),(0,n.iD)("div",oe,(0,o.zw)(a.colsMap[l].format(a.row[l])),1)),e.popupEditableColumns.includes(l)?((0,n.wg)(),(0,n.j4)(v,{key:5,cover:"",modelValue:a.row[l],"onUpdate:modelValue":e=>a.row[l]=e,title:a.colsMap[l].label,onSave:(t,n)=>e.popupSubmit(l,t,a),style:{"border-radius":"15px"}},{default:(0,n.w5)((e=>[(0,n.Wm)(k,{dense:"",counter:"",autofocus:"",modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,onKeyup:(0,s.D2)(e.set,["enter"])},{prepend:(0,n.w5)((()=>[(0,n.Wm)(h,{name:"edit",size:"sm"})])),append:(0,n.w5)((()=>[(0,n.Wm)(u,{flat:"",round:"",dense:"",color:"negative",icon:"cancel",onClick:(0,s.iM)(e.cancel,["stop"])},{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[se])),_:1})])),_:2},1032,["onClick"]),(0,n.Wm)(u,{flat:"",round:"",dense:"",color:"positive",icon:"check_circle",onClick:(0,s.iM)(e.set,["stop"]),disable:!1===e.validate(e.value)||e.initialValue===e.value},{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[le])),_:1})])),_:2},1032,["onClick","disable"])])),_:2},1032,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue","title","onSave"])):(0,n.kq)("",!0),a.row.deleted||"OverTheCounter"!=a.row.channel?((0,n.wg)(),(0,n.j4)(d,{key:6,class:(0,o.C_)(a.row.deleted?"bg-red-4":"OverTheCounter"!=a.row.channel?"bg-blue-4":"")},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{name:a.row.deleted?"delete":(a.row.channel,"info"),size:"sm"},null,8,["name"]),(0,n.Uk)(" "+(0,o.zw)(a.row.deleted&&"OverTheCounter"!=a.row.channel?"Deleted - (Channel: "+a.row.channel+")":a.row.deleted?"Deleted":"OverTheCounter"!=a.row.channel?"Channel: "+a.row.channel:""),1)])),_:2},1032,["class"])):(0,n.kq)("",!0)])),_:2},1032,["props","class","onDblclick"])))),128))])),_:2},1032,["props","onContextmenu"]),a.expand?((0,n.wg)(),(0,n.j4)(p,{key:0,props:a,class:"q-virtual-scroll--skip"},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{colspan:"100%"},{default:(0,n.w5)((()=>[(0,n._)("div",ie,[(0,n.Wm)(u,{size:"sm",unelevated:"",color:"primary",icon:"receipt",label:"Show Details",onClick:()=>{e.view_trans=a.row,e.dialogTransInfo=!0}},null,8,["onClick"]),a.row.check_no?((0,n.wg)(),(0,n.j4)(u,{key:0,size:"sm",unelevated:"",color:"accent",icon:"credit_score",label:`About Cheque #${a.row.check_no}`,onClick:()=>{e.view_trans=a.row,e.dialogTransCheckInfo=!0}},null,8,["label","onClick"])):(0,n.kq)("",!0),"Internet"!=a.row.channel||"no"!=a.row.channel_online_confirmed&&e.$root.isTeller?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(u,{key:1,"no-caps":"",size:"sm",unelevated:"",color:"Y"==a.row.channel_online_confirmed?"grey":"orange-8",icon:"Y"==a.row.channel_online_confirmed?"cancel":"verified_user",disable:"yes"==a.row.channel_online_confirmed&&e.$root.isTeller,label:("yes"==a.row.channel_online_confirmed?"Unconfirm":"Confirm")+" Online Transaction",onClick:t=>e.confirmOnlineTransaction(a)},null,8,["color","icon","disable","label","onClick"])),(0,n.Wm)(u,{"no-caps":"",size:"sm",unelevated:"",color:"green",icon:"phone",target:"_blank",label:"CALL"+(a.row.phone?": "+a.row.phone:""),disable:!a.row.phone,href:`tel:${a.row.phone||""}`},{default:(0,n.w5)((()=>[a.row.phone?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(d,{key:0,class:"bg-negative"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{name:"block",size:"13px"}),re])),_:1}))])),_:2},1032,["label","disable","href"]),(0,n.Wm)(u,{"no-caps":"",size:"sm",unelevated:"",color:"teal",icon:"email",target:"_blank",label:"EMAIL"+(a.row.email?": "+a.row.email:""),disable:!a.row.email,href:`mailto:${a.row.email||""}`},{default:(0,n.w5)((()=>[a.row.email?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(d,{key:0,class:"bg-negative"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{name:"block",size:"13px"}),ce])),_:1}))])),_:2},1032,["label","disable","href"]),e.$root.isTeller?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(u,{key:2,size:"sm",unelevated:"",color:"negative",icon:a.row.deleted?"restore":"delete",label:(a.row.deleted?"Un-":"")+"Delete",onClick:t=>e.confirmDeleteUndo(a,!!a.row.deleted)},null,8,["icon","label","onClick"]))])])),_:2},1024)])),_:2},1032,["props"])):(0,n.kq)("",!0)])),"top-left":(0,n.w5)((()=>[(0,n._)("div",de,[ue,(0,n._)("div",me,[pe,(0,n._)("div",_e,[(0,n.Wm)(u,{flat:!e.custom_view_show,round:"",dense:"",size:"sm",unelevated:"",icon:"settings",color:e.custom_view_show?"primary":"grey-6",class:(0,o.C_)(e.custom_view_show?"":"hover-text-primary")},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{modelValue:e.custom_view_show,"onUpdate:modelValue":t[14]||(t[14]=t=>e.custom_view_show=t),"transition-duration":250,"transition-show":"jump-down","transition-hide":"jump-up",class:"text-grey-9 q-virtual-scroll--skip"},{default:(0,n.w5)((()=>[(0,n.Wm)(y,null,{default:(0,n.w5)((()=>[e.$root.isTeller?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",he,[(0,n.Wm)(_,{header:""},{default:(0,n.w5)((()=>[fe])),_:1}),(0,n.Wm)(w,{clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{color:"primary",name:e.user_filter.length?"indeterminate_check_box":"check_box"},null,8,["name"])])),_:1}),(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[we])),_:1})])),_:1}),(0,n.Wm)(g,{modelValue:e.custom_view_user_show,"onUpdate:modelValue":t[8]||(t[8]=t=>e.custom_view_user_show=t),anchor:"top end",self:"top start",class:"text-grey-9",style:{"min-width":"175px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(y,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,{header:""},{default:(0,n.w5)((()=>[ye])),_:1}),(0,n.Wm)(w,{clickable:"",onClick:t[7]||(t[7]=t=>e.user_filter=[])},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{color:e.user_filter.length?e.$root.app_settings.darkmode?"grey-8":"grey-5":"primary",name:e.user_filter.length?"check_box_outline_blank":"check_box"},null,8,["color","name"])])),_:1}),(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[ge])),_:1})])),_:1})])),_:1}),(0,n.Wm)(C,{inset:"item",style:{opacity:"0.25"},color:"grey-6"}),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Object.keys(e.users),((t,a)=>((0,n.wg)(),(0,n.iD)("div",{key:t},[(0,n.Wm)(w,{clickable:"",onClick:()=>{e.user_filter.indexOf(t)>=0?e.user_filter.splice(e.user_filter.indexOf(t),1):e.user_filter.push(t)}},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{color:e.user_filter.includes(t)?"primary":e.$root.app_settings.darkmode?"grey-8":"grey-5",name:e.user_filter.includes(t)?"check_box":"check_box_outline_blank"},null,8,["color","name"])])),_:2},1024),(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Uk)("#"+(0,o.zw)(t),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"]),a+1<Object.keys(e.users).length?((0,n.wg)(),(0,n.j4)(C,{key:0,inset:"item",style:{opacity:"0.25"},color:"grey-6"})):(0,n.kq)("",!0)])))),128))])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,n.Wm)(C,{inset:"item",style:{opacity:"0.25"},color:"grey-6"}),(0,n.Wm)(w,{clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{color:e.$root.isLogin&&e.$root.accessLevel<2?"primary":e.$root.app_settings.darkmode?"grey-8":"grey-5",name:e.branch_filter.length?"indeterminate_check_box":"check_box"},null,8,["color","name"])])),_:1}),(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e.$root.isLogin&&e.$root.accessLevel>1?"This Branch":"Branches"),1)])),_:1}),e.$root.isLogin&&e.$root.accessLevel>1?((0,n.wg)(),(0,n.j4)(d,{key:0,anchor:"center right",self:"center left"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e.getObj(e.authenticated,"data.branch_location")),1)])),_:1})):(0,n.kq)("",!0)])),_:1}),e.$root.isLogin&&e.$root.accessLevel<2?((0,n.wg)(),(0,n.j4)(g,{key:0,modelValue:e.custom_view_branch_show,"onUpdate:modelValue":t[10]||(t[10]=t=>e.custom_view_branch_show=t),anchor:"top end",self:"top start",class:"text-grey-9",style:{"min-width":"175px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(y,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,{header:""},{default:(0,n.w5)((()=>[be])),_:1}),(0,n.Wm)(w,{clickable:"",onClick:t[9]||(t[9]=t=>e.branch_filter=[])},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{color:e.branch_filter.length?e.$root.app_settings.darkmode?"grey-8":"grey-5":"primary",name:e.branch_filter.length?"check_box_outline_blank":"check_box"},null,8,["color","name"])])),_:1}),(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[ke])),_:1})])),_:1})])),_:1}),(0,n.Wm)(C,{inset:"item",style:{opacity:"0.25"},color:"grey-6"}),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.branches,((t,a)=>((0,n.wg)(),(0,n.iD)("div",{key:t},[(0,n.Wm)(w,{clickable:"",onClick:()=>{e.branch_filter.indexOf(t)>=0?e.branch_filter.splice(e.branch_filter.indexOf(t),1):e.branch_filter.push(t)}},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{color:e.branch_filter.includes(t)?"primary":e.$root.app_settings.darkmode?"grey-8":"grey-5",name:e.branch_filter.includes(t)?"check_box":"check_box_outline_blank"},null,8,["color","name"])])),_:2},1024),(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(t),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"]),a+1<e.branches.length?((0,n.wg)(),(0,n.j4)(C,{key:0,inset:"item",style:{opacity:"0.25"},color:"grey-6"})):(0,n.kq)("",!0)])))),128))])),_:1})])),_:1},8,["modelValue"])):(0,n.kq)("",!0)])),_:1})])),(0,n.Wm)(_,{header:""},{default:(0,n.w5)((()=>[ve])),_:1}),(0,n.Wm)(w,{clickable:"",onClick:t[11]||(t[11]=t=>e.viewAllTransaction=!e.viewAllTransaction)},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{color:e.viewAllTransaction?e.$root.app_settings.darkmode?"grey-8":"grey-5":"primary",name:e.viewAllTransaction?"date_range":"today"},null,8,["color","name"])])),_:1}),(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[Ce])),_:1})])),_:1})])),_:1}),(0,n.Wm)(C,{inset:"item",style:{opacity:"0.25"},color:"grey-6"}),(0,n.Wm)(w,{clickable:"",onClick:t[12]||(t[12]=t=>e.viewDeleted=!e.viewDeleted)},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{color:e.viewDeleted?"primary":e.$root.app_settings.darkmode?"grey-8":"grey-5",name:e.viewDeleted?"visibility":"visibility_off"},null,8,["color","name"])])),_:1}),(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[xe])),_:1})])),_:1})])),_:1}),(0,n.Wm)(C,{inset:"item",style:{opacity:"0.25"},color:"grey-6"}),(0,n.Wm)(w,{clickable:"",onClick:t[13]||(t[13]=t=>e.dense=!e.dense)},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{color:e.dense?"primary":e.$root.app_settings.darkmode?"grey-8":"grey-5",name:e.dense?"view_compact":"view_module"},null,8,["color","name"])])),_:1}),(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[We])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(d,{class:"bg-accent"},{default:(0,n.w5)((()=>[qe])),_:1})])),_:1},8,["flat","color","class"]),(0,n.Wm)(u,{flat:!e.loading,round:"",dense:"",size:"sm",unelevated:"",icon:"refresh",color:e.loading?"primary":"grey-6",class:(0,o.C_)([e.loading?"":"hover-text-primary","focus-animate-rotate-360"]),disable:e.loading,onClick:t[15]||(t[15]=t=>{e.onRequestLimited({pagination:e.pagination,filter:e.filter},1e3)})},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{class:"bg-accent"},{default:(0,n.w5)((()=>[$e])),_:1})])),_:1},8,["flat","color","class","disable"]),(0,n._)("span",Te,[(0,n.Wm)(u,{outline:!e.$root.app_settings.receipt.header,unelevated:"",dense:"",round:"","no-caps":"",size:"sm",color:e.$root.app_settings.receipt.header?"primary":"grey-6",onClick:t[16]||(t[16]=t=>e.$root.app_settings.receipt.header=!e.$root.app_settings.receipt.header)},{default:(0,n.w5)((()=>[De])),_:1},8,["outline","color"]),Ue,(0,n.Wm)(d,{class:"bg-accent"},{default:(0,n.w5)((()=>[Se])),_:1})]),(0,n._)("span",Ze,[(0,n.Wm)(u,{outline:!e.$root.app_settings.receipt.footer,unelevated:"",dense:"",round:"","no-caps":"",size:"sm",color:e.$root.app_settings.receipt.footer?"primary":"grey-6",onClick:t[17]||(t[17]=t=>e.$root.app_settings.receipt.footer=!e.$root.app_settings.receipt.footer)},{default:(0,n.w5)((()=>[Pe])),_:1},8,["outline","color"]),Ie,(0,n.Wm)(d,{class:"bg-accent"},{default:(0,n.w5)((()=>[Ae])),_:1})])])])])])),pagination:(0,n.w5)((a=>[(0,n._)("div",ze,[(0,n.Uk)((0,o.zw)(e.paginationLabel)+" ",1),a.pagesNumber>2?((0,n.wg)(),(0,n.j4)(u,{key:0,icon:"first_page",color:"grey-8",round:"",dense:"",flat:"",disable:a.isFirstPage,onClick:a.firstPage,class:"hover-text-primary"},null,8,["disable","onClick"])):(0,n.kq)("",!0),(0,n.Wm)(u,{icon:"chevron_left",color:"grey-8",round:"",dense:"",flat:"",disable:a.isFirstPage,onClick:a.prevPage,class:"hover-text-primary"},null,8,["disable","onClick"]),(0,n.Wm)(u,{icon:"chevron_right",color:"grey-8",round:"",dense:"",flat:"",disable:a.isLastPage,onClick:a.nextPage,class:"hover-text-primary"},null,8,["disable","onClick"]),a.pagesNumber>2?((0,n.wg)(),(0,n.j4)(u,{key:1,icon:"last_page",color:"grey-8",round:"",dense:"",flat:"",disable:a.isLastPage,onClick:a.lastPage,class:"hover-text-primary"},null,8,["disable","onClick"])):(0,n.kq)("",!0),e.withAutoScroll&&e.pagination.rowsNumber>e.pagination.rowsPerPage?((0,n.wg)(),(0,n.j4)(u,{key:2,rounded:"","no-caps":"",unelevated:"",size:"sm",icon:"mouse",class:"q-ml-sm",outline:!e.autoScroll,color:e.autoScroll?"primary":"grey-8",onClick:t[20]||(t[20]=t=>e.autoScroll=!e.autoScroll)},{default:(0,n.w5)((()=>[Qe,(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{transparent:"",class:"bg-transparent"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{name:"mouse",size:"xs"}),je])),_:1})])),_:1})])),_:1},8,["outline","color"])):(0,n.kq)("",!0)])])),"no-data":(0,n.w5)((({icon:t,message:a,filter:s})=>[(0,n._)("div",Me,[(0,n.Wm)(h,{size:"2em",name:e.loading?"downloading":s?"sentiment_dissatisfied":t},null,8,["name"]),(0,n._)("span",null,(0,o.zw)(a),1)])])),_:2},[e.$q.screen.gt.xs?{name:"top-right",fn:(0,n.w5)((a=>[(0,n._)("div",Ve,[(0,n.Wm)(x,{multiple:"",dense:"",rounded:"",outlined:"","emit-value":"","map-options":"","item-aligned":"","options-dense":"","options-cover":"",options:e.columns,"transition-show":"jump-up","transition-hide":"jump-down","option-value":(e,t)=>e?e.name:null,style:{"min-width":"260px"},modelValue:e.visibleColumns,"onUpdate:modelValue":t[18]||(t[18]=t=>e.visibleColumns=t),"display-value":e.$q.lang.table.columns},{option:(0,n.w5)((e=>[(0,n.Wm)(w,(0,n.dG)({class:"col"},e.itemProps,{disable:e.opt.required}),{default:(0,n.w5)((()=>[(0,n.Wm)(f,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{name:e.opt.required?"lock":e.selected?"check":"clear",class:(0,o.C_)(e.opt.required||e.selected?"text-primary":"text-grey-3")},null,8,["name","class"])])),_:2},1024),(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,{class:(0,o.C_)(e.opt.required||e.selected?"text-primary":"text-grey-9")},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e.opt.label),1)])),_:2},1032,["class"])])),_:2},1024)])),_:2},1040,["disable"])])),prepend:(0,n.w5)((()=>[(0,n.Wm)(h,{name:"filter_alt"})])),_:1},8,["options","option-value","modelValue","display-value"]),(0,n.Wm)(k,{dense:"",rounded:"",outlined:"",clearable:"",debounce:"1000","clear-icon":"clear",modelValue:e.filter,"onUpdate:modelValue":t[19]||(t[19]=t=>e.filter=t),placeholder:"Search",class:"q-pa-sm"},{prepend:(0,n.w5)((()=>[(0,n.Wm)(h,{name:"search"})])),_:1},8,["modelValue"]),(0,n.Wm)(u,{flat:"",dense:"",round:"",ripple:"",icon:a.inFullscreen?"fullscreen_exit":"fullscreen",class:"q-pa-sm hover-text-primary",onClick:()=>{e.tableScreenUpdate(a.inFullscreen),a.toggleFullscreen()}},{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(a.inFullscreen?"Minimize":"Maximize"),1)])),_:2},1024)])),_:2},1032,["icon","onClick"]),(0,n.Wm)(u,{flat:"",dense:"",round:"",ripple:"",icon:"archive",class:"q-pa-sm hover-text-primary",onClick:e.exportTable},{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[Re])),_:1})])),_:1},8,["onClick"])])]))}:void 0]),1032,["style","table-style","table-class","card-class","card-style","separator","loading","dense","rows","columns","filter","selected","expanded","pagination","visible-columns","onKeydown","onRequest","class","selected-rows-label","rows-per-page-options","onVirtualScroll","virtual-scroll-item-size","virtual-scroll-sticky-size-start"])):(0,n.kq)("",!0),(0,n.Wm)($,{modelValue:e.dialogTransInfo,"onUpdate:modelValue":t[26]||(t[26]=t=>e.dialogTransInfo=t),"transition-duration":"100","transition-show":"scale","transition-hide":"scale"},{default:(0,n.w5)((()=>[(0,n.Wm)(q,{trans_id:e.view_trans.trans_id},null,8,["trans_id"])])),_:1},8,["modelValue"]),(0,n.Wm)($,{modelValue:e.dialogTransCheckInfo,"onUpdate:modelValue":t[27]||(t[27]=t=>e.dialogTransCheckInfo=t),"transition-duration":"100","transition-show":"scale","transition-hide":"scale"},{default:(0,n.w5)((()=>[(0,n.Wm)(T,{check_no:e.view_trans.check_no},null,8,["check_no"])])),_:1},8,["modelValue"])],64)}a(10071);var Fe=a(12841),Ne=a(49405);const Ke=(0,n.Uk)("Account Details"),Ye={class:"text-grey-6"},Be=(0,n.Uk)("Transaction Information"),Le=(0,n.Uk)(" Transaction Code "),Ee=(0,n.Uk)("Copy"),He=(0,n.Uk)("Date Paid"),Xe=(0,n.Uk)("Payment Method"),Ge=(0,n.Uk)("Check Details"),Je=(0,n.Uk)("Amount Paid"),et=(0,n.Uk)("Transaction Fee"),tt=(0,n.Uk)("Total Amount Paid"),at=(0,n.Uk)(" (Amount paid + Transaction fee) ");function nt(e,t,a,l,i,r){const c=(0,n.up)("q-icon"),d=(0,n.up)("q-item-section"),u=(0,n.up)("q-item"),m=(0,n.up)("q-separator"),p=(0,n.up)("q-card-section"),_=(0,n.up)("q-btn"),h=(0,n.up)("QRCodeStyle"),f=(0,n.up)("q-slide-transition"),w=(0,n.up)("q-tooltip"),y=(0,n.up)("q-item-label"),g=(0,n.up)("q-card-actions"),b=(0,n.up)("q-card"),k=(0,n.up)("TransactionCheckInfo"),v=(0,n.up)("q-dialog"),C=(0,n.Q2)("close-popup");return e.transactionInfo?((0,n.wg)(),(0,n.j4)(b,{key:0,style:{"border-radius":"15px",width:"450px","max-width":"80vw"}},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{flat:"",class:"q-ma-sm q-mb-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{class:"q-ma-none q-pa-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{class:"rounded-borders q-mx-sm q-pb-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{class:"text-h6 text-grey-5"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{thumbnail:""},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{name:"perm_identity",class:"text-primary"})])),_:1}),(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[Ke])),_:1})])),_:1}),(0,n.Wm)(m)])),_:1}),(0,n.Wm)(p,{class:"rounded-borders q-my-none q-py-none q-mx-sm"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{class:"text-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{class:"text-h6 text-primary text-weight-bold"},{default:(0,n.w5)((()=>[(0,n._)("div",null,[(0,n.Uk)((0,o.zw)(e.transactionInfo.account_name)+" ",1),(0,n._)("span",Ye,(0,o.zw)(`#${e.transactionInfo.account_id}`),1)])])),_:1})])),_:1})])),_:1}),(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,{class:"text-h6 text-grey-5"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{thumbnail:""},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{name:"info",class:"text-primary"})])),_:1}),(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[Be])),_:1}),(0,n.Wm)(d,{side:""},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{flat:"",round:"",size:"md",icon:"qr_code",color:"grey-6",class:"hover-text-primary",onClick:t[0]||(t[0]=t=>e.showQRCode=!e.showQRCode)})])),_:1})])),_:1}),(0,n.Wm)(f,{duration:500},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("div",null,[(0,n.Wm)(u,{class:"text-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{qr_value:e.trans_id,qr_width:300,qr_height:300},null,8,["qr_value"])])),_:1})],512),[[s.F8,e.showQRCode]])])),_:1}),(0,n._)("div",{style:{"border-radius":"15px"},class:(0,o.C_)(["rounded-borders q-pa-xs",e.$q.dark.isActive?"bg-grey-9":"bg-grey-2"])},[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(y,{lines:"1"},{default:(0,n.w5)((()=>[Le,(0,n.Wm)(_,{flat:"",round:"",size:"xs",color:"grey-6",icon:"content_copy",onClick:t[1]||(t[1]=t=>e.$root.fnCopyToClipboard(e.transactionInfo.trans_id,"Transaction Id")),class:"hover-text-primary"},{default:(0,n.w5)((()=>[(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[Ee])),_:1})])),_:1})])),_:1})])),_:1}),(0,n.Wm)(d,{side:"",class:"text-weight-bold"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e.transactionInfo.trans_id),1)])),_:1})])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(y,{lines:"1"},{default:(0,n.w5)((()=>[He])),_:1})])),_:1}),(0,n.Wm)(d,{side:"",class:"text-weight-bold"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e.date.formatDate(e.transactionInfo.date_paid,"MMMM D, YYYY h:mm:ssA")),1)])),_:1})])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(y,{lines:"1"},{default:(0,n.w5)((()=>[Xe])),_:1})])),_:1}),(0,n.Wm)(d,{side:"",class:"text-weight-bold"},{default:(0,n.w5)((()=>[(0,n._)("div",null,[e.transactionInfo.check_no?((0,n.wg)(),(0,n.j4)(_,{key:0,flat:"",round:"",size:"md",color:"grey-6",icon:"credit_score",onClick:t[2]||(t[2]=t=>e.dialogTransCheckInfo=!e.dialogTransCheckInfo),class:"hover-text-primary"},{default:(0,n.w5)((()=>[(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[Ge])),_:1})])),_:1})):(0,n.kq)("",!0),(0,n.Uk)(" "+(0,o.zw)(e.transactionInfo.paymethod),1)])])),_:1})])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(y,{lines:"1"},{default:(0,n.w5)((()=>[Je])),_:1})])),_:1}),(0,n.Wm)(d,{side:"",class:"text-weight-bold"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e.formatMoney(e.transactionInfo.amount_paid))+" PHP ",1)])),_:1})])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(y,{lines:"1"},{default:(0,n.w5)((()=>[et])),_:1})])),_:1}),(0,n.Wm)(d,{side:"",class:"text-weight-bold"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e.formatMoney(e.transactionInfo.trans_fee))+" PHP",1)])),_:1})])),_:1})],2),(0,n.Wm)(u,{class:"text-primary q-pt-lg"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(y,{lines:"1"},{default:(0,n.w5)((()=>[tt])),_:1}),(0,n.Wm)(y,{caption:""},{default:(0,n.w5)((()=>[at])),_:1})])),_:1}),(0,n.Wm)(d,{side:"",class:"text-weight-bold text-primary"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e.formatMoney(Number(e.transactionInfo.amount_paid)+Number(e.transactionInfo.trans_fee)))+" PHP ",1)])),_:1})])),_:1})])),_:1}),(0,n.Wm)(g,{vertical:"",class:"q-mx-sm"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(_,{rounded:"",outline:"",icon:"print",align:"center",color:"primary",class:"hover-bg-primary hover-text-white",label:"Show Receipt",onClick:e.openReceipt},null,8,["onClick"]),[[C]])])),_:1})])),_:1})])),_:1}),(0,n.Wm)(v,{modelValue:e.dialogTransCheckInfo,"onUpdate:modelValue":t[3]||(t[3]=t=>e.dialogTransCheckInfo=t),"transition-duration":"100","transition-show":"scale","transition-hide":"scale"},{default:(0,n.w5)((()=>[(0,n.Wm)(k,{check_no:e.transactionInfo.check_no},null,8,["check_no"])])),_:1},8,["modelValue"])])),_:1})):(0,n.kq)("",!0)}const ot=(0,n.Uk)("Cheque Details"),st=(0,n._)("span",{class:"text-grey-6 text-body2"},"#",-1),lt=(0,n.Uk)("Copy"),it={class:"text-grey-6 text-body2",style:{cursor:"copy"}},rt=(0,n.Uk)("Check Date"),ct=(0,n.Uk)(" | "),dt=(0,n.Uk)("Drawee Bank"),ut=(0,n.Uk)(" | "),mt=(0,n.Uk)("Cheque Type"),pt=(0,n.Uk)(" | "),_t=(0,n.Uk)("Bussiness Style"),ht=(0,n.Uk)("Show All Receipt"),ft={key:0,class:"text-body2"},wt=(0,n.Uk)(" Account Id "),yt=(0,n.Uk)("Copy"),gt=["onDblclick"],bt=(0,n.Uk)(" Amount Paid "),kt=["onDblclick"],vt=(0,n.Uk)("Cheque Amount"),Ct=(0,n.Uk)(" * with Transaction fee ");function xt(e,t,a,s,l,i){const r=(0,n.up)("q-icon"),c=(0,n.up)("q-item-section"),d=(0,n.up)("q-item"),u=(0,n.up)("q-separator"),m=(0,n.up)("q-card-section"),p=(0,n.up)("q-tooltip"),_=(0,n.up)("q-btn"),h=(0,n.up)("q-badge"),f=(0,n.up)("q-item-label"),w=(0,n.up)("q-scroll-area"),y=(0,n.up)("q-card");return e.checkTransactions?((0,n.wg)(),(0,n.j4)(y,{key:0,style:{"border-radius":"15px",width:"450px","max-width":"80vw"}},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{flat:"",class:"q-ma-sm q-mb-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{class:"q-ma-none q-pa-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{class:"rounded-borders q-mx-sm q-pb-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{class:"text-h6 text-grey-5"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{thumbnail:""},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{name:"credit_score",class:"text-primary"})])),_:1}),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[ot])),_:1})])),_:1}),(0,n.Wm)(u)])),_:1}),(0,n.Wm)(m,{class:"rounded-borders q-my-none q-py-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{class:"text-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{class:"text-h6 text-primary text-weight-bold"},{default:(0,n.w5)((()=>[(0,n._)("div",{onDblclick:t[1]||(t[1]=t=>e.$root.fnCopyToClipboard(e.checkTransactions.check_no,"Check Number"))},[st,(0,n.Uk)(" "+(0,o.zw)(e.checkTransactions.check_no)+" ",1),(0,n.Wm)(_,{flat:"",round:"",size:"xs",color:"grey-6",icon:"content_copy",onClick:t[0]||(t[0]=t=>e.$root.fnCopyToClipboard(e.checkTransactions.check_no,"Check Number")),class:"hover-text-primary"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[lt])),_:1})])),_:1})],32),(0,n._)("div",it,[(0,n._)("span",{class:"text-grey-8",onClick:t[2]||(t[2]=t=>e.$root.fnCopyToClipboard(e.date.formatDate(e.checkTransactions.check_date,"MMMM D, YYYY"),"Check Date"))},[(0,n.Uk)((0,o.zw)(e.date.formatDate(e.checkTransactions.check_date,"MMMM D, YYYY"))+" ",1),(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[rt])),_:1})]),ct,(0,n._)("span",{class:"text-grey-8",onClick:t[3]||(t[3]=t=>e.$root.fnCopyToClipboard(e.checkTransactions.check_bank,"Drawee Bank"))},[(0,n.Uk)((0,o.zw)(e.checkTransactions.check_bank)+" ",1),(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[dt])),_:1})]),ut,(0,n._)("span",{class:"text-grey-8",onClick:t[4]||(t[4]=t=>e.$root.fnCopyToClipboard(e.checkTransactions.check_type,"Cheque Type"))},[(0,n.Uk)((0,o.zw)(e.checkTransactions.check_type)+" ",1),(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[mt])),_:1})]),pt,(0,n._)("span",{class:"text-grey-8",onClick:t[5]||(t[5]=t=>e.$root.fnCopyToClipboard(e.checkTransactions.check_bus_style,"Bussiness Style"))},[(0,n.Uk)((0,o.zw)(e.checkTransactions.check_bus_style)+" ",1),(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[_t])),_:1})])])])),_:1})])),_:1})])),_:1}),(0,n.Wm)(m,{class:"q-pt-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{class:"text-h6 text-grey-5"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{thumbnail:"",class:"q-pr-sm"},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{flat:"",round:"",size:"md",color:"primary",icon:"print",onClick:t[6]||(t[6]=t=>e.openReceipt(e.checkTransactions.list.map((e=>e.trans_id))))},{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[ht])),_:1})])),_:1})])),_:1}),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n._)("div",null,[(0,n.Uk)((0,o.zw)("Transaction"+(e.checkTransactions.total>1?"s":""))+" ",1),e.checkTransactions.total>1?((0,n.wg)(),(0,n.iD)("span",ft,"("+(0,o.zw)(e.checkTransactions.total)+")",1)):(0,n.kq)("",!0)])])),_:1}),(0,n.Wm)(c,{side:"",class:"text-caption text-grey-6",onDblclick:t[7]||(t[7]=t=>e.$root.fnCopyToClipboard(e.date.formatDate(e.checkTransactions.date_paid,"MMM D, YYYY h:mmA"),"Transaction Date"))},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e.date.formatDate(e.checkTransactions.date_paid,"MMM D, YYYY h:mmA")),1)])),_:1})])),_:1}),(0,n.Wm)(w,{"thumb-style":e.$style.scrollarea.thumb,"bar-style":e.$style.scrollarea.bar,class:"q-px-md",style:(0,o.j5)(`max-height: 300px; min-height: 150px; height: calc(150px * ${e.checkTransactions.total});`)},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.checkTransactions.list,((t,a)=>((0,n.wg)(),(0,n.iD)("div",{key:a,class:(0,o.C_)(["q-mt-md",e.$q.dark.isActive?"bg-grey-9":"bg-grey-2"]),style:{"border-radius":"15px"}},[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(h,{floating:"",transparent:"",class:"q-pa-xs",style:{right:"90%",top:"-7px"}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(a+1),1)])),_:2},1024),(0,n.Wm)(h,{floating:"",transparent:"",class:"text-weight-bold hover-bg-secondary q-pa-xs",style:{right:"5%",top:"-7px",cursor:"copy"},onClick:a=>e.$root.fnCopyToClipboard(t.trans_id,"Transaction Id")},{default:(0,n.w5)((()=>[(0,n.Uk)(" # "+(0,o.zw)(t.trans_id),1)])),_:2},1032,["onClick"]),(0,n.Wm)(c,{class:"q-pt-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{lines:"1"},{default:(0,n.w5)((()=>[wt,(0,n.Wm)(_,{flat:"",round:"",size:"xs",color:"grey-6",icon:"content_copy",onClick:a=>e.$root.fnCopyToClipboard(t.account_id,"Account Id"),class:"hover-text-primary"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[yt])),_:1})])),_:2},1032,["onClick"]),(0,n._)("span",{class:"float-right text-weight-bold",onDblclick:a=>e.$root.fnCopyToClipboard(t.account_id,"Account Id")},(0,o.zw)(t.account_id),41,gt)])),_:2},1024),(0,n.Wm)(f,{caption:"",lines:"1"},{default:(0,n.w5)((()=>[bt,(0,n._)("span",{class:"float-right text-weight-bold",onDblclick:a=>e.$root.fnCopyToClipboard(e.formatMoney(t.amount_paid),"Amount Paid")},(0,o.zw)(e.formatMoney(t.amount_paid))+" PHP ",41,kt)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,n.Wm)(d,{class:"q-pb-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,{rounded:"",outline:"",icon:"print",align:"center",color:"primary",label:"Open Receipt",class:"hover-bg-primary hover-text-white",onClick:a=>e.openReceipt(t.trans_id)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)],2)))),128))])),_:1},8,["thumb-style","bar-style","style"]),(0,n.Wm)(u,{class:"q-my-sm"}),(0,n.Wm)(d,{class:"q-pt-md q-pb-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,{lines:"1"},{default:(0,n.w5)((()=>[vt])),_:1}),(0,n.Wm)(f,{caption:"",class:"text-italic"},{default:(0,n.w5)((()=>[Ct])),_:1})])),_:1}),(0,n.Wm)(c,{side:"",class:"text-weight-bold text-primary text-h6",onDblclick:t[8]||(t[8]=t=>e.$root.fnCopyToClipboard(e.formatMoney(e.checkTransactions.total_amount),"Cheque Amount"))},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e.formatMoney(e.checkTransactions.total_amount))+" PHP ",1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):(0,n.kq)("",!0)}const Wt=(0,n.aZ)({name:"TransactionCheckInfo",data(){return{date:L.ZP,formatMoney:N.lb,openReceipt:null,checkTransactions:null}},props:{check_no:{type:String,required:!0}},async created(){this.openReceipt=(0,H.Z)(this.openReceiptNow,1e3),this.checkTransactions=await this.getCheckTransaction(this.check_no)},methods:{...(0,X.nv)("transaction",["getAllTransactions"]),async getTransactionInfo(e){const t=await this.getAllTransactions({url:e});return(0,N.Sw)(t,"response.data.data.0",null)},async getCheckTransaction(e){const t=await this.getAllTransactions({query:[`check_no=${e}`]}),a=(0,N.Sw)(t,"response.data.data",null);if(a&&Array.isArray(a)){let t=0;return a.map((e=>e.amount_received)).forEach((e=>t+=Number(e))),{check_no:e,total:a.length,total_amount:t,check_bus_style:a[0].check_bus_style,check_bank:a[0].check_bank,check_type:a[0].check_type,check_date:a[0].check_date,date_paid:a[0].date_paid,list:a}}},openReceiptNow(e){let t=`${(0,F.wE)(e,{header:this.$root.app_settings.receipt.header,footer:this.$root.app_settings.receipt.footer})}`;this.$config.electron&&(t="print://"+t),(0,E.Z)(t,(e=>{e&&(0,N.Xv)(e)&&console.warn("Error Receipt Window:",e)}),this.$config.openURLConfig)}}});var qt=a(74260),$t=a(10151),Tt=a(25589),Dt=a(83414),Ut=a(52035),St=a(24554),Zt=a(65869),Pt=a(2165),It=a(5363),At=a(47704),Vt=a(69721),Rt=a(2350),zt=a(7518),Qt=a.n(zt);const jt=(0,qt.Z)(Wt,[["render",xt]]),Mt=jt;Qt()(Wt,"components",{QCard:$t.Z,QCardSection:Tt.Z,QItem:Dt.Z,QItemSection:Ut.Z,QIcon:St.Z,QSeparator:Zt.Z,QBtn:Pt.Z,QTooltip:It.Z,QScrollArea:At.Z,QBadge:Vt.Z,QItemLabel:Rt.Z});const Ot={id:"qr-code",ref:"qrCode"},Ft=(0,n.Uk)("Download Format"),Nt=(0,n.Uk)("Download");function Kt(e,t,a,s,l,i){const r=(0,n.up)("q-item-label"),c=(0,n.up)("q-icon"),d=(0,n.up)("q-item-section"),u=(0,n.up)("q-item"),m=(0,n.up)("q-separator"),p=(0,n.up)("q-list"),_=(0,n.up)("q-menu"),h=(0,n.up)("q-tooltip"),f=(0,n.up)("q-btn"),w=(0,n.up)("q-card"),y=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(w,{flat:"",darkrow:"",class:"col text-center"},{default:(0,n.w5)((()=>[(0,n._)("div",Ot,null,512),(0,n.Wm)(f,{flat:"",round:"",icon:"download",color:"grey-6",class:"hover-text-primary absolute-top-right"},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{"transition-duration":250,"transition-show":"jump-down","transition-hide":"jump-up"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{dense:""},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{header:""},{default:(0,n.w5)((()=>[Ft])),_:1}),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.valid_extentions,((t,a)=>((0,n.wg)(),(0,n.iD)("div",{key:t},[(0,n.wy)(((0,n.wg)(),(0,n.j4)(u,{clickable:"",onClick:a=>e.download(t),class:"text-grey-6 hover-text-primary"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{avatar:"",style:{"min-width":"unset"}},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{size:"sm",name:"download_for_offline"})])),_:1}),(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(t.toUpperCase()),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[y]]),a+1<e.valid_extentions.length?((0,n.wg)(),(0,n.j4)(m,{key:0,inset:"item",style:{"margin-left":"52px"}})):(0,n.kq)("",!0)])))),128))])),_:1})])),_:1}),(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[Nt])),_:1})])),_:1})])),_:1})}var Yt=a(99447),Bt=a.n(Yt);const Lt=(0,n.aZ)({name:"QRCodeStyle",props:{qr_value:{type:String,required:!0},qr_width:{type:Number,default:300},qr_height:{type:Number,default:300}},data:()=>{const e={width:300,height:300,type:"svg",data:"QRCode",margin:10,image:"./assets/icons/favicon.ico",qrOptions:{typeNumber:0,mode:"Byte",errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,margin:20,crossOrigin:"anonymous"},dotsOptions:{color:"#156692",type:"rounded"},backgroundOptions:{color:"#ffffff"},cornersSquareOptions:{color:"#35495E",type:"extra-rounded"},cornersDotOptions:{color:"#35495E",type:"dot"}};return{options:e,extension:"svg",qrCode:new(Bt())(e),valid_extentions:["png","jpeg","webp","svg"]}},computed:{...(0,X.rn)("company",["company"])},async mounted(){this.options.data=this.qr_value,this.options.width=this.qr_width,this.options.height=this.qr_height,this.qrCode.append(this.$refs["qrCode"])},watch:{options:{async handler(e){this.qrCode.update(e)},deep:!0}},methods:{download(e){this.qrCode.download({name:`${this.company.name_abbr}_${this.options.data}`,extension:e})}}});var Et=a(20811),Ht=a(27011),Xt=a(60677);const Gt=(0,qt.Z)(Lt,[["render",Kt]]),Jt=Gt;Qt()(Lt,"components",{QCard:$t.Z,QBtn:Pt.Z,QMenu:Et.Z,QList:Ht.Z,QItemLabel:Rt.Z,QItem:Dt.Z,QItemSection:Ut.Z,QIcon:St.Z,QSeparator:Zt.Z,QTooltip:It.Z}),Qt()(Lt,"directives",{ClosePopup:Xt.Z});const ea=(0,n.aZ)({name:"TransactionInfo",components:{TransactionCheckInfo:Mt,QRCodeStyle:Jt},data(){return{date:L.ZP,formatMoney:N.lb,openReceipt:null,transactionInfo:null,dialogTransCheckInfo:!1,showQRCode:!1}},props:{trans_id:{type:String,required:!0}},async created(){this.openReceipt=(0,H.Z)(this.openReceiptNow,3e3),this.transactionInfo=await this.getTransactionInfo(this.trans_id)},methods:{...(0,X.nv)("transaction",["getAllTransactions"]),async getTransactionInfo(e){const t=await this.getAllTransactions({url:e});return(0,N.Sw)(t,"response.data.data.0",null)},openReceiptNow(){let e=`${(0,F.wE)(this.trans_id,{header:this.$root.app_settings.receipt.header,footer:this.$root.app_settings.receipt.footer})}`;this.$config.electron&&(e="print://"+e),(0,E.Z)(e,(e=>{e&&(0,N.Xv)(e)&&console.warn("Error Receipt Window:",e)}),this.$config.openURLConfig)}}});var ta=a(82471),aa=a(99367),na=a(46778);const oa=(0,qt.Z)(ea,[["render",nt]]),sa=oa;Qt()(ea,"components",{QCard:$t.Z,QCardSection:Tt.Z,QItem:Dt.Z,QItemSection:Ut.Z,QIcon:St.Z,QSeparator:Zt.Z,QBtn:Pt.Z,QSlideTransition:ta.Z,QItemLabel:Rt.Z,QTooltip:It.Z,QCardActions:aa.Z,QDialog:na.Z}),Qt()(ea,"directives",{ClosePopup:Xt.Z});const la=(0,n.aZ)({name:"TransactionsTable",components:{TransactionInfo:sa,TransactionCheckInfo:Mt},data(){return{$q:(0,K.Z)(),date:L.ZP,getObj:N.Sw,relativeDate:N.K8,separator:"horizontal",navigationActive:!1,branches:[],receipt:{status:!1,code:null},loading:!1,dense:!1,filter:"",selected:[],pagination:{sortBy:"id",descending:!0,page:1,rowsPerPage:10,rowsNumber:0},columns:[{name:"id",label:"ID",align:"center",field:e=>e.id,format:(e,t,a)=>a?e:`${null!=e?e:""}`,sortable:!0,classes:"text-primary",headerClasses:""},{name:"trans_id",label:"Transaction Id",align:"left",field:e=>e.trans_id,format:(e,t,a)=>a?e:`${null!=e?e:""}`,sortable:!0,classes:"text-primary text-weight-bold",headerClasses:"text-primary",required:!0},{name:"trans_or",label:"OR No.",align:"left",field:e=>e.trans_or,format:(e,t,a)=>a?e:`${null!=e?e:""}`,sortable:!0,classes:"",headerClasses:""},{name:"trans_ar",label:"AR No.",align:"left",field:e=>e.trans_ar,format:(e,t,a)=>a?e:`${null!=e?e:""}`,sortable:!0,classes:"",headerClasses:""},{name:"account_id",label:"Account ID",align:"left",field:e=>e.account_id,format:(e,t,a)=>a?e:`${null!=e?e:""}`,sortable:!0,classes:"",headerClasses:""},{name:"account_name",label:"Account Name",align:"left",field:e=>e.account_name,format:(e,t,a)=>a?e:`${null!=e?e:""}`,sortable:!0,classes:"",headerClasses:""},{name:"email",label:"Email",align:"left",field:e=>e.email,format:(e,t,a)=>a?e:`${null!=e?e:""}`,sortable:!0,classes:"",headerClasses:""},{name:"phone",label:"Phone",align:"left",field:e=>e.phone,format:(e,t,a)=>a?e:`${null!=e?e:""}`,sortable:!0,classes:"",headerClasses:""},{name:"receiver_id",label:"Receiver Id",align:"left",field:e=>e.receiver_id,format:(e,t,a)=>a?e:`${null!=e?e:""}`,sortable:!0,classes:"",headerClasses:""},{name:"branch_location",label:"Branch Location",align:"left",field:e=>e.branch_location,format:(e,t,a)=>a?e:`${null!=e?e:""}`,sortable:!0,classes:"",headerClasses:""},{name:"paymethod",label:"Pay Method",align:"left",field:e=>e.paymethod,format:(e,t,a)=>a?e:`${null!=e?e:""}`,sortable:!0,classes:"",headerClasses:""},{name:"channel",label:"Channel",align:"left",field:e=>e.channel,format:(e,t,a)=>a?e:`${null!=e?e:""}`,sortable:!0,classes:"",headerClasses:""},{name:"channel_online",label:"(Online) Channel",align:"left",field:e=>e.channel_online,format:(e,t,a)=>a?e:`${null!=e?e:""}`,sortable:!0,classes:"",headerClasses:""},{name:"channel_online_confirmed",label:"(Online) Confirmed",align:"left",field:e=>e.channel_online_confirmed,format:(e,t,a)=>a?e:`${null!=e?String(e).toUpperCase():""}`,sortable:!0,classes:"",headerClasses:""},{name:"date_online_confirmed",label:"(Online) Date Confirmed",align:"left",field:e=>e.date_online_confirmed,format:(e,t,a,n)=>a?e:e&&null!=e&&void 0!==e?n?L.ZP.formatDate(e,"ddd MMM D, YYYY h:mma"):(0,N.K8)(e):"",sortable:!0,classes:"",headerClasses:""},{name:"date_paid",label:"Date Paid",align:"left",field:e=>e.date_paid,format:(e,t,a,n)=>a?e:e&&null!=e&&void 0!==e?n?L.ZP.formatDate(e,"ddd MMM D, YYYY h:mma"):(0,N.K8)(e):"",sortable:!0,classes:"",headerClasses:""},{name:"date_due",label:"Date Due",align:"left",field:e=>e.date_due,format:(e,t,a,n)=>a?e:e&&null!=e&&void 0!==e?n?(0,N.K8)(e):L.ZP.formatDate(e,"ddd MMM D, YYYY"):"",sortable:!0,classes:"",headerClasses:""},{name:"amount_paid",label:"Amount Paid",align:"right",field:e=>e.amount_paid,format:(e,t,a)=>a?e:`PHP ${(0,N.lb)(e)}`,sortable:!0,classes:"text-weight-medium",headerClasses:""},{name:"amount_received",label:"Amount Received",align:"right",field:e=>e.amount_received,format:(e,t,a)=>a?e:`PHP ${(0,N.lb)(e)}`,sortable:!0,classes:"",headerClasses:""},{name:"trans_fee",label:"Transaction Fee",align:"right",field:e=>e.trans_fee,format:(e,t,a)=>a?e:`PHP ${(0,N.lb)(e)}`,sortable:!0,classes:"",headerClasses:""},{name:"check_bus_style",label:"(Check) Business Style",align:"left",field:e=>e.check_bus_style,format:(e,t,a)=>a?e:`${null!=e?e:""}`,sortable:!0,classes:"",headerClasses:""},{name:"check_no",label:"(Check) No",align:"left",field:e=>e.check_no,format:(e,t,a)=>a?e:`${null!=e?e:""}`,sortable:!0,classes:"",headerClasses:""},{name:"check_date",label:"(Check) Date",align:"left",field:e=>e.check_date,format:(e,t,a)=>a?e:L.ZP.formatDate(e,"MMMM D, YYYY"),sortable:!0,classes:"",headerClasses:""},{name:"check_bank",label:"(Check) Bank",align:"left",field:e=>e.check_bank,format:(e,t,a)=>a?e:`${null!=e?e:""}`,sortable:!0,classes:"",headerClasses:""},{name:"check_type",label:"(Check) Type",align:"left",field:e=>e.check_type,format:(e,t,a)=>a?e:`${null!=e?e:""}`,sortable:!0,classes:"",headerClasses:""},{name:"business_style",label:"Business Style",align:"left",field:e=>e.business_style,format:(e,t,a)=>a?e:`${null!=e?e:""}`,sortable:!0,classes:"",headerClasses:""},{name:"deleted",label:"Date Deleted",align:"left",field:e=>e.deleted,format:(e,t,a,n)=>a?e:e&&null!=e&&void 0!==e?n?L.ZP.formatDate(e,"ddd MMM D, YYYY h:mma"):(0,N.K8)(e):"",sortable:!0,classes:"",headerClasses:""},{name:"confirm_by",label:"Confirmed By",align:"left",field:e=>e.confirm_by,format:(e,t,a)=>a?e:`${null!=e?e:""}`,sortable:!0,classes:"",headerClasses:""},{name:"deleted_by",label:"Deleted By",align:"left",field:e=>e.deleted_by,format:(e,t,a)=>a?e:`${null!=e?e:""}`,sortable:!0,classes:"",headerClasses:""},{name:"updated_by",label:"Updated By",align:"left",field:e=>e.updated_by,format:(e,t,a)=>a?e:`${null!=e?e:""}`,sortable:!0,classes:"",headerClasses:""}],data:[],expanded:[],visibleColumns:["trans_id","account_id","paymethod","date_paid","amount_paid","amount_received","trans_fee"],popupEditableColumns:["trans_or","trans_ar","account_name","email","phone"],originalRows:[],originalFilteredRows:[],viewDeleted:!1,viewAllTransaction:!1,onRequestLimited:null,onRequestDelayed:null,number_columns:["id","account_id","receiver_id","date_online_confirmed","date_paid","date_due","amount_paid","amount_received","trans_fee","check_date"],view_trans:null,dialogTransInfo:!1,dialogTransCheckInfo:!1,exportTable:null,plain_date_paid:!1,autoScroll:!1,tableFullScreen:!1,moreTransOptions:null,custom_view_show:!1,custom_view_user_show:!1,custom_view_branch_show:!1,user_filter:[],branch_filter:[]}},props:{_style:{type:String},_class:{type:String},table_style:{type:String},table_class:{type:String},card_style:{type:String},card_class:{type:String},withAutoScroll:{type:Boolean,default:!0}},computed:{...(0,X.rn)("user",["authenticated","users"]),...(0,X.rn)("transaction",["transactions","transactions_summary","transactions_summary_all"]),tableClass(){return!0===this.navigationActive?"shadow-3":null},paginationLabel(){const{index:e}=this.tableInfo(),{from:t,to:a,total:n}=e;return t&&a&&n?`${t}-${a} of ${n}`:""}},async created(){this.onRequestLimited=(0,H.Z)(this.onRequest,3e3),this.onRequestDelayed=(0,Ne.Z)(this.onRequest,1e3),this.exportTable=(0,H.Z)(this.exportTableNow,3e3),this.pagination.rowsNumber=(0,N.Sw)(this.transactions_summary,"count."+(this.viewAllTransaction?"overall":"thisday"),0),this.branches=await(0,F.C_)(),this.$root.isTeller?(this.visibleColumns.push("account_name"),this.user_filter.push((0,N.Sw)(this.authenticated,"data.userid"))):(this.visibleColumns.push("receiver_id","branch_location"),this.$root.isLogin&&2==this.$root.accessLevel?this.branch_filter.push((0,N.Sw)(this.authenticated,"data.branch_location")):this.onRequest({pagination:this.pagination,filter:this.filter}))},watch:{autoScroll:{async handler(e){this.controlScrollDenseFullscreen({autoscroll:e})},deep:!0},dense:{async handler(e){this.controlScrollDenseFullscreen({})},deep:!0},tableFullScreen:{async handler(e){this.controlScrollDenseFullscreen({})},deep:!0},viewDeleted:{async handler(e){this.onRequestDelayed({pagination:this.pagination,filter:this.filter},1e3)},deep:!0},user_filter:{async handler(e){e&&this.onRequestDelayed({pagination:this.pagination,filter:this.filter},1e3)},deep:!0},branch_filter:{async handler(e){e&&this.onRequestDelayed({pagination:this.pagination,filter:this.filter},1e3)},deep:!0},viewAllTransaction:{async handler(e){this.onRequestDelayed({pagination:this.pagination,filter:this.filter},1e3)},deep:!0},transactions_summary:{async handler(e){if(this.onRequestDelayed({pagination:this.pagination,filter:this.filter},1e3),e){const t=(0,N.Sw)(e,"count."+(this.viewAllTransaction?"overall":"thisday"),0);t&&!this.pagination.rowsNumber&&(this.pagination.rowsNumber=t)}},deep:!0},navigationActive:{async handler(e){this.separator=!0===e?"cell":"horizontal"},deep:!0}},methods:{...(0,X.nv)("transaction",["getAllTransactions","updateTransaction"]),showCustomMenu(e){this.moreTransOptions=e},rowsPerPageOptions(e){if(e)return[0];let t=[5];const{index:a,rowsPerPage:n}=this.tableInfo(),{total:o}=a,s=[10,15,20,25,50];return!n||t.includes(n)||s.includes(n)||t.push(n),o?(s.forEach(((e,a)=>{(e<=o||o<=n&&e<=n)&&-1===t.indexOf(e)&&t.push(e),a===s.length-1&&o>2*e&&-1===t.indexOf(e/2)&&t.push(e/2)})),t.concat(0)):t.concat(s,0)},tableInfo(e=!1){const{computedRows:t,computedRowsNumber:a,filteredSortedRows:n}=this.$refs.myTransactionsTable||{},{page:o,rowsPerPage:s,rowsNumber:l}=this.pagination;let i=o>1?o*s-s+1:o,r=o>1?s+(o*s-s):s,c=l||a;return c=c||0,!c&&t&&(c=t.length),!c&&r&&(c=r),r=r>c?c:r,{all:e?this.$refs.myTransactionsTable||{}:void 0,computedRows:t,computedRowsNumber:a,filteredSortedRows:n,page:o,rowsPerPage:s,rowsNumber:l,index:{from:i,to:r,total:c}}},controlScrollDenseFullscreen({autoscroll:e,dense:t,tableFullScreen:a}){let n=this.tableFullScreen?20:10;const{to:o}=this.tableInfo().index;this.dense&&(n+=5);let s=!1;"boolean"===typeof e&&!1===e&&o>n&&(s=!0,this.pagination.rowsPerPage=10),(s||this.pagination.rowsPerPage<n)&&this.onRequestLimited({pagination:{...this.pagination,rowsPerPage:n},filter:this.filter},1e3)},async tableScreenUpdate(e){this.tableFullScreen=!e},getSelectedString(){return 0===this.selected.length?"":`${this.selected.length} transaction${this.selected.length>1?"s":""} selected`},async updateTableTrans(e,t,a){let n={};Array.isArray(e)&&Array.isArray(t)?e.forEach(((e,a)=>{n[e]=t[a]})):n[e]=t,n["updated_by"]=(0,N.Sw)(this.authenticated,"data.userid",null);const o=await this.updateTransaction({query:[],data:n,trans_id:(0,N.Sw)(a,"row.trans_id","")});return o},wrapCsvValue(e,t){let a=void 0!==t?t(e,null,!0):e;return isNaN(a)&&L.ZP.isValid(a)?a=L.ZP.formatDate(a,"MMMM D, YYYY HH:mm:ss"):!isNaN(a)&&/^[0-9]+\.[0-9]+$/.test(String(a))&&(a=Number(a).toFixed(2)),a=void 0===a||null===a?"":String(a),a=a.split('"').join('""'),`"${a}"`},async exportTableNow(){const e=this.columns.filter((e=>this.visibleColumns.includes(e.name)));let t=[e.map((e=>this.wrapCsvValue(e.label)))].concat(this.data.map((t=>e.map((e=>this.wrapCsvValue("function"===typeof e.field?e.field(t):t[void 0===e.field?e.name:e.field],e.format))).join(",")))).join("\r\n");const a=this.data.length<1?null:(0,Fe.Z)("Transactions_Exported_"+Date.now()+".csv",t,"text/csv");!0!==a&&this.$q.notify({message:null===a?"No transaction found!":"Browser denied file download...",type:"negative",timeout:3e3})},async onRequest(e,t=0){this.loading=!0;const{page:a,rowsPerPage:n,sortBy:o,descending:s}=e.pagination,l=e.filter;this.pagination.rowsNumber=await this.getRowsNumberCount(l);const i=0===n&&this.pagination.rowsNumber||n,r=(a-1)*n,c=await this.fetchFromServer(r,i,l,o,s);this.data.splice(0,this.data.length,...c),this.pagination.page=a,this.pagination.rowsPerPage=n,this.pagination.sortBy=o,this.pagination.descending=s,setTimeout((()=>{e.ref&&e.ref.refresh(-1),this.loading=!1}),t)},searchFilterVals(e,t){return Array.isArray(e)?e.filter(((e,a)=>{if((0,N.JH)(e)){const a=Object.values(e);if(a.join(" ").toLowerCase().includes(t.toLowerCase()))return!0;let n;return a.forEach((e=>{isNaN(e)&&L.ZP.isValid(e)&&(L.ZP.formatDate(e,"dddd MMMM Do, YYYY h:mmaAaa").toLowerCase().includes(t.toLowerCase())||this.relativeDate(e).toLowerCase().includes(t.toLowerCase()))&&(n=!0)})),!!n}return!1})):e},async serverQuery(e=!1,t=-1,a=-1,n="id",o=!0){let s=n?[`orderby=${n}`,"reverse="+(o?"true":"false")]:[],l="";e&&s.push("count=true"),this.viewDeleted&&(l=`${(0,N.Sw)(this.$config,"api_path.transaction.all")}`),t>=0&&s.push(`offset=${t}`),a>=0&&s.push(`limit=${a}`),this.viewAllTransaction||s.push(`date_paid=${(new Date).setHours(0,0,0,0)}`),this.user_filter.length&&s.push(`receiver_id=${this.user_filter.join("||")}`),this.branch_filter.length&&s.push(`branch_location=${this.branch_filter.join("||")}`);const i=await this.getAllTransactions({query:s,url:l});return e?(0,N.Sw)(i,"response.data.data.0.count",0):Object.values((0,N.Sw)(i,"response.data.data",[]))},async fetchFromServer(e,t,a,n,o){a||(this.originalRows=await this.serverQuery(!1,e,t,n,o));let s=a?this.originalFilteredRows:this.originalRows;if(n){const e=this.number_columns.includes(n)?o?(e,t)=>parseFloat(t[n])-parseFloat(e[n]):(e,t)=>parseFloat(e[n])-parseFloat(t[n]):o?(e,t)=>e.id>t.id?-1:e.id<t.id?1:0:(e,t)=>e.id>t.id?1:e.id<t.id?-1:0;s.sort(e)}return a?s.slice(e||0,(e||0)+t||0):s},async getRowsNumberCount(e){if(!e){let e=await this.serverQuery(!0);return(!e||e<=0)&&(e=this.originalRows.length),(!e||e<=0)&&(e=this.data.length),e}const t=await this.serverQuery();return this.originalFilteredRows=await this.searchFilterVals(t,e),this.originalFilteredRows.length},async onKey(e){"Enter"==e.key&&e.ctrlKey&&this.selected.length&&this.printSelectedReceipt(),!0===this.navigationActive&&-1!==["Home","End","PageUp","PageDown","ArrowUp","ArrowDown"].indexOf(e.key)&&(e.preventDefault(),this.tableTicker(e.key,{shiftKey:e.shiftKey,controlKey:e.ctrlKey,altKey:e.altKey}))},async tableTicker(e,{shiftKey:t,ctrlKey:a,altKey:n}){const{computedRows:o,computedRowsNumber:s}=this.tableInfo();if(!o||0===o.length)return;const l=this.selected.length>0?o.indexOf(this.selected[this.selected.length-1]):-1,i=this.pagination.page,r=0===this.pagination.rowsPerPage?s:this.pagination.rowsPerPage,c=o.length-1,d=Math.ceil(s/r);let u=l,m=i;switch(e){case"Home":m=1,u=0;break;case"End":m=d,u=r-1;break;case"PageUp":m=i<=1?d:i-1,u<0&&(u=0);break;case"PageDown":m=i>=d?1:i+1,u<0&&(u=r-1);break;case"ArrowUp":l<=0?(m=i<=1?d:i-1,u=i==d?s%r-1:r-1):u=l-1;break;case"ArrowDown":l>=c?(m=i>=d?1:i+1,u=0):u=l+1;break}const p=e=>{const a=e>=0?o[e]:null;t?a&&-1===this.selected.indexOf(a)&&this.selected.push(a):this.selected=a?[a]:[]};m!==this.pagination.page&&m<=d?(this.pagination={...this.pagination,page:m},this.onRequestLimited({pagination:this.pagination,filter:this.filter},1e3).then((e=>{this.$refs.myTransactionsTable.$nextTick((()=>{const e=Math.min(u,o.length-1);p(e)}))}))):p(u)},toggleSelected(e,t){e?this.selected.splice(this.selected.indexOf(t),1):this.selected.push(t)},async onScroll({index:e,from:t,to:a,direction:n,ref:o}){const s=this.tableInfo();"increase"===n&&this.autoScroll&&!0!==this.loading&&e+1===s.index.to/s.page&&e+1<s.index.total&&this.onRequestDelayed({pagination:{...this.pagination,rowsPerPage:this.pagination.rowsPerPage+5},filter:this.filter,ref:o},1e3)},async printSelectedReceipt(e){let t=e&&Array.isArray(e)?e:e?[e]:[];e||this.selected.forEach((e=>{e.trans_id&&t.push(e.trans_id)}));let a=(0,F.wE)(t,{header:this.$root.app_settings.receipt.header,footer:this.$root.app_settings.receipt.footer});this.$config.electron&&(a="print://"+a),a&&t.length&&(0,E.Z)(a,(e=>{e&&(0,N.Xv)(e)&&(this.$q.notify({type:"negative",message:`Failed to open receipt ${a}}!`,timeout:1e4}),console.warn("Error Receipt Window:",e))}),this.$config.openURLConfig)},async popupSubmit(e,t,a){const n=(0,N.Sw)(a,"row.trans_id"),o=await this.updateTableTrans([e],[t],a),s=(0,N.Sw)(o,"response.data.success");return this.$q.notify({color:s?"primary":"negative",icon:s?"info":"warning",message:s?`Transaction #${n} Updated`:`Error: ${(0,N.Sw)(o,"response.data.error.message","Update Failed")}`}),!!s},async confirmOnlineTransaction(e){const t=(0,N.Sw)(e,"row.trans_id"),a="no"==(0,N.Sw)(e,"row.channel_online_confirmed")?"yes":"no",n=await this.updateTableTrans(["channel_online_confirmed","confirm_by","date_online_confirmed"],[a,(0,N.Sw)(this.authenticated,"data.userid"),new Date],e),o=(0,N.Sw)(n,"response.data.success");return this.$q.notify({color:o&&"no"!=a?"primary":"negative",icon:o?"info":"warning",message:o?`Transaction #${t} ${"no"==a?"Unconfirmed":"Confirmed"}`:("no"==a?"Unconfirm":"Confirm")+" Failed"}),!!o},async confirmDeleteUndo(e,t=!1){const a=(0,N.Sw)(e,"row.trans_id");a&&this.$q.dialog({title:"Confirm",dark:!0,message:`${t?"Restore":"Delete"} transaction ${a}?`,ok:{push:!0,color:"negative"},cancel:{push:!0,color:"primary"},persistent:!1}).onOk((async()=>{const a=await this.updateTableTrans(["deleted","deleted_by"],[t?null:new Date,(0,N.Sw)(this.authenticated,"data.userid")],e),n=(0,N.Sw)(a,"response.data.success");this.$q.notify({color:n?"primary":"negative",icon:n?t?"restore":"delete":"warning",message:n?`Transaction has been ${t?"restored":"deleted"}!`:`Failed to ${t?"restore":"delete"} transaction!`})}))}}});var ia=a(40328),ra=a(18186),ca=a(92414),da=a(24600),ua=a(83884),ma=a(84522),pa=a(34842),_a=a(68516);const ha=(0,qt.Z)(la,[["render",Oe]]),fa=ha;Qt()(la,"components",{QTable:ia.Z,QTr:ra.Z,QTh:ca.Z,QBtn:Pt.Z,QTooltip:It.Z,QBadge:Vt.Z,QMenu:Et.Z,QVirtualScroll:da.Z,QList:Ht.Z,QItemLabel:Rt.Z,QItem:Dt.Z,QItemSection:Ut.Z,QIcon:St.Z,QTd:ua.Z,QPopupEdit:ma.Z,QInput:pa.Z,QSeparator:Zt.Z,QSelect:_a.Z,QDialog:na.Z}),Qt()(la,"directives",{ClosePopup:Xt.Z});const wa=(0,n.Uk)(" No results ");function ya(e,t,a,o,l,i){const r=(0,n.up)("q-icon"),c=(0,n.up)("q-item-section"),d=(0,n.up)("q-item"),u=(0,n.up)("q-select");return(0,n.wg)(),(0,n.j4)(u,{"input-debounce":100,"transition-duration":100,"transition-show":"jump-up","transition-hide":"jump-down",options:e.check_types_filter,onFilter:e.selectFilter_check_types,onKeypress:t[0]||(t[0]=(0,s.D2)((0,s.iM)((e=>e.preventDefault()),["prevent","stop"]),["enter"]))},{prepend:(0,n.w5)((()=>[(0,n.Wm)(r,{name:"fact_check"})])),"no-option":(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{class:"text-grey"},{default:(0,n.w5)((()=>[wa])),_:1})])),_:1})])),_:1},8,["options","onFilter"])}const ga=(0,n.aZ)({name:"SelectCheckType",data(){return{check_types:[],check_types_filter:null}},props:{custom_options:{type:Array}},async beforeMount(){this.check_types=this.custom_options?this.custom_options:await(0,F.Kd)("transactions","select_check_type")},watch:{custom_options:{async handler(e){e&&(this.check_types=e)},deep:!0}},methods:{async selectFilter_check_types(e,t,a){setTimeout((()=>{t((()=>{if(""===e)this.check_types_filter=this.check_types;else{const t=e.toLowerCase();this.check_types_filter=this.check_types.filter((e=>e&&e.toLowerCase().indexOf(t)>-1))}}),(t=>{""!==e&&t.options.length>0&&(t.setOptionIndex(-1),t.moveOptionSelection(1,!0))}))}),100)}}}),ba=(0,qt.Z)(ga,[["render",ya]]),ka=ba;Qt()(ga,"components",{QSelect:_a.Z,QIcon:St.Z,QItem:Dt.Z,QItemSection:Ut.Z});const va={class:"q-pt-md q-px-md q-gutter-xs"},Ca={class:"row items-center justify-end"};function xa(e,t,a,s,l,i){const r=(0,n.up)("q-btn"),c=(0,n.up)("q-toolbar-title"),d=(0,n.up)("q-toolbar"),u=(0,n.up)("q-badge"),m=(0,n.up)("q-date"),p=(0,n.up)("q-popup-proxy"),_=(0,n.up)("q-icon"),h=(0,n.up)("q-input"),f=(0,n.up)("q-scroll-area"),w=(0,n.up)("q-space"),y=(0,n.up)("q-form"),g=(0,n.up)("q-card"),b=(0,n.Q2)("close-popup");return e.formIsOk?((0,n.wg)(),(0,n.j4)(g,{key:0,style:{width:"500px","max-width":"80vw","border-radius":"15px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{class:"bg-primary text-white"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{flat:"",round:"",ripple:"","no-caps":"",size:"md",icon:e.icon,onClick:e.icon_click},null,8,["icon","onClick"]),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e.title),1)])),_:1})])),_:1}),(0,n.Wm)(y,{autofocus:"",onSubmit:e.doSave,ref:e.form_conf.ref},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{"thumb-style":e.$style.scrollarea.thumb,"bar-style":e.$style.scrollarea.bar,style:(0,o.j5)(`max-height: calc(100vh - 200px); height: calc(50px + (70px * ${Object.keys(e.local_inputs).length}))`)},{default:(0,n.w5)((()=>[(0,n._)("div",va,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Object.keys(e.local_inputs),((t,a)=>((0,n.wg)(),(0,n.iD)("div",{key:t},[e.local_inputs[t]?((0,n.wg)(),(0,n.j4)(h,{key:0,autofocus:0===a,"clear-icon":e.local_inputs[t].clearicon||"close",placeholder:e.local_inputs[t].placeholder,rounded:e.local_inputs[t].rounded||!1,standout:e.local_inputs[t].standout||!1,outlined:e.local_inputs[t].outlined||!1,"lazy-rules-icon":e.local_inputs[t].lazyrules||!1,clearable:e.local_inputs[t].clearable||!1,type:e.local_inputs[t].type,autogrow:e.local_inputs[t].autogrow,mask:e.local_inputs[t].mask,"fill-mask":!!e.local_inputs[t].mask&&0!=e.local_inputs[t].fillmask,hint:e.local_inputs[t].hint,counter:e.local_inputs[t].counter,label:e.local_inputs[t].label,"input-class":`${e.form_conf.inputclass} ${e.local_inputs[t].inputclass}`,class:(0,o.C_)(e.local_inputs[t].class),style:(0,o.j5)(e.local_inputs[t].style),prefix:e.local_inputs[t].prefix,suffix:e.local_inputs[t].suffix,modelValue:e.local_inputs[t].value,"onUpdate:modelValue":a=>e.local_inputs[t].value=a,rules:e.local_inputs[t].rules||[t=>e.checker.input(!0,500)],onKeyup:e.modKey},{prepend:(0,n.w5)((()=>["date"==e.local_inputs[t].mask||"date"==e.local_inputs[t].type?((0,n.wg)(),(0,n.j4)(r,{key:0,flat:"",round:"",class:"q-pa-sm",icon:e.local_inputs[t].icon},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{cover:"",breakpoint:700,"transition-show":"scale","transition-hide":"scale"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{"today-btn":"",size:"sm",modelValue:e.local_inputs[t].value,"onUpdate:modelValue":a=>e.local_inputs[t].value=a},{default:(0,n.w5)((()=>[(0,n._)("div",Ca,[(0,n.wy)((0,n.Wm)(r,{flat:"",rounded:"",label:"Close",color:"primary"},null,512),[[b]]),(0,n.Wm)(u,{rounded:"",floating:"",transparent:"",style:{top:"5px",right:"5px"},class:"bg-transparent"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(r,{flat:"",round:"",icon:"clear",color:"blue-3"},null,512),[[b]])])),_:1})])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1032,["icon"])):((0,n.wg)(),(0,n.j4)(_,{key:1,class:"q-pa-sm",name:e.local_inputs[t].icon},null,8,["name"]))])),append:(0,n.w5)((()=>[e.local_inputs[t].append?((0,n.wg)(),(0,n.j4)(_,{key:0,name:e.local_inputs[t].append},null,8,["name"])):(0,n.kq)("",!0)])),_:2},1032,["autofocus","clear-icon","placeholder","rounded","standout","outlined","lazy-rules-icon","clearable","type","autogrow","mask","fill-mask","hint","counter","label","input-class","class","style","prefix","suffix","modelValue","onUpdate:modelValue","rules","onKeyup"])):(0,n.kq)("",!0)])))),128))])])),_:1},8,["thumb-style","bar-style","style"]),(0,n._)("div",{class:(0,o.C_)(["row q-gutter-x-sm q-pa-md",e.$root.app_settings.darkmode?"shadow-1-white":"shadow-1"])},[(0,n.Wm)(w),(0,n.Wm)(r,{flat:"",ripple:"",rounded:"",label:"Cancel",color:"grey-6",class:"hover-text-primary",onClick:e.doCancel},null,8,["onClick"]),(0,n.Wm)(r,{ripple:"",rounded:"",unelevated:"",label:"Save",color:"primary","icon-right":"done_all",onClick:e.submitValidation},null,8,["onClick"])],2)])),_:1},8,["onSubmit"])])),_:1})):(0,n.kq)("",!0)}const Wa=(0,n.aZ)({name:"InputsForm",emits:["save","cancel","close"],data(){return{$q:(0,K.Z)(),checker:N.ZZ,local_inputs:{},form_conf:{ref:"inputs_form",inputclass:"form_active_input"},formIsOk:!1}},props:{icon_click:{},icon:{},title:{},inputs:{}},computed:{...(0,X.rn)("user",["authenticated"])},created(){this.local_inputs=this.inputs,this.formIsOk=this.title&&this.icon&&this.inputs&&this.local_inputs&&Object.keys(this.local_inputs).length,this.formIsOk||this.$emit("close")},methods:{submitValidation(){const e=(0,N.Sw)(this.$refs,`${this.form_conf.ref}`);e&&e.submit()},async doSave(){this.$emit("save",this.local_inputs)},async doCancel(){this.$emit("cancel",this.local_inputs)},async modKey(e){switch(e.key){case"Enter":if(e.preventDefault(),e.ctrlKey&&e.shiftKey&&e.altKey);else if(e.altKey);else if(e.shiftKey)(0,N.A_)(e,!1);else if(e.ctrlKey)this.submitValidation();else{const t=await(0,N.A_)(e);t||this.$refs[this.form_conf.ref].submit()}break;default:break}}},beforeUnmount(){this.$emit("close")}});var qa=a(39570),$a=a(13747),Ta=a(68689),Da=a(83944),Ua=a(85626),Sa=a(62025);const Za=(0,qt.Z)(Wa,[["render",xa]]),Pa=Za;Qt()(Wa,"components",{QCard:$t.Z,QToolbar:qa.Z,QBtn:Pt.Z,QToolbarTitle:$a.Z,QForm:Ta.Z,QScrollArea:At.Z,QInput:pa.Z,QPopupProxy:Da.Z,QDate:Ua.Z,QBadge:Vt.Z,QIcon:St.Z,QSpace:Sa.Z}),Qt()(Wa,"directives",{ClosePopup:Xt.Z});const Ia=(0,n.aZ)({name:"PageIndex",components:{TransactionsTable:fa,SelectCheckType:ka,MoreTransInfo:Pa},data(){return{$q:(0,K.Z)(),date:L.ZP,format:Y.ZP,formatMoney:N.lb,search:"",inputs_empty:!0,dialog_transactions_options:!1,dialog_multiple_transactions:!1,checker:N.ZZ,form_conf:{ref:"transactions_form",inputclass:"form_active_input"},local_transactions:{},local_trans_options:{total_amount:0,paymethod:null,check_type:null,channel:null,channel_online:null,online_confimed:null,open_check_date_picker:!1},local_trans_payment:{amount_received:null,check:{check_bus_style:null,check_no:null,check_date:null,check_bank:null,check_type:null}},trans_options:{paymethod:[],channel:[],check_type:[],channel_online:[],online_confimed:[]},last_input_ref_focus:null,form_trans_status:{},form_isprocessing:!1,seamless_card:!0,submitTransactions:null,fabAdminAction:!1,local_convenience_fee:0,fabPos:[18,18],draggingFab:!1,selectedTrans:null,dialogMoreDetails:!1,disableAmountReceived:!1}},computed:{...(0,X.rn)("user",["authenticated"]),local_transactions_length(){return Object.keys(this.local_transactions).length},local_trans_raw_total(){let e=0,t=0;const a=Object.keys(this.local_transactions).map((e=>Number(this.local_transactions[e].amount||0)));a.forEach((t=>e+=t));const n=Object.keys(this.local_transactions).map((e=>Number(this.local_transactions[e].amount_received||(this.local_transactions[e].amount?Number(this.local_transactions[e].amount)+this.$root.transactions_fee:0)||0)));return n.forEach((e=>t+=e)),{total_money:Number(e),money_list:Array.from(a),input_received_total:t,input_received_list:Array.from(n)}},longTrans(){return this.local_transactions_length>10},transactionChange(){return Number((0,N.Sw)(this.local_trans_payment,"amount_received",0))-Number((0,N.Sw)(this.local_trans_options,"total_amount",0))},payViaCheck(){return!!(0,N.Sw)(this.local_trans_payment,"check.check_no")},payViaCheckReady(){let e=!0;const t=(0,N.Sw)(this.local_trans_payment,"check.check_date");return this.payViaCheck?(0,N.Sw)(this.local_trans_options,"paymethod")!=this.trans_options.paymethod[1]?e=!1:(0,N.Sw)(this.local_trans_payment,"check.check_bus_style")&&t&&this.dateBetween(t)&&(0,N.Sw)(this.local_trans_payment,"check.check_bank")&&(0,N.Sw)(this.local_trans_payment,"check.check_type")||(e=!1):e=!1,e},transactionsReady(){const{money_list:e}=this.local_trans_raw_total;let t=!0;return-1!==e.indexOf(0)||this.inputs_empty?t=!1:(0,N.Sw)(this.local_trans_options,"total_amount",0)&&(0,N.Sw)(this.local_trans_payment,"amount_received",0)?this.transactionChange<0?t=!1:this.payViaCheck&&(t=this.payViaCheckReady):t=!1,t}},async created(){this.$root.setMeta({title:"Home"}),this.local_convenience_fee=Number(this.$root.transactions_fee).toFixed(2),this.focusBackInput(),this.submitTransactions=(0,H.Z)(this.submitTransactionsNow,2e3);let e=["paymethod","channel"];Object.keys(this.trans_options).forEach((async t=>{this.trans_options[t]=await(0,F.Kd)("transactions",`select_${t}`),e.includes(t)&&!this.local_trans_options[t]&&(this.local_trans_options[t]=this.trans_options[t][0])})),this.local_transactions_length||this.addTransaction()},watch:{["$q.screen"]:{async handler(e){e.width-50<this.fabPos[0]&&(this.fabPos[0]=e.width-50),e.height-100<this.fabPos[1]&&(this.fabPos[1]=e.height-100)},deep:!0},local_trans_raw_total:{async handler(e){const{money_list:t,total_money:a,input_received_total:n}=e;this.inputs_empty=!a;const o=t.filter((e=>e)).length*this.$root.transactions_fee;this.local_trans_options.total_amount=a+o,this.updateReceivedDetails()},deep:!0},payViaCheck:{async handler(e){e?(this.local_trans_options.paymethod=this.trans_options.paymethod[1],this.local_trans_payment.check.check_type=this.trans_options.check_type[0],this.local_trans_payment.check.check_date=L.ZP.formatDate(new Date,"YYYY/MM/DD"),this.local_trans_payment.check.check_bus_style="Default",this.disableAmountReceived=!1):(this.local_trans_options.paymethod=this.trans_options.paymethod[0],this.resetPaymentOptions(!0),this.updateReceivedDetails())},deep:!0},dialog_transactions_options:{async handler(e){e?this.$refs.PopupButtonConfirmTransaction&&this.$refs.PopupButtonConfirmTransaction.focus():this.dialog_multiple_transactions=!1},deep:!0},local_transactions_length:{async handler(e){e?1===e&&(this.disableAmountReceived=!1):(this.form_trans_status={},this.resetPaymentOptions(),this.disableAmountReceived=!1,this.local_trans_payment.amount_received=null,setTimeout((()=>{this.addTransaction()}),1e3))},deep:!0},seamless_card:{async handler(e){this.focusBackInput()},deep:!0}},methods:{...(0,X.nv)("user",["getUsers","startRealtimeUsers"]),...(0,X.nv)("company",["updateCompany"]),...(0,X.nv)("transaction",["getAllTransactions","newTransaction","updateTransaction"]),async updateReceivedDetails(){const{total_money:e,money_list:t,input_received_total:a,input_received_list:n}=this.local_trans_raw_total;!this.payViaCheck&&-1===t.indexOf(0)&&a&&this.local_trans_options.total_amount!=a?(this.local_trans_payment.amount_received=a,this.disableAmountReceived=!0):this.disableAmountReceived=!1},async saveTransInfo(e){if(!this.selectedTrans)return;const t=this.local_transactions[this.selectedTrans],a=Object.keys(e);a.map((t=>e[t].value)).forEach(((e,n)=>{t&&(this.local_transactions[this.selectedTrans][a[n]]=e)})),this.dialogMoreDetails=!1},genMoreTransInfo(){if(!this.selectedTrans)return;const e=e=>(0,N.Sw)(this.local_transactions,`${this.selectedTrans}.${e}`,""),t={date_due:{label:"Due Date",icon:"event",clearable:!0,mask:"date",rounded:!0,standout:"bg-primary text-white",value:e("date_due")||L.ZP.formatDate(new Date,"YYYY/MM/DD"),rules:[e=>this.checker.input(this.dateBetween(e,L.ZP.addToDate(new Date,{years:-1},L.ZP.addToDate(new Date,{years:1})))||"",500)]},email:{label:"Email Address",icon:"email",clearable:!0,type:"email",rounded:!0,standout:"bg-primary text-white",value:e("email")},phone:{label:"Phone Number",icon:"phone",clearable:!0,mask:"(###) ### - ####",fillmask:!1,rounded:!0,standout:"bg-primary text-white",value:e("phone")},business_style:{label:"Business Style",icon:"business",clearable:!0,rounded:!0,standout:"bg-primary text-white",value:e("business_style")}};let a={};return!this.payViaCheck&&this.local_transactions_length>1&&(a["amount_received"]={label:"Amount Received",icon:"payment",clearable:!0,type:"number",rounded:!0,standout:"bg-primary text-white",value:e("amount_received"),placeholder:Number(e("amount"))+this.$root.transactions_fee,rules:[t=>this.checker.input(""===t||Number(t)>=Number(e("amount"))+this.$root.transactions_fee||`Amount paid + transaction fee is ${Number(e("amount"))+this.$root.transactions_fee}`,500)]}),a={...a,...t},{title:`Account: ${this.cleanAccountID(e("accnt_id"))}`,icon:"badge",inputs:a}},async updateConvenienceFee(e,t){if(e!=t){const a={id:(0,N.Sw)(this.$root.company,"id",0),data:{convenience_fee:e}};this.updateCompany(a).then((a=>{const n=(0,N.Sw)(a,"response.data");this.local_convenience_fee=n.success?e:t,this.$q.notify({message:n.success?"Convenience Fee has been Updated":"Failed to Update Convenience Fee",type:n.success?"positive":"negative",timeout:3e3})})).catch((e=>{this.$q.notify({message:"Error Updating Convenience Fee",type:"negative",timeout:3e3})}))}},cleanAccountID(e){return e&&e.replaceAll(" ","").replaceAll("-","")||"0"},async searchAccountID(e,t){if(e=this.cleanAccountID(e),e&&11===e.length){const a=await this.getAllTransactions({query:[`account_id=${e}`,"orderby=id","limit=1","reverse=true"]}),n=(0,N.Sw)(a,"response.data.data[0]");return n?(this.local_transactions[t].accnt_name=n.account_name,this.local_transactions[t].email=n.email,this.local_transactions[t].phone=n.phone,this.local_transactions[t].business_style=n.business_style,this.$refs[`${t}_amount`][0].focus()):this.$refs[`${t}_accnt_name`][0].focus(),this.$q.notify({type:"info",message:n?`Account: ${n.account_name}`:`New Account: ${e}`,color:"accent"}),n}return this.local_transactions[t].accnt_name="",!1},async submitTransactionsNow(){if(this.transactionsReady&&this.longTrans&&!this.dialog_multiple_transactions)return this.dialog_multiple_transactions=!0,void(this.dialog_transactions_options=!0);this.$refs[this.form_conf.ref]&&!this.form_isprocessing&&this.$refs[this.form_conf.ref].submit()},async submitTransactionsForm(){if(this.transactionsReady&&!this.form_isprocessing){this.form_isprocessing=!0;const e=Object.keys(this.local_transactions);e.forEach(((t,a)=>{const n=e=>(0,N.Sw)(this.local_transactions,`${t}.${e}`,"");let o={receiver_id:String((0,N.Sw)(this.authenticated,"data.userid")),account_id:this.cleanAccountID(n("accnt_id")),account_name:n("accnt_name"),branch_location:(0,N.Sw)(this.authenticated,"data.branch_location"),paymethod:(0,N.Sw)(this.local_trans_options,"paymethod"),channel:(0,N.Sw)(this.local_trans_options,"channel"),amount_paid:(0,N.Sw)(this.local_transactions,`${t}.amount`,0),amount_received:n("amount_received"),trans_fee:this.$root.transactions_fee,email:n("email")||null,phone:n("phone")||null,date_due:n("date_due")||null,business_style:n("business_style")||null};this.payViaCheck&&(o.amount_received=Number(o.amount_paid)+Number(this.$root.transactions_fee)),o.amount_received||(o.amount_received=this.local_transactions_length>1?Number(o.amount_paid)+Number(this.$root.transactions_fee):this.local_trans_payment.amount_received),this.payViaCheck&&(o.check_bus_style=this.local_trans_payment.check.check_bus_style,o.check_no=this.local_trans_payment.check.check_no,o.check_date=new Date(this.local_trans_payment.check.check_date),o.check_bank=this.local_trans_payment.check.check_bank,o.check_type=this.local_trans_payment.check.check_type),this.processTransaction(t,o,e.length)}))}else this.$refs[this.form_conf.ref]&&(this.$refs[this.form_conf.ref].validate(),this.form_isprocessing=!1)},async processTransaction(e,t,a=1,n=0){const o=this.newTransaction({data:t}).then((async t=>{this.form_trans_status[e]=(0,N.Sw)(t,"response.data",{success:0,error:{message:"Unknown Error"}});const o=(0,N.Sw)(this.form_trans_status,`${e}.success`);o?this.removeTransInput(e,n):this.errorTransInput(e,(0,N.Sw)(this.form_trans_status,`${e}.error.message`,"Payment Failed")),this.$q.notify({type:o?"positive":"negative",message:`Transaction #${(0,N.Sw)(this.form_trans_status,e+".data.trans_id",e)} ${o?"Successful":"Failed"}`}),this.local_transactions_length&&(this.local_trans_payment.amount_received=this.local_trans_options.total_amount),a==Object.keys(this.form_trans_status).length&&this.doneAllTransaction()})).catch((t=>{this.form_trans_status[e]={success:0,error:{message:"Unknown Error"}}}));return o},async doneAllTransaction(){this.focusBackInput();const e={...this.form_trans_status},t=Object.keys(e).filter((t=>(0,N.Sw)(e,`${t}.data.trans_id`,!1))).map((t=>(0,N.Sw)(e,`${t}.data.trans_id`)));let a=(0,F.wE)(t,{header:this.$root.app_settings.receipt.header,footer:this.$root.app_settings.receipt.footer});this.$config.electron&&(a="print://"+a),a&&t.length&&(0,E.Z)(a,(e=>{e&&(0,N.Xv)(e)&&(this.$q.notify({type:"negative",message:`Failed to open receipt ${a}}!`,timeout:1e4}),console.warn("Error Receipt Window:",e))}),this.$config.openURLConfig),setTimeout((()=>{this.form_trans_status={},this.form_isprocessing=!1}),500)},async addTransaction(e=1){while(e){const t=(0,B.Z)();this.local_transactions[t]||(this.local_transactions[t]={accnt_id:null,accnt_name:null,amount:null}),e--}},async resetPaymentOptions(e=!1,t=0){setTimeout((()=>{Object.keys(this.local_trans_payment).forEach((t=>{(0,N.JH)(this.local_trans_payment[t])?Object.keys(this.local_trans_payment[t]).forEach((e=>{this.local_trans_payment[t][e]=null})):e||(this.local_trans_payment[t]=null)}))}),t)},async resetAllTransaction(){const e=()=>{Object.keys(this.local_transactions).forEach((e=>{this.removeTransInput(e,1e3)})),this.$refs[this.form_conf.ref]&&this.$refs[this.form_conf.ref].resetValidation(),this.resetPaymentOptions(!1,1e3)};this.local_transactions_length>1?this.$q.dialog({title:"Confirm",dark:!0,message:`Are you sure to remove ${this.local_transactions_length} transaction form${this.local_transactions_length>1?"s":""}?`,ok:{push:!0,color:"negative"},cancel:{push:!0,color:"primary"},persistent:!1}).onOk((async()=>{e()})):e()},dateBetween(e,t,a,n={onlyDate:!0,inclusiveFrom:!0,inclusiveTo:!0}){return e=new Date(e),t=t?new Date(t):(new Date).setHours(0,0,0,0),a=a?new Date(a):L.ZP.addToDate(new Date,{years:1}),!!(L.ZP.isValid(e)&&L.ZP.isValid(t)&&L.ZP.isValid(a)&&L.ZP.isBetweenDates(e,t,a,n))},payCheckInputRules(e,t=!1){return this.payViaCheck&&!!e||t},validateAmountReceived(e=!1){return!this.payViaCheck||0===this.transactionChange||e},async modKey(e,t){let a=!1;switch(e.key){case"Enter":if(e.preventDefault(),e.ctrlKey&&e.shiftKey&&e.altKey)t&&this.removeTransInput(t.trans_code,250);else if(t&&e.ctrlKey&&e.shiftKey)(0,N.Sw)(this.local_transactions,`${t.trans_code}.accnt_id`)&&(this.selectedTrans=t.trans_code,this.dialogMoreDetails=!this.dialogMoreDetails);else if(e.altKey)this.addTransaction();else if(e.shiftKey)(0,N.A_)(e,!1);else if(e.ctrlKey)this.transactionsReady&&!this.form_isprocessing?this.longTrans?(this.dialog_multiple_transactions=!0,a=!0):this.submitTransactions():this.$refs[this.form_conf.ref]&&this.$refs[this.form_conf.ref].validate();else{const t=await(0,N.A_)(e);t||!this.transactionsReady||this.form_isprocessing?t||this.form_isprocessing||(a=!1,await(0,N.A_)(e,0)):this.form_isprocessing?this.$refs[this.form_conf.ref]&&this.$refs[this.form_conf.ref].validate():(this.longTrans&&(this.dialog_multiple_transactions=!0),a=!0)}a&&!this.form_isprocessing&&(this.dialog_transactions_options=!0);break}},getTransIndex(e,t,a){let n=0;return isNaN(t)||isNaN(a)||("payment_options"===e&&(n=3*this.local_transactions_length+a+t),(0,N.Sw)(this.local_transactions,e)&&(n=t*this.local_transactions_length+a)),n},changeInputFocus(e){this.last_input_ref_focus=e},async focusBackInput(e=1e3){setTimeout((()=>{const e=Object.keys(this.local_transactions);e&&this.last_input_ref_focus&&(0,N.Sw)(this.$refs,`${this.last_input_ref_focus}.0`,!1)?this.$refs[this.last_input_ref_focus][0].focus():e&&e[0]&&(0,N.Sw)(this.$refs,`${e[0]}_accnt_id.0`,!1)&&this.$refs[`${e[0]}_accnt_id`][0].focus()}),e)},async removeTransInput(e,t=0){(0,N.Sw)(this.local_transactions,e,!1)&&setTimeout((()=>{Object.keys((0,N.Sw)(this.local_transactions,e,{})).forEach((t=>{(0,N.Sw)(this.$refs,`${e}_${t}.0`,!1)&&this.$refs[`${e}_${t}`][0].resetValidation()})),delete this.local_transactions[e]}),t),this.focusBackInput()},async errorTransInput(e,t){this.local_transactions[e]&&(this.local_transactions[e].error=t)},async moveFab(e){this.draggingFab=!0!==e.isFirst&&!0!==e.isFinal,this.fabPos=[(window.innerWidth-50>this.fabPos[0]||e.delta.x>0)&&(this.fabPos[0]>-15||e.delta.x<0)?this.fabPos[0]-e.delta.x:this.fabPos[0],(window.innerHeight-100>this.fabPos[1]||e.delta.y>0)&&(this.fabPos[1]>-15||e.delta.y<0)?this.fabPos[1]-e.delta.y:this.fabPos[1]]}},beforeRouteLeave(){this.seamless_card=!1}});var Aa=a(24379),Va=a(10846),Ra=a(21007),za=a(39200),Qa=a(39975),ja=a(51598),Ma=a(18406);const Oa=(0,qt.Z)(Ia,[["render",O]]),Fa=Oa;Qt()(Ia,"components",{QPage:Aa.Z,QCard:$t.Z,QList:Ht.Z,QItem:Dt.Z,QItemSection:Ut.Z,QItemLabel:Rt.Z,QBtn:Pt.Z,QBadge:Vt.Z,QPopupEdit:ma.Z,QInput:pa.Z,QIcon:St.Z,QTooltip:It.Z,QForm:Ta.Z,QPopupProxy:Da.Z,QDate:Ua.Z,QDialog:na.Z,QBar:Va.Z,QSpace:Sa.Z,QCardSection:Tt.Z,QSeparator:Zt.Z,QCardActions:aa.Z,QPageSticky:Ra.Z,QFab:za.Z,QFabAction:Qa.Z,QLinearProgress:ja.Z}),Qt()(Ia,"directives",{ClosePopup:Xt.Z,TouchPan:Ma.Z})}}]);