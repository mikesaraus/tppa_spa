(self["webpackChunktppa_app"]=self["webpackChunktppa_app"]||[]).push([[804],{5519:(e,t,o)=>{"use strict";o.d(t,{Z:()=>g});var s=o(3673),r=o(2323);const a={class:"col text-center text-weight-bold"},i={class:"text-overline text-grey-3",style:{opacity:"0.5"}};function n(e,t,o,n,l,c){const u=(0,s.up)("q-btn"),d=(0,s.up)("q-bar");return e.$root.isElectron?((0,s.wg)(),(0,s.j4)(d,{key:0,class:(0,r.C_)(["electron-topbar q-electron-drag text-white shadow-1 shadow-transition",e.$root.app_settings.darkmode?"bg-grey-10":"bg-accent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{dense:"",flat:"",round:"",icon:"lens",size:"8.5px",color:"red",onClick:e.$root.closeApp},null,8,["onClick"]),(0,s.Wm)(u,{dense:"",flat:"",round:"",icon:"lens",size:"8.5px",color:"yellow",onClick:e.$root.toggleMaximize},null,8,["onClick"]),(0,s.Wm)(u,{dense:"",flat:"",round:"",icon:"lens",size:"8.5px",color:"green",onClick:e.$root.minimize},null,8,["onClick"]),(0,s._)("div",a,(0,r.zw)(e.$root.pageTitle),1),(0,s._)("small",i," v"+(0,r.zw)(e.$config.pkjson.version),1)])),_:1},8,["class"])):(0,s.kq)("",!0)}const l=(0,s.aZ)({name:"ElectronTopBar"});var c=o(4260),u=o(846),d=o(2165),p=o(7518),m=o.n(p);const f=(0,c.Z)(l,[["render",n]]),g=f;m()(l,"components",{QBar:u.Z,QBtn:d.Z})},6804:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>dt});var s=o(3673),r=o(2323);const a={key:0,class:"q-ml-sm"},i={key:1,class:"q-ml-sm"},n={key:2,class:"q-ml-sm"},l={class:"q-gutter-sm row items-center no-wrap"},c={key:0,class:"text-grey-6 text-right q-gutter-x-sm"},u=(0,s.Uk)("Notifications"),d={class:"row no-wrap q-pa-md justify-arround"},p={class:"column col items-center q-gutter-y-md"},m=(0,s.Uk)("Lock Screen"),f=(0,s.Uk)("Receipt Settings"),g=(0,s.Uk)("Header"),w=(0,s.Uk)("Footer"),_=(0,s.Uk)("Receipt Settings"),y=(0,s.Uk)("Loading Screen"),h={class:"full-width text-center self-center q-mt-lg q-pt-sm"},k={class:"column col items-center q-gutter-y-sm"},v={key:0},b={class:"text-body2 text-center text-weight-medium text-grey-8"},x=(0,s.Uk)("Account"),q={class:"APP__side-btn__label"},$=(0,s.Uk)("Lockscreen"),W=(0,s.Uk)("Refresh Server"),j=(0,s.Uk)("Logout Session"),U=(0,s.Uk)("Exit App");function Z(e,t,o,Z,z,P){const A=(0,s.up)("ElectronTopBar"),C=(0,s.up)("q-icon"),O=(0,s.up)("q-btn"),Q=(0,s.up)("q-toolbar-title"),S=(0,s.up)("q-space"),L=(0,s.up)("q-badge"),D=(0,s.up)("q-time"),M=(0,s.up)("q-tooltip"),I=(0,s.up)("Notifications"),H=(0,s.up)("q-menu"),T=(0,s.up)("q-avatar"),F=(0,s.up)("q-item-label"),E=(0,s.up)("q-item-section"),B=(0,s.up)("q-item"),Y=(0,s.up)("q-separator"),N=(0,s.up)("q-list"),V=(0,s.up)("q-slider"),R=(0,s.up)("q-circular-progress"),K=(0,s.up)("q-card"),X=(0,s.up)("q-toolbar"),G=(0,s.up)("q-header"),J=(0,s.up)("MainMenu"),ee=(0,s.up)("q-drawer"),te=(0,s.up)("UsersList"),oe=(0,s.up)("q-page-sticky"),se=(0,s.up)("router-view"),re=(0,s.up)("q-page-container"),ae=(0,s.up)("q-ajax-bar"),ie=(0,s.up)("q-layout"),ne=(0,s.Q2)("close-popup"),le=(0,s.Q2)("touch-pan");return(0,s.wg)(),(0,s.j4)(ie,{view:"lHh LpR fff"},{default:(0,s.w5)((()=>[(0,s.Wm)(G,{elevated:"",class:(0,r.C_)(e.$root.app_settings.darkmode?"bg-dark text-grey-3":"bg-white text-grey-8"),"height-hint":"64"},{default:(0,s.w5)((()=>[e.$root.isElectron?((0,s.wg)(),(0,s.j4)(A,{key:0})):(0,s.kq)("",!0),(0,s.Wm)(X,{class:"APP__toolbar",style:{height:"64px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(Q,{shrink:"",class:"row items-center no-wrap"},{default:(0,s.w5)((()=>[(0,s.Wm)(O,{flat:"",ripple:"","no-caps":"",size:"lg",class:"no-margin no-padding q-pa-none q-ma-none hover-animate-rotate-15",onClick:e.toggleLeftDrawer},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{size:"lg",class:"q-ma-sm",color:"primary",name:"img:assets/icons/favicon-96x96.png"})])),_:1},8,["onClick"]),e.$q.screen.gt.sm?((0,s.wg)(),(0,s.iD)("span",a,(0,r.zw)(e.company.name),1)):e.$q.screen.gt.xs?((0,s.wg)(),(0,s.iD)("span",i,(0,r.zw)(e.company.name_short),1)):((0,s.wg)(),(0,s.iD)("span",n,(0,r.zw)(e.company.name_abbr),1))])),_:1}),(0,s.Wm)(S),(0,s._)("div",l,[e.$q.screen.gt.xs?((0,s.wg)(),(0,s.iD)("div",c,[e.$root.isLogin?((0,s.wg)(),(0,s.j4)(L,{key:0,align:"middle",class:"q-pa-sm",color:"primary"},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{name:"place"}),(0,s.Uk)(" "+(0,r.zw)(e.getObj(e.authenticated,"data.branch_location")),1)])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(L,{align:"middle",class:"q-pa-sm",color:"primary"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.date.formatDate(e.$root.realtimeDate,"dddd")),1)])),_:1}),(0,s.Uk)(" "+(0,r.zw)(e.date.formatDate(e.$root.realtimeDate,"MMM D, YYYY h:mma"))+" ",1),(0,s.Wm)(M,{class:"bg-transparent text-dark text-weight-bold"},{default:(0,s.w5)((()=>[(0,s.Wm)(D,{readonly:"","with-seconds":"",modelValue:e.currentTime,"onUpdate:modelValue":t[0]||(t[0]=t=>e.currentTime=t),style:{"border-radius":"15px"}},null,8,["modelValue"])])),_:1})])):(0,s.kq)("",!0),(0,s.Wm)(O,{flat:"",round:"",size:"md",color:"grey-8",class:"hover-text-primary",icon:"notifications"},{default:(0,s.w5)((()=>[e.totalUnseenNotif?((0,s.wg)(),(0,s.j4)(L,{key:0,color:"red","text-color":"white",floating:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.totalUnseenNotif),1)])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(H,{offset:[0,13],"transition-duration":250,"transition-show":"jump-down","transition-hide":"jump-up",style:{"border-radius":"15px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(I,{style:(0,r.j5)((Object.keys(e.notifications).length?"width: 370px":"width: 200px")+";")},null,8,["style"])])),_:1}),(0,s.Wm)(M,null,{default:(0,s.w5)((()=>[u])),_:1})])),_:1}),(0,s.Wm)(O,{flat:"",dense:"",round:"",size:"md"},{default:(0,s.w5)((()=>[(0,s.Wm)(T,{color:"primary","text-color":"grey-3",class:"text-h6"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.getObj(e.authenticated,"data.firstname","x").toUpperCase().charAt(0)),1)])),_:1}),(0,s.Wm)(H,{offset:[0,17],"transition-duration":250,"transition-show":"jump-down","transition-hide":"jump-up",style:{"border-radius":"15px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(K,{flat:"",style:{"min-width":"325px","max-width":"450px"}},{default:(0,s.w5)((()=>[(0,s._)("div",d,[(0,s._)("div",p,[(0,s._)("div",{style:{"border-radius":"15px","max-width":"200px"},class:(0,r.C_)(["full-width text-center self-center q-py-xs",e.$root.app_settings.darkmode?"bg-grey-10":"bg-grey-2"])},[(0,s.Wm)(O,{flat:"",round:"",size:"md",icon:"lock",class:"hover-text-primary",color:e.$root.app_settings.autolock.lock?"primary":"grey-6",to:e.$config.router.lock},{default:(0,s.w5)((()=>[(0,s.Wm)(M,null,{default:(0,s.w5)((()=>[m])),_:1})])),_:1},8,["color","to"]),(0,s.Wm)(O,{flat:"",round:"",size:"md",color:e.$root.app_settings.receipt.header||e.$root.app_settings.receipt.footer?"primary":"grey-6",icon:"receipt"},{default:(0,s.w5)((()=>[(0,s.Wm)(H,{"transition-duration":250,"transition-show":"jump-down","transition-hide":"jump-up"},{default:(0,s.w5)((()=>[(0,s.Wm)(N,null,{default:(0,s.w5)((()=>[(0,s.Wm)(F,{header:""},{default:(0,s.w5)((()=>[f])),_:1}),(0,s.Wm)(B,{clickable:"",onClick:t[1]||(t[1]=t=>e.$root.app_settings.receipt.header=!e.$root.app_settings.receipt.header)},{default:(0,s.w5)((()=>[(0,s.Wm)(E,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{color:e.$root.app_settings.receipt.header?"primary":e.$root.app_settings.darkmode?"grey-8":"grey-5",name:e.$root.app_settings.receipt.header?"visibility":"visibility_off"},null,8,["color","name"])])),_:1}),(0,s.Wm)(E,null,{default:(0,s.w5)((()=>[(0,s.Wm)(F,null,{default:(0,s.w5)((()=>[g])),_:1}),(0,s.Wm)(F,{caption:""},{default:(0,s.w5)((()=>[(0,s.Uk)(" Header is "+(0,r.zw)(e.$root.app_settings.receipt.header?"visible":" hidden")+" on receipt ",1)])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Y,{inset:"item"}),(0,s.Wm)(B,{clickable:"",onClick:t[2]||(t[2]=t=>e.$root.app_settings.receipt.footer=!e.$root.app_settings.receipt.footer)},{default:(0,s.w5)((()=>[(0,s.Wm)(E,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{color:e.$root.app_settings.receipt.footer?"primary":e.$root.app_settings.darkmode?"grey-8":"grey-5",name:e.$root.app_settings.receipt.footer?"visibility":"visibility_off"},null,8,["color","name"])])),_:1}),(0,s.Wm)(E,null,{default:(0,s.w5)((()=>[(0,s.Wm)(F,null,{default:(0,s.w5)((()=>[w])),_:1}),(0,s.Wm)(F,{caption:""},{default:(0,s.w5)((()=>[(0,s.Uk)(" Footer is "+(0,r.zw)(e.$root.app_settings.receipt.footer?"visible":" hidden")+" on receipt ",1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,s.Wm)(M,null,{default:(0,s.w5)((()=>[_])),_:1})])),_:1},8,["color"]),(0,s.Wm)(O,{flat:"",round:"",size:"md",color:"primary",icon:e.$root.app_settings.darkmode?"dark_mode":"light_mode",onClick:t[3]||(t[3]=t=>e.$root.app_settings.darkmode=!e.$root.app_settings.darkmode)},{default:(0,s.w5)((()=>[(0,s.Wm)(M,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.$root.app_settings.darkmode?"Dark Theme":"Light Theme"),1)])),_:1})])),_:1},8,["icon"]),(0,s.Wm)(O,{flat:"",round:"",size:"md",color:e.$root.app_settings.mute?"grey-6":"primary",icon:e.$root.app_settings.mute?"volume_off":"volume_up",onClick:t[4]||(t[4]=t=>e.$root.app_settings.mute=!e.$root.app_settings.mute)},{default:(0,s.w5)((()=>[(0,s.Wm)(M,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.$root.app_settings.mute?"Sound Off":"Sound On"),1)])),_:1})])),_:1},8,["color","icon"]),(0,s.Wm)(O,{flat:"",round:"",size:"md",class:"hover-text-primary",disable:!e.$q.fullscreen.isCapable,color:e.$q.fullscreen.isActive?"primary":"grey-6",icon:e.$q.fullscreen.isActive?"fullscreen_exit":"fullscreen",onClick:e.$root.fullscreenToggle},{default:(0,s.w5)((()=>[(0,s.Wm)(M,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.$q.fullscreen.isActive?"Minimize":"Maximize"),1)])),_:1})])),_:1},8,["disable","color","icon","onClick"]),(0,s.Wm)(O,{flat:"",round:"",size:"md",icon:"linear_scale",color:e.$root.app_settings.loading?"primary":"grey-6",onClick:t[5]||(t[5]=t=>e.$root.app_settings.loading=!e.$root.app_settings.loading)},{default:(0,s.w5)((()=>[(0,s.Wm)(M,null,{default:(0,s.w5)((()=>[y])),_:1})])),_:1},8,["color"])],2),(0,s._)("div",h,[(0,s.Wm)(V,{label:"",markers:"",step:1,"label-always":"","track-size":"10px",modelValue:e.$root.app_settings.autolock.lock,"onUpdate:modelValue":t[6]||(t[6]=t=>e.$root.app_settings.autolock.lock=t),min:e.$root.app_settings.autolock.min,max:e.$root.app_settings.autolock.max,"label-value":`Autolock ${e.$root.autoLockLabel}`},null,8,["modelValue","min","max","label-value"])])]),(0,s.Wm)(Y,{vertical:"",inset:"",class:"q-mx-lg"}),(0,s._)("div",k,[(0,s.Wm)(R,{min:0,max:30,"show-value":"",size:"72px","font-size":"25px",color:"grey-3",thickness:.1,indeterminate:e.animateProfile,"track-color":e.animateProfile?"blue-3":"blue-2","center-color":"primary",class:"text-weight-bold text-white",onMouseover:t[7]||(t[7]=t=>e.animateProfile=!1),onMouseleave:t[8]||(t[8]=t=>e.animateProfile=!0)},{default:(0,s.w5)((()=>[(0,s.Wm)(O,{flat:"",round:"",dense:"",size:"lg",color:"white",icon:"person",class:"absolute-center",to:e.$config.router.profile,style:(0,r.j5)("opacity: "+(e.animateProfile?"0.1":"1"))},null,8,["to","style"]),e.animateProfile?((0,s.wg)(),(0,s.iD)("span",v,(0,r.zw)(e.getObj(e.authenticated,"data.firstname","").charAt(0)),1)):(0,s.kq)("",!0)])),_:1},8,["thickness","indeterminate","track-color"]),(0,s._)("div",b,(0,r.zw)(`${e.getObj(e.authenticated,"data.firstname","")} ${e.getObj(e.authenticated,"data.lastname","")}`),1),(0,s.wy)((0,s.Wm)(O,{outline:"","no-caps":"",rounded:"",size:"md",icon:"logout",label:"Logout",color:"grey-6",class:"full-width q-mt-md hover-bg-primary hover-text-white",onClick:e.logout},null,8,["onClick"]),[[ne]])])])])),_:1})])),_:1}),(0,s.Wm)(M,null,{default:(0,s.w5)((()=>[x])),_:1})])),_:1})])])),_:1})])),_:1},8,["class"]),(0,s.Wm)(ee,{bordered:"",side:"left",behavior:"mobile",style:{"z-index":"9"},modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[9]||(t[9]=t=>e.leftDrawerOpen=t),"no-swipe-open":!e.$q.screen.lt.sm,"no-swipe-close":!e.$q.screen.lt.sm,"no-swipe-backdrop":!e.$q.screen.lt.sm},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)(J,{key:e.$root.essentialLinks}))])),_:1},8,["modelValue","no-swipe-open","no-swipe-close","no-swipe-backdrop"]),e.$root.accessLevel<3?((0,s.wg)(),(0,s.j4)(ee,{key:0,bordered:"",side:"right",width:275,style:{"z-index":"9"},modelValue:e.rightDrawerOpen,"onUpdate:modelValue":t[10]||(t[10]=t=>e.rightDrawerOpen=t),"no-swipe-open":!e.$q.screen.lt.sm,"no-swipe-close":!e.$q.screen.lt.sm,"no-swipe-backdrop":!e.$q.screen.lt.sm},{default:(0,s.w5)((()=>[(0,s.Wm)(te)])),_:1},8,["modelValue","no-swipe-open","no-swipe-close","no-swipe-backdrop"])):(0,s.kq)("",!0),e.$root.accessLevel<3?((0,s.wg)(),(0,s.j4)(oe,{key:1,style:{"z-index":"7"},position:"top-right",offset:e.rightDrawerOpen?[-20,15]:e.usersHeadPos},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(O,{flat:"",round:"",size:"lg",class:"hover-text-primary",onClick:e.toggleRightDrawer,ripple:{color:"secondary"},color:e.$root.app_settings.darkmode?"grey-8":"grey-5",icon:e.rightDrawerOpen?"chevron_right":"supervised_user_circle",disable:e.draggingUsersHead},{default:(0,s.w5)((()=>[(0,s.Wm)(M,{offset:[10,10],self:"center end",anchor:"center start"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.rightDrawerOpen?"Hide":"Users"),1)])),_:1})])),_:1},8,["onClick","color","icon","disable"])),[[le,e.moveUsersHead,void 0,{prevent:!0,mouse:!0}]])])),_:1},8,["offset"])):(0,s.kq)("",!0),(0,s.Wm)(re,{class:"APP__page-container",style:(0,r.j5)(e.$q.screen.gt.sm&&e.$root.favoriteLinkKeys&&e.$root.favoriteLinkKeys.length?"padding-left: 94px":"")},{default:(0,s.w5)((()=>[(0,s.Wm)(se,null,{default:(0,s.w5)((({Component:e})=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e)))])),_:1}),e.$q.screen.gt.sm&&e.$root.favoriteLinkKeys&&e.$root.favoriteLinkKeys.length?((0,s.wg)(),(0,s.j4)(oe,{key:0,expand:"",position:"left"},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,r.C_)(["fit q-pt-xl q-px-sm column",e.$root.app_settings.darkmode?"text-grey-6":"text-grey-8"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.$root.favoriteLinkKeys,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t},[!1!==e.$root.essentialLinks[t].viewif?((0,s.wg)(),(0,s.j4)(O,{key:0,round:"",flat:"",stack:"","no-caps":"",size:"26px",class:(0,r.C_)([e.$route.fullPath==e.$root.essentialLinks[t].link?"text-primary":"","APP__side-btn"]),to:e.$root.essentialLinks[t].link},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{size:"22px",name:e.$root.essentialLinks[t].icon},null,8,["name"]),(0,s._)("div",q,(0,r.zw)(String(e.$root.essentialLinks[t].title).length>13?String(e.$root.essentialLinks[t].nshort).substring(0,13):String(e.$root.essentialLinks[t].title)),1),e.$root.essentialLinks[t].title.length>13?((0,s.wg)(),(0,s.j4)(M,{key:0,offset:[10,10],self:"center start",anchor:"center end"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.$root.essentialLinks[t].title),1)])),_:2},1024)):(0,s.kq)("",!0),String(e.$root.essentialLinks[t].link)==e.$config.router.home?((0,s.wg)(),(0,s.j4)(L,{key:1,floating:"",color:"primary",class:"bg-transparent","text-color":"primary",style:{top:"5px",right:"5px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{color:"primary",name:"security",size:"xs"})])),_:1})):(0,s.kq)("",!0)])),_:2},1032,["class","to"])):(0,s.kq)("",!0)])))),128))],2)])),_:1})):(0,s.kq)("",!0)])),_:1},8,["style"]),(0,s.Wm)(H,{"context-menu":"","touch-position":"","transition-duration":250,"transition-show":"jump-down","transition-hide":"jump-up"},{default:(0,s.w5)((()=>[(0,s.Wm)(N,{style:{"min-width":"100px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(F,{header:"",class:"full-width"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(O,{flat:"","fab-mini":"",icon:"arrow_back",class:"q-mx-sm hover-text-primary",onClick:e.$root.back,disable:e.$router.options.history.state<1||!e.$router.options.history.state.back},null,8,["onClick","disable"]),[[ne]]),(0,s.wy)((0,s.Wm)(O,{flat:"","fab-mini":"",icon:"arrow_forward",class:"q-mx-sm hover-text-primary",onClick:e.$root.forward,disable:!e.$router.options.history.state.forward},null,8,["onClick","disable"]),[[ne]]),(0,s.wy)((0,s.Wm)(O,{flat:"","fab-mini":"",icon:"refresh",class:"q-mx-sm hover-text-primary animate-rotate-once-360",onClick:t[11]||(t[11]=t=>{e.addTempClassOnTarget(t,"animate-rotate-rev-360",2e3),e.$root.refresh()})},null,512),[[ne]])])),_:1}),(0,s.wy)(((0,s.wg)(),(0,s.j4)(B,{clickable:"",class:"hover-text-primary",to:e.$config.router.lock},{default:(0,s.w5)((()=>[(0,s.Wm)(E,{avatar:"",style:{"min-width":"unset"}},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{name:"lock"})])),_:1}),(0,s.Wm)(E,null,{default:(0,s.w5)((()=>[$])),_:1})])),_:1},8,["to"])),[[ne]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(B,{clickable:"",class:"hover-text-primary",onClick:e.$root.getServerInformation},{default:(0,s.w5)((()=>[(0,s.Wm)(E,{avatar:"",style:{"min-width":"unset"}},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{name:"cloud_sync"})])),_:1}),(0,s.Wm)(E,null,{default:(0,s.w5)((()=>[W])),_:1})])),_:1},8,["onClick"])),[[ne]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(B,{clickable:"",class:"hover-text-primary",onClick:e.logout},{default:(0,s.w5)((()=>[(0,s.Wm)(E,{avatar:"",style:{"min-width":"unset"}},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{name:"logout"})])),_:1}),(0,s.Wm)(E,null,{default:(0,s.w5)((()=>[j])),_:1})])),_:1},8,["onClick"])),[[ne]]),e.$root.isElectron?(0,s.wy)(((0,s.wg)(),(0,s.j4)(B,{key:0,clickable:"",class:"hover-text-primary",onClick:e.$root.closeApp},{default:(0,s.w5)((()=>[(0,s.Wm)(E,{avatar:"",style:{"min-width":"unset"}},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{name:"exit_to_app"})])),_:1}),(0,s.Wm)(E,null,{default:(0,s.w5)((()=>[U])),_:1})])),_:1},8,["onClick"])),[[ne]]):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(ae,{ref:"ajax_loader",position:"top",color:e.$root.app_settings.darkmode?"accent":"primary",size:"5px"},null,8,["color"])])),_:1})}o(7070);const z=(0,s.Uk)("Create"),P={class:"text-weight-bold"},A={class:"text-caption"},C={class:"text-overline"},O=(0,s.Uk)("Close"),Q={class:"q-py-sm",style:{"white-space":"pre-wrap"}},S={class:"text-caption text-grey-6"};function L(e,t,o,a,i,n){const l=(0,s.up)("q-tooltip"),c=(0,s.up)("q-btn"),u=(0,s.up)("q-item-label"),d=(0,s.up)("q-separator"),p=(0,s.up)("q-avatar"),m=(0,s.up)("q-item-section"),f=(0,s.up)("q-icon"),g=(0,s.up)("q-item"),w=(0,s.up)("q-scroll-area"),_=(0,s.up)("q-list"),y=(0,s.up)("q-space"),h=(0,s.up)("q-bar"),k=(0,s.up)("q-card-section"),v=(0,s.up)("q-badge"),b=(0,s.up)("q-card-actions"),x=(0,s.up)("q-card"),q=(0,s.up)("q-dialog"),$=(0,s.Q2)("close-popup"),W=(0,s.Q2)("ripple");return(0,s.wg)(),(0,s.j4)(x,{style:{"min-width":"200px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{class:"overflow-hidden",style:(0,r.j5)(`max-height: ${e.$q.screen.height>=700?"400px":e.$q.screen.height<500?"200px":"calc(100vh - 200px)"};`)},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{header:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.notificationsCount?"":"No")+" Notifications ",1),e.$root.accessLevel>=0&&e.$root.accessLevel<3?(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{key:0,flat:"",round:"",size:"sm",style:{top:"-5px"},icon:"notification_add",class:"float-right hover-text-primary",onClick:t[0]||(t[0]=()=>e.$root.accessLevel>=0&&e.$root.accessLevel<3?e.$root.dialogAddNotif=!e.$root.dialogAddNotif:void 0)},{default:(0,s.w5)((()=>[(0,s.Wm)(l,null,{default:(0,s.w5)((()=>[z])),_:1})])),_:1})),[[$]]):(0,s.kq)("",!0)])),_:1}),e.notificationsCount?((0,s.wg)(),(0,s.j4)(w,{key:0,"thumb-style":e.$style.scrollarea.thumb,"bar-style":e.$style.scrollarea.bar,style:(0,r.j5)(`max-height: ${e.$q.screen.height>=700?"400px":e.$q.screen.height<250?"200px":"calc(100vh - 300px)"}; height: calc(60px * ${e.notificationsCount});`)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.keys(e.notifications).reverse(),((o,a)=>((0,s.wg)(),(0,s.iD)("div",{key:`${o}`},[a>0?((0,s.wg)(),(0,s.j4)(d,{key:0,inset:"item"})):(0,s.kq)("",!0),(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{clickable:"",class:(0,r.C_)(e.date.getDateDiff(e.$root.realtimeDate,new Date(e.notifications[o].date),"minutes")<=1?e.$root.app_settings.darkmode?"bg-grey-9":"bg-grey-3":""),onMouseover:()=>{e.index_on_hover=a,e.seenNotif(e.notifications[o])},onMouseout:t[1]||(t[1]=t=>e.index_on_hover=null),onClick:t=>e.openNotif(e.notifications[o])},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:(0,r.C_)(e.index_on_hover!=a&&e.notifications[o].seen?e.$root.app_settings.darkmode?"bg-grey-8 text-grey-6":"bg-grey-4 text-grey-7":"bg-primary text-grey-3")},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.getObj(e.users,`${e.notifications[o].from}.firstname`,e.notifications[o].from).charAt(0)),1)])),_:2},1032,["class"])])),_:2},1024),(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{lines:"1",class:(0,r.C_)(e.notifications[o].seen?e.index_on_hover==a?"text-primary":"":"text-weight-bold text-primary")},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.notifications[o].payload.title||"No Title"),1)])),_:2},1032,["class"]),(0,s.Wm)(u,{caption:"",lines:"2"},{default:(0,s.w5)((()=>[(0,s._)("span",P,(0,r.zw)(e.getObj(e.users,`${e.notifications[o].from}.firstname`,e.notifications[o].from))+": ",1),(0,s.Uk)(" "+(0,r.zw)(e.notifications[o].payload.message),1)])),_:2},1024)])),_:2},1024),(0,s.Wm)(m,{side:"",top:""},{default:(0,s.w5)((()=>[(0,s._)("span",A,(0,r.zw)(e.relativeDate(e.notifications[o].date)),1),(0,s.Wm)(f,{size:"xs",name:e.notifications[o].to==e.authenticated.data.userid?"verified_user":"public",color:e.notifications[o].seen?e.index_on_hover==a?"primary":"grey":"primary"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.notifications[o].to==e.authenticated.data.userid?"Personal":"Everyone"),1)])),_:2},1024)])),_:2},1032,["name","color"])])),_:2},1024)])),_:2},1032,["class","onMouseover","onClick"])),[[W]])])))),128))])),_:1},8,["thumb-style","bar-style","style"])):(0,s.kq)("",!0)])),_:1},8,["style"]),(0,s.Wm)(q,{modelValue:e.visible_notif.status,"onUpdate:modelValue":t[3]||(t[3]=t=>e.visible_notif.status=t),"transition-duration":250,"transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{class:(0,r.C_)(e.$root.app_settings.darkmode?"":"bg-grey-3"),style:{width:"500px","max-width":"80vw","border-radius":"15px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{style:{height:"50px"},class:"bg-accent text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{class:"hover-text-primary",name:e.getObj(e.notifications,`${e.visible_notif.id}.to`)==e.getObj(e.authenticated,"data.userid")?"verified_user":"public"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.getObj(e.notifications,`${e.visible_notif.id}.to`)==e.getObj(e.authenticated,"data.userid")?"Personal":"Everyone"),1)])),_:1})])),_:1},8,["name"]),(0,s._)("div",C,(0,r.zw)(e.getObj(e.notifications,`${e.visible_notif.id}.payload.title`,"No Title")),1),(0,s.Wm)(y),(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{flat:"",round:"",dense:"",autofocus:"",icon:"close"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,null,{default:(0,s.w5)((()=>[O])),_:1})])),_:1})),[[$]])])),_:1}),(0,s.Wm)(k,null,{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,r.C_)(["text-h6 text-center",e.$root.app_settings.darkmode?"text-primary":"text-accent"])},null,2)])),_:1}),(0,s.Wm)(k,{style:(0,r.j5)(["box-shadow: rgba(0, 0, 0, 0.1) 0px 01px 3px, rgba(0, 0, 0, 0.1) 0px 1px 1px, rgba(0, 0, 0, 0.1) 0px 1px 1px -1px",{"border-radius":"15px",background:"#c0c0c0"}]),class:(0,r.C_)(["q-pt-none q-mx-md q-pa-md",e.$root.app_settings.darkmode?"bg-grey-10 text-grey-3":"bg-grey-3 text-grey-9"])},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{"thumb-style":e.$style.scrollarea.thumb,"bar-style":e.$style.scrollarea.bar,style:(0,r.j5)(`max-height: calc(100vh - 200px); min-height: 35px; height: calc(35px + (18px * ${Math.floor(Array.from(e.getObj(e.notifications,`${e.visible_notif.id}.payload.message`,"")).filter((e=>"\n"==e)).length+Array.from(e.getObj(e.notifications,`${e.visible_notif.id}.payload.message`,"")).filter((e=>"\n"!=e)).length/60)||1}));`)},{default:(0,s.w5)((()=>[(0,s._)("div",Q,(0,r.zw)(e.getObj(e.notifications,`${e.visible_notif.id}.payload.message`,"")),1)])),_:1},8,["thumb-style","bar-style","style"]),(0,s.Wm)(v,{transparent:"",class:"absolute float-left bg-transparent",style:{top:"-15px",left:"-15px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{size:"lg",color:"primary",name:"mark_chat_read",class:"hover-text-secondary"})])),_:1})])),_:1},8,["style","class"]),(0,s.Wm)(b,{align:"center",class:"q-gutter-x-xs"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(c,{flat:"",round:"",ripple:"","no-caps":"",unelevated:"",title:"Unread",color:"grey-6",icon:"mark_email_unread",class:"q-px-lg hover-text-primary",onClick:t[2]||(t[2]=t=>e.toggleSeenNotif(e.getObj(e.notifications,`${e.visible_notif.id}`)))},null,512),[[$]]),(0,s._)("span",null,[(0,s.Uk)((0,r.zw)(e.getObj(e.users,`${e.notifications[e.visible_notif.id].from}.firstname`,`${e.notifications[e.visible_notif.id].from}`))+" ",1),(0,s.Wm)(v,{color:"grey-6"},{default:(0,s.w5)((()=>[(0,s.Uk)(" #"+(0,r.zw)(e.getObj(e.users,`${e.notifications[e.visible_notif.id].from}.userid`,"")),1)])),_:1}),(0,s.Wm)(l,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.getObj(e.users,`${e.notifications[e.visible_notif.id].from}.position`,"Anonymous")),1)])),_:1})]),(0,s._)("span",S," ("+(0,r.zw)(e.relativeDate(e.getObj(e.notifications,`${e.visible_notif.id}.date`,new Date)))+") ",1)])),_:1})])),_:1},8,["class"])])),_:1},8,["modelValue"])])),_:1})}var D=o(1959),M=o(3617),I=o(5616),H=o(6386);const T=(0,s.aZ)({data(){return{leftDrawerOpen:(0,D.iH)(!1),date:I.ZP,index_on_hover:(0,D.iH)(null),getObj:H.Sw,visible_notif:(0,D.iH)({status:!1,id:null}),last_seen:(0,D.iH)(null),last_unseen:(0,D.iH)(null),relativeDate:H.K8}},computed:{...(0,M.rn)("user",["authenticated","users","notifications"]),...(0,M.Se)("user",["personalNotifications","publicNotifications"]),notificationsCount(){return Object.keys(this.notifications).length}},methods:{...(0,M.OI)("user",["seenNotification","unseenNotification"]),async openNotif(e){this.visible_notif={status:!0,id:e.id},this.seenNotif(e)},async seenNotif(e){this.last_seen=e,this.seenNotification(e)},async unseenNotif(e){this.last_unseen=e,this.unseenNotification(e)},async toggleSeenNotif(e){!0===e.seen?this.unseenNotif(e):this.seenNotif(e)},async doLog(e){console.log(e)}}});var F=o(4260),E=o(151),B=o(7011),Y=o(2350),N=o(2165),V=o(8870),R=o(7704),K=o(5869),X=o(3414),G=o(2035),J=o(5096),ee=o(4554),te=o(6778),oe=o(846),se=o(2025),re=o(5589),ae=o(9721),ie=o(9367),ne=o(677),le=o(860),ce=o(7518),ue=o.n(ce);const de=(0,F.Z)(T,[["render",L]]),pe=de;ue()(T,"components",{QCard:E.Z,QList:B.Z,QItemLabel:Y.Z,QBtn:N.Z,QTooltip:V.Z,QScrollArea:R.Z,QSeparator:K.Z,QItem:X.Z,QItemSection:G.Z,QAvatar:J.Z,QIcon:ee.Z,QDialog:te.Z,QBar:oe.Z,QSpace:se.Z,QCardSection:re.Z,QBadge:ae.Z,QCardActions:ie.Z}),ue()(T,"directives",{ClosePopup:ne.Z,Ripple:le.Z});var me=o(9949),fe=o.n(me);const ge=(0,s._)("img",{class:"q-pl-md",src:fe()},null,-1),we={class:"q-ml-sm"},_e={class:"text-overline text-grey-6"},ye=(0,s.Uk)(" Server Information "),he=(0,s.Uk)("Refresh"),ke={class:"text-grey-6"},ve={class:"float-left text-caption"},be={class:"text-grey-6"},xe={class:"q-mt-md"},qe={class:"text-center absolute-bottom",style:{bottom:"5px"}},$e={class:"APP__drawer-footer-link","aria-label":"Copyright"};function We(e,t,o,a,i,n){const l=(0,s.up)("q-toolbar-title"),c=(0,s.up)("q-toolbar"),u=(0,s.up)("EssentialLink"),d=(0,s.up)("q-separator"),p=(0,s.up)("q-icon"),m=(0,s.up)("q-item-section"),f=(0,s.up)("q-tooltip"),g=(0,s.up)("q-btn"),w=(0,s.up)("q-item-label"),_=(0,s.up)("q-item"),y=(0,s.up)("q-linear-progress"),h=(0,s.up)("q-badge"),k=(0,s.up)("q-list"),v=(0,s.up)("q-scroll-area");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(c,{class:"APP__toolbar absolute-top",style:{height:"75px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{class:"row items-center"},{default:(0,s.w5)((()=>[ge,(0,s._)("span",we,[(0,s.Uk)((0,r.zw)(e.company.name_abbr)+" ",1),(0,s._)("small",_e,"v"+(0,r.zw)(e.$config.pkjson.version),1)])])),_:1})])),_:1}),(0,s.Wm)(v,{class:(0,r.C_)(e.$root.app_settings.darkmode?"text-grey-3":"text-grey-8"),style:{height:"calc(100% - 65px)","margin-top":"65px"},"thumb-style":e.$style.scrollarea.thumb,"bar-style":e.$style.scrollarea.bar},{default:(0,s.w5)((()=>[(0,s.Wm)(k,{padding:"",class:(0,r.C_)(e.$root.app_settings.darkmode?"text-white":"")},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.keys(e.$root.essentialLinks),(t=>((0,s.wg)(),(0,s.j4)(u,(0,s.dG)({key:t,objkey:t},e.$root.essentialLinks[t],{_class:"APP__drawer-item hover-text-primary"}),null,16,["objkey"])))),128)),(0,s.Wm)(d,{class:"q-my-md"}),(0,s._)("div",{class:"text-grey-7",onMouseover:t[0]||(t[0]=t=>e.manual_server_refresh=!0),onMouseleave:t[1]||(t[1]=t=>e.manual_server_refresh=!1)},[(0,s.Wm)(_,{class:"APP__drawer-item APP__drawer-item--server"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{color:e.$root.isOnline?"primary":"grey-7",name:e.$root.isOnline?"cloud":"dns"},null,8,["color","name"])])),_:1}),(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,{class:(0,r.C_)(e.$root.isOnline?"text-primary":"text-grey-7")},{default:(0,s.w5)((()=>[ye,e.manual_server_refresh?((0,s.wg)(),(0,s.j4)(g,{key:0,flat:"",round:"",size:"xs",icon:"refresh",color:"grey-6",class:"hover-text-primary",onClick:e.$root.getServerInformation},{default:(0,s.w5)((()=>[(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[he])),_:1})])),_:1},8,["onClick"])):(0,s.kq)("",!0)])),_:1},8,["class"])])),_:1})])),_:1}),(0,s.Wm)(_,{class:"APP__drawer-item APP__drawer-item--server"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{name:"account_tree"})])),_:1}),(0,s.Wm)(m,{top:""},{default:(0,s.w5)((()=>[(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.getObj(e.$root.server_info,"info.os.type","Server"))+" "+(0,r.zw)(e.getObj(e.$root.server_info,"info.os.arch","X"))+" ",1),(0,s._)("small",ke," r."+(0,r.zw)(e.getObj(e.$root.server_info,"info.os.release","0.0.0")),1)])),_:1}),(0,s.Wm)(y,{value:1-e.server_freeMemory/e.server_totalMemory,class:"q-my-sm",color:e.server_usedMemoryPercent>=70?"negative":"primary"},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{class:(0,r.C_)(["text-body2",e.server_usedMemoryPercent>=70?"bg-negative":"bg-primary"])},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.server_usedMemoryPercent)+"% ",1)])),_:1},8,["class"])])),_:1},8,["value","color"]),(0,s.Wm)(w,{caption:""},{default:(0,s.w5)((()=>[(0,s._)("span",ve,(0,r.zw)(e.humanStorageSize(e.server_usedMemory))+"/"+(0,r.zw)(e.humanStorageSize(e.server_totalMemory)),1),e.server_usedMemoryPercent>=70?((0,s.wg)(),(0,s.j4)(h,{key:0,class:(0,r.C_)(["float-right text-caption",e.server_usedMemoryPercent>=70?"text-white":e.$root.app_settings.darkmode?"text-dark":"text-grey-6"]),color:e.server_usedMemoryPercent>=70?"negative":e.$root.app_settings.darkmode?"grey-6":"grey-3"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(`Free: ${e.humanStorageSize(e.server_freeMemory)}`),1)])),_:1},8,["class","color"])):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1}),(0,s.Wm)(_,{class:"APP__drawer-item APP__drawer-item--server"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{name:"memory"})])),_:1}),(0,s.Wm)(m,{top:""},{default:(0,s.w5)((()=>[(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Uk)(" Uptime "+(0,r.zw)(`${e.server_upTime}hr${e.server_upTime>1?"s":""}`)+" ",1),(0,s._)("small",be," / "+(0,r.zw)(`${Number(e.server_upTime/24).toFixed(1)} day${e.server_upTime/24>1?"s":""}`),1)])),_:1}),(0,s.Wm)(w,{caption:""},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{class:(0,r.C_)(["float-left text-caption text-dark",e.$root.app_settings.darkmode?"text-dark":"text-grey-6"]),color:e.$root.app_settings.darkmode?"grey-6":"grey-3"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(`CPU${e.getObj(e.$root.server_info,"info.os.cpus",[]).length>1?"s":""}: ${e.getObj(e.$root.server_info,"info.os.cpus",[]).length}`),1)])),_:1},8,["class","color"]),(0,s.Wm)(h,{class:(0,r.C_)(["float-right text-caption text-dark",e.$root.app_settings.darkmode?"text-dark":"text-grey-6"]),color:e.$root.app_settings.darkmode?"grey-6":"grey-3"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(`Drive${e.getObj(e.$root.server_info,"info.os.drives",[]).length>1?"s":""}: ${e.getObj(e.$root.server_info,"info.drives",[]).length}`),1)])),_:1},8,["class","color"])])),_:1})])),_:1})])),_:1})],32),(0,s._)("div",xe,[(0,s._)("div",qe,[(0,s._)("a",$e,(0,r.zw)(e.company.name_abbr)+" Â© "+(0,r.zw)(e.$root.realtimeDate?e.$root.realtimeDate.getFullYear():1998),1)])])])),_:1},8,["class"])])),_:1},8,["class","thumb-style","bar-style"])],64)}var je=o(8880);function Ue(e,t,o,a,i,n){const l=(0,s.up)("q-icon"),c=(0,s.up)("q-item-section"),u=(0,s.up)("q-img"),d=(0,s.up)("q-avatar"),p=(0,s.up)("q-item-label"),m=(0,s.up)("q-tooltip"),f=(0,s.up)("q-btn"),g=(0,s.up)("q-item"),w=(0,s.up)("q-separator");return(0,s.wg)(),(0,s.iD)(s.HY,null,[!1!==e.viewif?((0,s.wg)(),(0,s.j4)(g,{key:0,exact:"","v-ripple":!(!e.link&&!e.action),clickable:!(!e.link&&!e.action),to:e.link?e.link:void 0,onClick:e.action,class:(0,r.C_)(e._class),style:(0,r.j5)(e._style)},{default:(0,s.w5)((()=>[e.icon?((0,s.wg)(),(0,s.j4)(c,{key:0,avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{name:e.icon},null,8,["name"])])),_:1})):e.img?((0,s.wg)(),(0,s.j4)(c,{key:1,avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{size:"26px"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{src:e.img},null,8,["src"])])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.title),1)])),_:1}),(0,s.Wm)(p,{caption:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.caption),1)])),_:1})])),_:1}),(0,s.Wm)(c,{side:"",style:(0,r.j5)(-1!==e.$root.favoriteLinkKeys.indexOf(e.objkey)?"opacity: 0.25":"opacity: 0.2"),class:"hover-text-primary"},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{flat:"",round:"",size:"xs",icon:-1!==e.$root.favoriteLinkKeys.indexOf(e.objkey)?"favorite":"favorite_border",onClick:t[0]||(t[0]=(0,je.iM)((t=>e.$root.toogleFavorite(e.objkey)),["prevent","stop"]))},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(-1===e.$root.favoriteLinkKeys.indexOf(e.objkey)?"Add to Favorite":"Remove from Favorite"),1)])),_:1})])),_:1},8,["icon"])])),_:1},8,["style"])])),_:1},8,["v-ripple","clickable","to","onClick","class","style"])):(0,s.kq)("",!0),e.separator?((0,s.wg)(),(0,s.j4)(w,{key:1,class:"q-my-md"})):(0,s.kq)("",!0)],64)}const Ze=(0,s.aZ)({name:"EssentialLink",props:{title:{type:String,required:!0},objkey:{},caption:{type:String,default:""},description:{type:String,default:""},shortcut:{type:String,default:""},link:{type:String},action:{type:Function,default:()=>{}},icon:{type:String},img:{type:String},nshort:{type:String},separator:{type:Boolean,default:!1},viewif:{default:!0},_class:{type:String},_style:{type:String}}});var ze=o(4027);const Pe=(0,F.Z)(Ze,[["render",Ue]]),Ae=Pe;ue()(Ze,"components",{QItem:X.Z,QItemSection:G.Z,QIcon:ee.Z,QAvatar:J.Z,QImg:ze.Z,QItemLabel:Y.Z,QBtn:N.Z,QTooltip:V.Z,QSeparator:K.Z}),ue()(Ze,"directives",{Ripple:le.Z});var Ce=o(2130);const Oe=(0,s.aZ)({name:"MainMenu",components:{EssentialLink:Ae},data(){return{date:I.ZP,getObj:H.Sw,humanStorageSize:Ce.ZP.humanStorageSize,manual_server_refresh:!1}},computed:{...(0,M.rn)("company",["company"]),server_upTime(){return Number((0,H.Sw)(this.$root.server_info,"info.os.uptime",0)/60/60).toFixed(2)},server_freeMemory(){return(0,H.Sw)(this.$root.server_info,"info.os.freemem",0)},server_totalMemory(){return(0,H.Sw)(this.$root.server_info,"info.os.totalmem",0)},server_usedMemoryPercent(){return Number(100*(1-this.server_freeMemory/this.server_totalMemory)).toFixed(2)},server_usedMemory(){return this.server_totalMemory-this.server_freeMemory}}});var Qe=o(9570),Se=o(3747),Le=o(1598);const De=(0,F.Z)(Oe,[["render",We]]),Me=De;ue()(Oe,"components",{QToolbar:Qe.Z,QToolbarTitle:Se.Z,QScrollArea:R.Z,QList:B.Z,QSeparator:K.Z,QItem:X.Z,QItemSection:G.Z,QIcon:ee.Z,QItemLabel:Y.Z,QBtn:N.Z,QTooltip:V.Z,QLinearProgress:Le.Z,QBadge:ae.Z});const Ie=(0,s.Uk)(" Add User "),He=(0,s.Uk)(" Just You "),Te={class:"q-mt-md"},Fe={class:"text-center absolute-bottom",style:{opacity:"0.75"}},Ee={class:"text-caption text-grey-6"};function Be(e,t,o,a,i,n){const l=(0,s.up)("q-icon"),c=(0,s.up)("q-toolbar-title"),u=(0,s.up)("q-tooltip"),d=(0,s.up)("q-btn"),p=(0,s.up)("q-toolbar"),m=(0,s.up)("q-item-section"),f=(0,s.up)("q-item-label"),g=(0,s.up)("q-badge"),w=(0,s.up)("q-item"),_=(0,s.up)("q-separator"),y=(0,s.up)("q-list"),h=(0,s.up)("q-scroll-area"),k=(0,s.up)("UserInfo"),v=(0,s.up)("q-dialog"),b=(0,s.Q2)("ripple");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(p,{class:"APP__toolbar absolute-top",style:{height:"75px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"row items-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{name:"supervised_user_circle",class:"hover-text-primary",color:e.$root.app_settings.darkmode?"grey-6":"grey-8",size:"md"},null,8,["color"]),(0,s._)("span",{class:(0,r.C_)(["q-ml-sm",e.$root.app_settings.darkmode?"text-grey-6":"text-grey-8"])}," Users ",2)])),_:1}),(0,s.Wm)(d,{flat:"",round:"",size:"md",icon:"person_add",class:"hover-text-primary",color:e.$root.app_settings.darkmode?"grey-6":"grey-8",onClick:t[0]||(t[0]=t=>e.$root.dialogAddUser=!e.$root.dialogAddUser)},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{offset:[10,10],self:"center end",anchor:"center start",class:"bg-primary"},{default:(0,s.w5)((()=>[Ie])),_:1})])),_:1},8,["color"])])),_:1}),(0,s.Wm)(h,{class:(0,r.C_)(e.$root.app_settings.darkmode?"text-grey-3":"text-grey-8"),style:{height:"calc(100% - 75px)","margin-top":"60px"},"thumb-style":e.$style.scrollarea.thumb,"bar-style":e.$style.scrollarea.bar},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{padding:"",class:(0,r.C_)(e.$root.app_settings.darkmode?"text-white":"")},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.keys(e.users),((o,a)=>((0,s.wg)(),(0,s.iD)("div",{key:o},[e.users[o].userid!=e.authenticated.data.userid?(0,s.wy)(((0,s.wg)(),(0,s.j4)(w,{key:0,clickable:"",onClickCapture:()=>e.users[o].userid==e.authenticated.data.userid?void 0:e.openUserInfo(e.users[o]),class:"APP__drawer-item-right hover-text-primary",onMouseover:t=>e.index_on_hover=a,onMouseout:t[1]||(t[1]=t=>e.index_on_hover=null)},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{avatar:"",style:{"min-width":"unset !important"}},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{size:"md",name:"active"!=e.users[o].status?"no_accounts":e.checkAccessLevel(e.users[o].position)>=0&&e.checkAccessLevel(e.users[o].position)<3?"admin_panel_settings":"account_circle",color:"yes"==e.users[o].active_now||e.index_on_hover==a?"primary":"grey-6"},null,8,["name","color"])])),_:2},1024),(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[e.users[o].userid!=e.authenticated.data.userid?((0,s.wg)(),(0,s.j4)(f,{key:0},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.users[o].firstname)+" "+(0,r.zw)(e.users[o].lastname),1)])),_:2},1024)):((0,s.wg)(),(0,s.j4)(f,{key:1},{default:(0,s.w5)((()=>[He])),_:1})),(0,s.Wm)(f,{caption:"",class:"q-gutter-x-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{color:"yes"==e.users[o].active_now?"primary":"grey-6",class:(0,r.C_)(e.$root.app_settings.darkmode?"text-dark":"text-grey-3")},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{name:"numbers"}),(0,s.Uk)(" "+(0,r.zw)(e.users[o].userid),1)])),_:2},1032,["color","class"]),(0,s.Wm)(g,{color:"yes"==e.users[o].active_now?"primary":"grey-6",class:(0,r.C_)(e.$root.app_settings.darkmode?"text-dark":"text-grey-3")},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{name:"fmd_good"}),(0,s.Uk)(" "+(0,r.zw)(e.users[o].branch_location),1)])),_:2},1032,["color","class"])])),_:2},1024)])),_:2},1024),(0,s.Wm)(u,{offset:[10,10],self:"center end",anchor:"center start",class:"bg-transparent text-right q-gutter-y-xs"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(g,{color:"yes"==e.users[o].active_now?"primary":"grey-6",class:(0,r.C_)(e.$root.app_settings.darkmode?"text-dark":"text-grey-3")},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)("yes"==e.users[o].active_now?"Online":"Offline"),1)])),_:2},1032,["color","class"])]),(0,s._)("div",null,[(0,s.Wm)(g,{color:"active"!=e.users[o].status?"grey-8":"yes"==e.users[o].active_now?"primary":"grey-6",class:(0,r.C_)(e.$root.app_settings.darkmode?"text-dark":"text-grey-3")},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)("active"!=e.users[o].status?e.capitalize(e.users[o].status)+" - ":"")+(0,r.zw)(e.users[o].position),1)])),_:2},1032,["color","class"])])])),_:2},1024)])),_:2},1032,["onClickCapture","onMouseover"])),[[b]]):(0,s.kq)("",!0),e.users[o].userid!=e.authenticated.data.userid&&a+1!==Object.keys(e.users).length?((0,s.wg)(),(0,s.j4)(_,{key:1,inset:"item",style:{opacity:"0.25"}})):(0,s.kq)("",!0)])))),128)),(0,s._)("div",Te,[(0,s._)("div",Fe,[(0,s._)("a",Ee,[(0,s.Wm)(g,{rounded:"",color:"grey-6",class:"hover-bg-primary"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.onlineCount-1),1)])),_:1}),(0,s.Uk)(" Online User"+(0,r.zw)(e.onlineCount-1>1?"s":""),1)])])])])),_:1},8,["class"])])),_:1},8,["class","thumb-style","bar-style"]),(0,s.Wm)(v,{modelValue:e.dialogUserInfo,"onUpdate:modelValue":t[3]||(t[3]=t=>e.dialogUserInfo=t),"transition-duration":"100","transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Wm)(k,{userid:e.getObj(e.selectedUser,"userid",0),onSuccess:e.userFormResponse,onFailed:e.userFormResponse,onLogout:e.onUserLogout,onUnchanged:t[2]||(t[2]=t=>e.$q.notify({message:"Profile Unchanged",timeout:3e3,type:"info"}))},null,8,["userid","onSuccess","onFailed","onLogout"])])),_:1},8,["modelValue"])],64)}var Ye=o(8610);const Ne=(0,s.aZ)({name:"UsersList",components:{UserInfo:Ye.Z},data(){return{getObj:H.Sw,selectedUser:null,dialogUserInfo:!1,buttonAdd:null,usersList:null,index_on_hover:null,checkAccessLevel:H.ZZ.user.position,capitalize:Ce.ZP.capitalize}},computed:{...(0,M.rn)("user",["authenticated","users"]),...(0,M.Se)("user",["activeUsers"]),usersCount(){return Object.keys(this.users).length},onlineCount(){return Object.keys(this.activeUsers).length},offlineCount(){return this.usersCount-this.onlineCount}},methods:{async openUserInfo(e){this.selectedUser=e,this.dialogUserInfo=!0},async userFormResponse(e){this.$q.notify({message:`User #${(0,H.Sw)(e,"data.userid")||(0,H.Sw)(this.selectedUser,"userid","NULL")} - Update${e.success?"d":" Failed"}${(0,H.Sw)(e,"data.error.message")?": "+(0,H.Sw)(e,"data.error.message"):""}`,timeout:3e3,type:e.success?"positive":"negative"}),e.success&&(this.dialogUserInfo=!1)},async onUserLogout(e){const t=(0,H.Sw)(e,"success");this.$q.notify({message:"Logout "+(t?"Success":"Failed"),timeout:3e3,type:t?"positive":"negative"})}}}),Ve=(0,F.Z)(Ne,[["render",Be]]),Re=Ve;ue()(Ne,"components",{QToolbar:Qe.Z,QToolbarTitle:Se.Z,QIcon:ee.Z,QBtn:N.Z,QTooltip:V.Z,QScrollArea:R.Z,QList:B.Z,QItem:X.Z,QItemSection:G.Z,QItemLabel:Y.Z,QBadge:ae.Z,QSeparator:K.Z,QDialog:te.Z}),ue()(Ne,"directives",{Ripple:le.Z});var Ke=o(8825),Xe=o(5519);const Ge=(0,s.aZ)({name:"MainLayout",components:{MainMenu:Me,UsersList:Re,Notifications:pe,ElectronTopBar:Xe.Z},data(){return{$q:(0,Ke.Z)(),leftDrawerOpen:!1,rightDrawerOpen:!1,date:I.ZP,search:"",getObj:H.Sw,addTempClassOnTarget:H.ui,humanStorageSize:Ce.ZP.humanStorageSize,usersHeadPos:[0,0],draggingUsersHead:!1,animateProfile:!0}},setup(){const e=(0,D.iH)(null);function t(){const t=e.value;t.start(),setTimeout((()=>{const t=e.value;t&&t.stop()}),3e3*Math.random()+1e3)}return{ajax_loader:e,ajax_manual_load:t}},computed:{...(0,M.rn)("company",["company"]),...(0,M.rn)("user",["authenticated","notifications"]),...(0,M.Se)("user",["unseenNotifications"]),totalUnseenNotif(){return Object.keys(this.unseenNotifications).length},currentTime(){return I.ZP.formatDate(this.$root.realtimeDate,"HH:mm:ss")}},created(){this.usersHeadPos=[this.$q.screen.gt.sm?5:0,15],window.addEventListener("keydown",this.handleKeyDown,!0)},watch:{["$q.screen"]:{async handler(e){e.width-50<this.usersHeadPos[0]&&(this.usersHeadPos[0]=e.width-50),e.height-100<this.usersHeadPos[1]&&(this.usersHeadPos[1]=e.height-100)},deep:!0}},methods:{...(0,M.nv)("user",["logout"]),async handleKeyDown(e){let t=!1;if(this.$root.essentialShortcuts.forEach(((o,s)=>{const r=this.$root.essentialLinks[o];r.shortcut!=e.key||"undefined"!==typeof r.viewif&&!r.viewif||(r.link?(t=!0,this.$router.push(r.link)):r.action&&(t=!0,r.action()),this.$q.notify({message:`${r.title}`,timeout:3e3,type:"positive",icon:`${r.icon||"info"}`,position:"top"}))})),t||this.$root.miscShortcuts.forEach(((o,s)=>{const r=this.$root.miscLinks[o];r.shortcut!=e.key||"undefined"!==typeof r.viewif&&!r.viewif||(r.link?(t=!0,this.$router.push(r.link)):r.action&&(t=!0,r.action()))})),!t)switch(e.key){case"F8":t=!0,this.toggleLeftDrawer();break;case"F9":this.$root.isTeller||(t=!0,this.toggleRightDrawer());break}t&&e.preventDefault()},async toggleLeftDrawer(){this.leftDrawerOpen=!this.leftDrawerOpen},async toggleRightDrawer(){this.rightDrawerOpen=!this.rightDrawerOpen},moveUsersHead(e){e&&(this.draggingUsersHead=!0!==e.isFirst&&!0!==e.isFinal,this.usersHeadPos=[(window.innerWidth-50>this.usersHeadPos[0]||e.delta.x>0)&&(this.usersHeadPos[0]>-15||e.delta.x<0)?this.usersHeadPos[0]-e.delta.x:this.usersHeadPos[0],(window.innerHeight-100>this.usersHeadPos[1]||e.delta.y<0)&&(this.usersHeadPos[1]>-15||e.delta.y>0)?this.usersHeadPos[1]+e.delta.y:this.usersHeadPos[1]])}},beforeUnmount(){window.removeEventListener("keydown",this.handleKeyDown,!0)}});var Je=o(9214),et=o(3812),tt=o(5990),ot=o(811),st=o(2064),rt=o(6122),at=o(2901),it=o(1007),nt=o(2652),lt=o(614),ct=o(8406);const ut=(0,F.Z)(Ge,[["render",Z]]),dt=ut;ue()(Ge,"components",{QLayout:Je.Z,QHeader:et.Z,QToolbar:Qe.Z,QToolbarTitle:Se.Z,QBtn:N.Z,QIcon:ee.Z,QSpace:se.Z,QBadge:ae.Z,QTooltip:V.Z,QTime:tt.Z,QMenu:ot.Z,QAvatar:J.Z,QCard:E.Z,QList:B.Z,QItemLabel:Y.Z,QItem:X.Z,QItemSection:G.Z,QSeparator:K.Z,QSlider:st.Z,QCircularProgress:rt.Z,QDrawer:at.Z,QPageSticky:it.Z,QPageContainer:nt.Z,QAjaxBar:lt.Z}),ue()(Ge,"directives",{ClosePopup:ne.Z,TouchPan:ct.Z})},9949:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAACXBIWXMAAAsSAAALEgHS3X78AAACtVBMVEUjpu0ipewjrPUipewipuwjp+wq0vdHcEwipewjpewipewkpOpZxesjpu0opekjpewjpuwmvPYjpu0jpuwipu0kqvAipeYkq/EkrPMjpu0q0vcipu0ipu0lrfIlrPAipu4qmusipu4ipewip+4ip+8ip+8ip+8kpOojpewkr/Uip/Acquwkqe8ipu0ipuwhpOs83vcipewjpewlrPApmucipu0pmeglrfMlrfElrvMipu4jrPMlrvMqmeUlrvQipu0om/MipewlrvUom+8ipewom/Faxesnm/IrmOMip+8ipu8lr/UkrPQjpuwipu0ipewjqfArmOIjq/Itu/Qmv/grl+Emu/YjpOotluIip+wkvfeU0+BTw+wppusjpesksPUjpuskqe9H3/5G3/4kqO5I3Pspv/gkq/FD4P5B4P43y/Q/4f8kqO4jpuwkp+1F2PYjpu0dqesdquxG2vkipe0/4v8jqPBF1vQcqesbquwjpuojpelF/P9F0/EcqOso1vl71vslu/Y63/8bq+w94/8drO4opukkrPQhpu4cp+kjq/MhpOspq+8cqOoopehE0e4jqPEjqPAhpOsjqfEbq+0jq/Qjp+wjp+wipe0r0fcipu1Q1PsjrPUmvPYnvPFL1/wkqfAkrfRF2v4jq/UkqfAzx/Y73fcopukswvc83vcjqOw92/0kqfAipe0jqOw83vcjqO0npOUhsvE32vohpOsjqe8kqO0kqvA82vQjp+soyek83vggo+shpusy1/Ut1/IhpOYipeYipOYmvPcmu/Yjpu0jpu4jqPAjp+8kr/olsfwipu4krPQjp+4krvoipu0jqfEjqfIjqvIipe0jqPEkr/sjq/MjqvMlsPwkrvkjqO8krfcip+8krPUksPwlsf0kr/klr/Ylsf4ksv4jp/AkrfUjqvEE9hfgAAAAxXRSTlP++4j4/vovAP7+/fQY+3P7+0r9/v73Rfjr/C7y76+y6gLo9ebk4d/z/ajbBfX7+PYl+vyxAu0CrbCs7OqrAqvuAvaqAvQCGAIC4t6p6/z1+foCv1pDAkz0AvpGDBoF96H29yEh9yBk9yIiQSL09vYg+gUFIP0j2h8FBfb1Gh8FKhFFJwUkBXPozwX69GsFdR/Z2P3YBYb79/4v/ByHSwIb9YUcifYDFHUEJ/Qe9/r4JPgfAyD19/n5JPMmJfjyIyVJREVKST1nnQUAAAIZSURBVDjLfdPld9NQHMbx3yBw7y2UbKRQOvcxZcPd3d3d3d1hw93d3d1dbprRhUKnuPN3cJOmkITA5+RFXnzPc3JyE1i9bcvm2Skp7RMTExLaxcfHxcXEREXVr9UkPDwsrGVsbDPY+sFXXOzzvWZeMQUFbtVbiZFlmcI6sOlgMxtUkzE18v65dVCHRaADFOC6bAOVwFHBQbzEqCrc/+4RRfZA7yXKsXkiuQ0keHDrxvnjh9PSJg7FlHDEOzipTzmdJLj76OG1c0cP7Vs6vp8oACnqMWBgeZ3WgAKWlBE5wHn9kVEgOIH2+IPeaFDfXt3aNqpZOzq6RaumbeD2vczMS2dOIhTqD3qaF+7cvHj57JcjCJVVA6n7kOTkDs0bN6xXJyKibo3ISLggeUTb12P+gFL8rqSwMFf1UvEGMigHWSX7Awu0Ex+s4Hl28Xz1YCgtYgh6UUoLKAbzqzYEVmdhXCAU9AR2FsaFfIF6flO+Gcm0IOR3dTqdYyopho2cPGn+AlOAi0YvXJ4za8K4sSOGj5oxZc6iTeYgb5n5TZqDA+j0we3Z81JTp0+bu3jDmhV/BSHo6v8XQhC6cqqCZuXG9VbB42+5AR/XWgVPwK6ZSlZZBZXdxOH/bUCs8q9AOwuZBVQLQg2BdhhsoYtMadAnZWGniCn+8UwNdmsLUkfo7Eq3Z3zewRZ2zUy3Z/18jtBT2bW3osrlbfALIi1OJC31MMUAAAAASUVORK5CYII="}}]);