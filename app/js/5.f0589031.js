(self["webpackChunktppa_app"]=self["webpackChunktppa_app"]||[]).push([[5],{5005:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>it});var s=o(3673),a=o(2323),r=o(9949),i=o.n(r);const l=(0,s._)("img",{src:i()},null,-1),n={key:0,class:"q-ml-sm"},u={key:1,class:"q-ml-sm"},c={key:2,class:"q-ml-sm"},d={class:"q-gutter-sm row items-center no-wrap"},m={key:0,class:"text-grey-6 text-right"},p=(0,s.Uk)(" Notifications "),f={class:"row no-wrap q-px-md q-py-md justify-arround"},w={class:"column col"},g=(0,s.Uk)("Lock Screen"),y=(0,s.Uk)("Toggle Dark Mode"),h={class:"column col items-center"},_={key:0},k={class:"text-body2 q-mt-sm text-center"},v=(0,s.Uk)("Account"),b={class:"APP__side-btn__label"},q=(0,s.Uk)("Lockscreen"),x=(0,s.Uk)("Refresh Server"),j=(0,s.Uk)("Logout Session");function $(e,t,o,r,$,W){const U=(0,s.up)("q-btn"),P=(0,s.up)("q-toolbar-title"),Z=(0,s.up)("q-space"),A=(0,s.up)("q-badge"),S=(0,s.up)("q-time"),C=(0,s.up)("q-tooltip"),z=(0,s.up)("Notifications"),O=(0,s.up)("q-menu"),Q=(0,s.up)("q-img"),M=(0,s.up)("q-avatar"),D=(0,s.up)("q-toggle"),L=(0,s.up)("q-slider"),I=(0,s.up)("q-separator"),H=(0,s.up)("q-circular-progress"),F=(0,s.up)("q-card"),E=(0,s.up)("q-toolbar"),T=(0,s.up)("q-header"),V=(0,s.up)("MainMenu"),Y=(0,s.up)("q-drawer"),N=(0,s.up)("UsersList"),B=(0,s.up)("q-page-sticky"),R=(0,s.up)("router-view"),X=(0,s.up)("q-icon"),K=(0,s.up)("q-page-container"),G=(0,s.up)("q-item-label"),J=(0,s.up)("q-item-section"),ee=(0,s.up)("q-item"),te=(0,s.up)("q-list"),oe=(0,s.up)("q-ajax-bar"),se=(0,s.up)("q-layout"),ae=(0,s.Q2)("close-popup"),re=(0,s.Q2)("touch-pan");return(0,s.wg)(),(0,s.j4)(se,{view:"lHh LpR fff"},{default:(0,s.w5)((()=>[(0,s.Wm)(T,{elevated:"",class:(0,a.C_)(e.$root.darkModeStatus?"bg-dark text-grey-3":"bg-white text-grey-8"),"height-hint":"64"},{default:(0,s.w5)((()=>[(0,s.Wm)(E,{class:"APP__toolbar",style:{height:"64px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(U,{flat:"",round:"",icon:"menu",class:"q-mx-md","aria-label":"Menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),(0,s.Wm)(P,{shrink:"",class:"row items-center no-wrap"},{default:(0,s.w5)((()=>[l,e.$q.screen.gt.sm?((0,s.wg)(),(0,s.iD)("span",n,(0,a.zw)(e.company.name),1)):e.$q.screen.gt.xs?((0,s.wg)(),(0,s.iD)("span",u,(0,a.zw)(e.company.name_short),1)):((0,s.wg)(),(0,s.iD)("span",c,(0,a.zw)(e.company.name_abbr),1))])),_:1}),(0,s.Wm)(Z),(0,s._)("div",d,[e.$q.screen.gt.xs?((0,s.wg)(),(0,s.iD)("div",m,[(0,s.Wm)(A,{align:"middle",class:"q-pa-sm",color:"primary"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.date.formatDate(e.$root.realtimeDate,"dddd")),1)])),_:1}),(0,s.Uk)(" "+(0,a.zw)(e.date.formatDate(e.$root.realtimeDate,"MMM D, YYYY h:mma"))+" ",1),(0,s.Wm)(C,{class:"bg-transparent text-dark text-weight-bold"},{default:(0,s.w5)((()=>[(0,s.Wm)(S,{readonly:"","with-seconds":"",modelValue:e.currentTime,"onUpdate:modelValue":t[0]||(t[0]=t=>e.currentTime=t),style:{"border-radius":"15px"}},null,8,["modelValue"])])),_:1})])):(0,s.kq)("",!0),(0,s.Wm)(U,{flat:"",dense:"",round:"",size:"md",color:"grey-8",class:"hover-text-primary",icon:"notifications"},{default:(0,s.w5)((()=>[e.totalUnseenNotif?((0,s.wg)(),(0,s.j4)(A,{key:0,color:"red","text-color":"white",floating:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.totalUnseenNotif),1)])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[p])),_:1}),(0,s.Wm)(O,{offset:[10,17],"transition-duration":250,"transition-show":"jump-down","transition-hide":"jump-up",style:{"border-radius":"15px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(z,{style:(0,a.j5)((Object.keys(e.notifications).length?"width: 370px":"width: 200px")+";")},null,8,["style"])])),_:1})])),_:1}),e.$q.fullscreen.isCapable?((0,s.wg)(),(0,s.j4)(U,{key:1,flat:"",dense:"",round:"",size:"md",color:"grey-8 hover-text-primary",icon:e.$q.fullscreen.isActive?"fullscreen_exit":"fullscreen",onClick:e.$root.fullscreenToggle},{default:(0,s.w5)((()=>[(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.$q.fullscreen.isActive?"Exit Fullscreen":"Go Fullscreen"),1)])),_:1})])),_:1},8,["icon","onClick"])):(0,s.kq)("",!0),(0,s.Wm)(U,{flat:"",dense:"",round:"",size:"md"},{default:(0,s.w5)((()=>[(0,s.Wm)(M,{size:"md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Q,{src:i()})])),_:1}),(0,s.Wm)(O,{offset:[0,17],"transition-duration":250,"transition-show":"jump-down","transition-hide":"jump-up",style:{"border-radius":"15px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(F,{style:{"min-width":"325px","max-width":"450px"}},{default:(0,s.w5)((()=>[(0,s._)("div",f,[(0,s._)("div",w,[(0,s._)("div",{class:(0,a.C_)(["self-center full-width text-center",e.$root.darkModeStatus?"bg-grey-10":"bg-grey-2"]),style:{"border-radius":"15px"}},[(0,s.Wm)(U,{flat:"",round:"",size:"md",color:e.autolock?"primary":"grey-6",icon:"lock",class:"hover-text-primary",to:e.$config.router.lock},{default:(0,s.w5)((()=>[(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[g])),_:1})])),_:1},8,["color","to"]),(0,s.Wm)(D,{size:"sm",modelValue:e.$root.darkModeStatus,"onUpdate:modelValue":t[1]||(t[1]=t=>e.$root.darkModeStatus=t),"checked-icon":"brightness_low","unchecked-icon":"brightness_high","indeterminate-icon":"brightness_auto"},{default:(0,s.w5)((()=>[(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[y])),_:1})])),_:1},8,["modelValue"])],2),(0,s.Wm)(L,{label:"",markers:"",step:1,color:"primary","track-size":"8px",modelValue:e.autolock,"onUpdate:modelValue":t[2]||(t[2]=t=>e.autolock=t),min:e.$root.min_autolock,max:e.$root.max_autolock,"track-color":"transparent","label-color":"primary",class:"q-px-sm q-pt-xs","selection-color":"blue-1","label-value":`Autolock ${e.$root.autoLockLabel}`,"switch-label-side":"","inner-track-color":"transparent","selection-img":e.$config.default.image.transparent},null,8,["modelValue","min","max","label-value","selection-img"]),(0,s.wy)((0,s.Wm)(U,{flat:"","no-caps":"",rounded:"",ripple:"",size:"md",icon:"logout",label:"Logout",color:"grey-6",class:"hover-text-primary",onClick:e.logout},null,8,["onClick"]),[[ae]])]),(0,s.Wm)(I,{vertical:"",inset:"",class:"q-mx-lg"}),(0,s._)("div",h,[(0,s.Wm)(H,{min:0,max:30,"show-value":"",size:"72px","font-size":"25px",color:"grey-3",thickness:.1,indeterminate:e.animateProfile,"track-color":e.animateProfile?"blue-3":"blue-2","center-color":"primary",class:"text-weight-bold text-white",onMouseover:t[3]||(t[3]=t=>e.animateProfile=!1),onMouseleave:t[4]||(t[4]=t=>e.animateProfile=!0)},{default:(0,s.w5)((()=>[(0,s.Wm)(U,{flat:"",round:"",dense:"",size:"lg",icon:"lock",color:"white",class:"absolute-center",to:e.$config.router.profile,style:(0,a.j5)("opacity: "+(e.animateProfile?"0.1":"1"))},null,8,["to","style"]),e.animateProfile?((0,s.wg)(),(0,s.iD)("span",_,(0,a.zw)(e.getObj(e.authenticated,"data.firstname","").charAt(0)),1)):(0,s.kq)("",!0)])),_:1},8,["thickness","indeterminate","track-color"]),(0,s._)("div",k,(0,a.zw)(`${e.getObj(e.authenticated,"data.firstname","")} ${e.getObj(e.authenticated,"data.lastname","")}`),1)])])])),_:1})])),_:1}),(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[v])),_:1})])),_:1})])])),_:1})])),_:1},8,["class"]),(0,s.Wm)(Y,{bordered:"",side:"left",behavior:"mobile",style:{"z-index":"9"},modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[5]||(t[5]=t=>e.leftDrawerOpen=t),"no-swipe-open":!e.$q.screen.lt.sm,"no-swipe-close":!e.$q.screen.lt.sm,"no-swipe-backdrop":!e.$q.screen.lt.sm},{default:(0,s.w5)((()=>[(0,s.Wm)(V)])),_:1},8,["modelValue","no-swipe-open","no-swipe-close","no-swipe-backdrop"]),e.$root.accessLevel<3?((0,s.wg)(),(0,s.j4)(Y,{key:0,bordered:"",side:"right",width:275,style:{"z-index":"9"},modelValue:e.rightDrawerOpen,"onUpdate:modelValue":t[6]||(t[6]=t=>e.rightDrawerOpen=t),"no-swipe-open":!e.$q.screen.lt.sm,"no-swipe-close":!e.$q.screen.lt.sm,"no-swipe-backdrop":!e.$q.screen.lt.sm},{default:(0,s.w5)((()=>[(0,s.Wm)(N)])),_:1},8,["modelValue","no-swipe-open","no-swipe-close","no-swipe-backdrop"])):(0,s.kq)("",!0),e.$root.accessLevel<3?((0,s.wg)(),(0,s.j4)(B,{key:1,style:{"z-index":"7"},position:"top-right",offset:e.rightDrawerOpen?[-20,15]:e.usersHeadPos},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(U,{flat:"",round:"",size:"lg",class:"hover-text-primary",onClick:e.toggleRightDrawer,ripple:{color:"secondary"},color:e.$root.darkModeStatus?"grey-8":"grey-5",icon:e.rightDrawerOpen?"chevron_right":"supervised_user_circle",disable:e.draggingUsersHead},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{offset:[10,10],self:"center end",anchor:"center start"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.rightDrawerOpen?"Hide":"Users"),1)])),_:1})])),_:1},8,["onClick","color","icon","disable"])),[[re,e.moveUsersHead,void 0,{prevent:!0,mouse:!0}]])])),_:1},8,["offset"])):(0,s.kq)("",!0),(0,s.Wm)(K,{class:"APP__page-container"},{default:(0,s.w5)((()=>[(0,s.Wm)(R,null,{default:(0,s.w5)((({Component:e})=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e)))])),_:1}),e.$q.screen.gt.sm?((0,s.wg)(),(0,s.j4)(B,{key:0,expand:"",position:"left"},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,a.C_)(["fit q-pt-xl q-px-sm column",e.$root.darkModeStatus?"text-grey-6":"text-grey-8"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.essentialsLeft,((t,o)=>((0,s.wg)(),(0,s.iD)("div",{key:t},[(0,s.Wm)(U,{round:"",flat:"",stack:"","no-caps":"",size:"26px",class:(0,a.C_)([e.$route.fullPath==e.$root.essentialLinks[t].link?"text-primary":"","APP__side-btn"]),to:e.$root.essentialLinks[t].link},{default:(0,s.w5)((()=>[(0,s.Wm)(X,{size:"22px",name:e.$root.essentialLinks[t].icon},null,8,["name"]),(0,s._)("div",b,(0,a.zw)(e.$root.essentialLinks[t].title),1),0===o?((0,s.wg)(),(0,s.j4)(A,{key:0,floating:"",color:"primary",class:"bg-transparent","text-color":"primary",style:{top:"5px",right:"10px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(X,{color:"primary",name:"security",size:"xs"})])),_:1})):(0,s.kq)("",!0)])),_:2},1032,["class","to"])])))),128))],2)])),_:1})):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(O,{"context-menu":"","touch-position":"","transition-duration":250,"transition-show":"jump-down","transition-hide":"jump-up"},{default:(0,s.w5)((()=>[(0,s.Wm)(te,{style:{"min-width":"100px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(G,{header:"",class:"full-width"},{default:(0,s.w5)((()=>[(0,s.Wm)(U,{flat:"","fab-mini":"",icon:"arrow_back",class:"q-mx-sm hover-text-primary",onClick:e.$root.back,disable:e.$router.options.history.state<1||!e.$router.options.history.state.back},null,8,["onClick","disable"]),(0,s.Wm)(U,{flat:"","fab-mini":"",icon:"arrow_forward",class:"q-mx-sm hover-text-primary",onClick:e.$root.forward,disable:!e.$router.options.history.state.forward},null,8,["onClick","disable"]),(0,s.Wm)(U,{flat:"","fab-mini":"",icon:"refresh",class:"q-mx-sm hover-text-primary",onClick:e.$root.refresh},null,8,["onClick"])])),_:1}),(0,s.wy)(((0,s.wg)(),(0,s.j4)(ee,{clickable:"",class:"hover-text-primary",to:e.$config.router.lock},{default:(0,s.w5)((()=>[(0,s.Wm)(J,{avatar:"",style:{"min-width":"unset"}},{default:(0,s.w5)((()=>[(0,s.Wm)(X,{name:"lock"})])),_:1}),(0,s.Wm)(J,null,{default:(0,s.w5)((()=>[q])),_:1})])),_:1},8,["to"])),[[ae]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(ee,{clickable:"",class:"hover-text-primary",onClick:e.$root.getServerInformation},{default:(0,s.w5)((()=>[(0,s.Wm)(J,{avatar:"",style:{"min-width":"unset"}},{default:(0,s.w5)((()=>[(0,s.Wm)(X,{name:"cloud_sync"})])),_:1}),(0,s.Wm)(J,null,{default:(0,s.w5)((()=>[x])),_:1})])),_:1},8,["onClick"])),[[ae]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(ee,{clickable:"",class:"hover-text-primary",onClick:e.logout},{default:(0,s.w5)((()=>[(0,s.Wm)(J,{avatar:"",style:{"min-width":"unset"}},{default:(0,s.w5)((()=>[(0,s.Wm)(X,{name:"logout"})])),_:1}),(0,s.Wm)(J,null,{default:(0,s.w5)((()=>[j])),_:1})])),_:1},8,["onClick"])),[[ae]])])),_:1})])),_:1}),(0,s.Wm)(oe,{ref:"ajax_loader",position:"top",color:e.$root.darkModeStatus?"accent":"primary",size:"5px"},null,8,["color"])])),_:1})}o(7070);const W=(0,s.Uk)("Create"),U={class:"text-weight-bold"},P={class:"text-caption"},Z={class:"text-overline"},A=(0,s.Uk)("Close"),S={class:"q-py-sm",style:{"white-space":"pre-wrap"}},C={class:"text-caption text-grey-6"};function z(e,t,o,r,i,l){const n=(0,s.up)("q-tooltip"),u=(0,s.up)("q-btn"),c=(0,s.up)("q-item-label"),d=(0,s.up)("q-separator"),m=(0,s.up)("q-avatar"),p=(0,s.up)("q-item-section"),f=(0,s.up)("q-icon"),w=(0,s.up)("q-item"),g=(0,s.up)("q-scroll-area"),y=(0,s.up)("q-list"),h=(0,s.up)("q-space"),_=(0,s.up)("q-bar"),k=(0,s.up)("q-card-section"),v=(0,s.up)("q-badge"),b=(0,s.up)("q-card-actions"),q=(0,s.up)("q-card"),x=(0,s.up)("q-dialog"),j=(0,s.Q2)("close-popup"),$=(0,s.Q2)("ripple");return(0,s.wg)(),(0,s.j4)(q,{style:{"min-width":"200px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{header:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.notificationsCount?"":"No")+" Notifications ",1),e.$root.accessLevel>=0&&e.$root.accessLevel<3?(0,s.wy)(((0,s.wg)(),(0,s.j4)(u,{key:0,flat:"",round:"",size:"sm",style:{top:"-5px"},icon:"notification_add",class:"float-right hover-text-primary",onClick:t[0]||(t[0]=()=>e.$root.accessLevel>=0&&e.$root.accessLevel<3?e.$root.dialogAddNotif=!e.$root.dialogAddNotif:void 0)},{default:(0,s.w5)((()=>[(0,s.Wm)(n,null,{default:(0,s.w5)((()=>[W])),_:1})])),_:1})),[[j]]):(0,s.kq)("",!0)])),_:1}),e.notificationsCount?((0,s.wg)(),(0,s.j4)(g,{key:0,"thumb-style":e.$style.scrollarea.thumb,"bar-style":e.$style.scrollarea.bar,style:(0,a.j5)(`height: calc(${e.notificationsCount<3?"65":"60"}px * ${e.notificationsCount}); max-height: 300px;`)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.keys(e.notifications).reverse(),((o,r)=>((0,s.wg)(),(0,s.iD)("div",{key:`${o}`},[r>0?((0,s.wg)(),(0,s.j4)(d,{key:0,inset:"item"})):(0,s.kq)("",!0),(0,s.wy)(((0,s.wg)(),(0,s.j4)(w,{clickable:"",class:(0,a.C_)(e.date.getDateDiff(e.$root.realtimeDate,new Date(e.notifications[o].date),"minutes")<=1?e.$root.darkModeStatus?"bg-grey-9":"bg-grey-3":""),onMouseover:()=>{e.index_on_hover=r,e.seenNotif(e.notifications[o])},onMouseout:t[1]||(t[1]=t=>e.index_on_hover=null),onClick:t=>e.openNotif(e.notifications[o])},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{class:(0,a.C_)(e.index_on_hover!=r&&e.notifications[o].seen?e.$root.darkModeStatus?"bg-grey-8 text-grey-6":"bg-grey-4 text-grey-7":"bg-primary text-grey-3")},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.getObj(e.users,`${e.notifications[o].from}.firstname`,e.notifications[o].from).charAt(0)),1)])),_:2},1032,["class"])])),_:2},1024),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{lines:"1",class:(0,a.C_)(e.notifications[o].seen?e.index_on_hover==r?"text-primary":"":"text-weight-bold text-primary")},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.notifications[o].payload.title||"No Title"),1)])),_:2},1032,["class"]),(0,s.Wm)(c,{caption:"",lines:"2"},{default:(0,s.w5)((()=>[(0,s._)("span",U,(0,a.zw)(e.getObj(e.users,`${e.notifications[o].from}.firstname`,e.notifications[o].from))+": ",1),(0,s.Uk)(" "+(0,a.zw)(e.notifications[o].payload.message),1)])),_:2},1024)])),_:2},1024),(0,s.Wm)(p,{side:"",top:""},{default:(0,s.w5)((()=>[(0,s._)("span",P,(0,a.zw)(e.relativeDate(e.notifications[o].date)),1),(0,s.Wm)(f,{size:"xs",name:e.notifications[o].to==e.authenticated.data.userid?"verified_user":"public",color:e.notifications[o].seen?e.index_on_hover==r?"primary":"grey":"primary"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.notifications[o].to==e.authenticated.data.userid?"Personal":"Everyone"),1)])),_:2},1024)])),_:2},1032,["name","color"])])),_:2},1024)])),_:2},1032,["class","onMouseover","onClick"])),[[$]])])))),128))])),_:1},8,["thumb-style","bar-style","style"])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(x,{modelValue:e.visible_notif.status,"onUpdate:modelValue":t[3]||(t[3]=t=>e.visible_notif.status=t),"transition-duration":250,"transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Wm)(q,{class:(0,a.C_)(e.$root.darkModeStatus?"":"bg-grey-3"),style:{width:"500px","max-width":"80vw","border-radius":"15px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{style:{height:"50px"},class:"bg-accent text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{class:"hover-text-primary",name:e.getObj(e.notifications,`${e.visible_notif.id}.to`)==e.getObj(e.authenticated,"data.userid")?"verified_user":"public"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.getObj(e.notifications,`${e.visible_notif.id}.to`)==e.getObj(e.authenticated,"data.userid")?"Personal":"Everyone"),1)])),_:1})])),_:1},8,["name"]),(0,s._)("div",Z,(0,a.zw)(e.getObj(e.notifications,`${e.visible_notif.id}.payload.title`,"No Title")),1),(0,s.Wm)(h),(0,s.wy)(((0,s.wg)(),(0,s.j4)(u,{flat:"",round:"",dense:"",autofocus:"",icon:"close"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,null,{default:(0,s.w5)((()=>[A])),_:1})])),_:1})),[[j]])])),_:1}),(0,s.Wm)(k,null,{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,a.C_)(["text-h6 text-center",e.$root.darkModeStatus?"text-primary":"text-accent"])},null,2)])),_:1}),(0,s.Wm)(k,{style:(0,a.j5)(["box-shadow: rgba(0, 0, 0, 0.1) 0px 01px 3px, rgba(0, 0, 0, 0.1) 0px 1px 1px, rgba(0, 0, 0, 0.1) 0px 1px 1px -1px",{"border-radius":"15px",background:"#c0c0c0"}]),class:(0,a.C_)(["q-pt-none q-mx-md q-pa-md",e.$root.darkModeStatus?"bg-grey-10 text-grey-3":"bg-grey-3 text-grey-9"])},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{"thumb-style":e.$style.scrollarea.thumb,"bar-style":e.$style.scrollarea.bar,style:(0,a.j5)(`height: calc(50px * ${e.getObj(e.notifications,`${e.visible_notif.id}.payload.message`,"").length>100||e.getObj(e.notifications,`${e.visible_notif.id}.payload.message`,"").split("\n").length?Math.floor(e.getObj(e.notifications,`${e.visible_notif.id}.payload.message`,"").length/100)+e.getObj(e.notifications,`${e.visible_notif.id}.payload.message`,"").split("\n").length:1}); max-height: 200px;`)},{default:(0,s.w5)((()=>[(0,s._)("div",S,(0,a.zw)(e.getObj(e.notifications,`${e.visible_notif.id}.payload.message`,"")),1)])),_:1},8,["thumb-style","bar-style","style"]),(0,s.Wm)(v,{transparent:"",class:"absolute float-left bg-transparent",style:{top:"-15px",left:"-15px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{size:"lg",color:"primary",name:"mark_chat_read",class:"hover-text-secondary"})])),_:1})])),_:1},8,["style","class"]),(0,s.Wm)(b,{align:"center",class:"q-gutter-x-xs"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(u,{flat:"",round:"",ripple:"","no-caps":"",unelevated:"",title:"Unread",color:"grey-6",icon:"mark_email_unread",class:"q-px-lg hover-text-primary",onClick:t[2]||(t[2]=t=>e.toggleSeenNotif(e.getObj(e.notifications,`${e.visible_notif.id}`)))},null,512),[[j]]),(0,s._)("span",null,[(0,s.Uk)((0,a.zw)(e.getObj(e.users,`${e.notifications[e.visible_notif.id].from}.firstname`,`${e.notifications[e.visible_notif.id].from}`))+" ",1),(0,s.Wm)(v,{color:"grey-6"},{default:(0,s.w5)((()=>[(0,s.Uk)(" #"+(0,a.zw)(e.getObj(e.users,`${e.notifications[e.visible_notif.id].from}.userid`,"")),1)])),_:1}),(0,s.Wm)(n,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.getObj(e.users,`${e.notifications[e.visible_notif.id].from}.position`,"Anonymous")),1)])),_:1})]),(0,s._)("span",C," ("+(0,a.zw)(e.relativeDate(e.getObj(e.notifications,`${e.visible_notif.id}.date`,new Date)))+") ",1)])),_:1})])),_:1},8,["class"])])),_:1},8,["modelValue"])])),_:1})}var O=o(1959),Q=o(3617),M=o(5616),D=o(6386);const L=(0,s.aZ)({data(){return{leftDrawerOpen:(0,O.iH)(!1),date:M.ZP,index_on_hover:(0,O.iH)(null),getObj:D.Sw,visible_notif:(0,O.iH)({status:!1,id:null}),last_seen:(0,O.iH)(null),last_unseen:(0,O.iH)(null),relativeDate:D.K8}},computed:{...(0,Q.rn)("user",["authenticated","users","notifications"]),...(0,Q.Se)("user",["personalNotifications","publicNotifications"]),notificationsCount(){return Object.keys(this.notifications).length}},methods:{...(0,Q.OI)("user",["seenNotification","unseenNotification"]),async openNotif(e){this.visible_notif={status:!0,id:e.id},this.seenNotif(e)},async seenNotif(e){this.last_seen=e,this.seenNotification(e)},async unseenNotif(e){this.last_unseen=e,this.unseenNotification(e)},async toggleSeenNotif(e){!0===e.seen?this.unseenNotif(e):this.seenNotif(e)},async doLog(e){console.log(e)}}});var I=o(4260),H=o(151),F=o(7011),E=o(2350),T=o(2165),V=o(8870),Y=o(7704),N=o(5869),B=o(3414),R=o(2035),X=o(5096),K=o(4554),G=o(6778),J=o(846),ee=o(2025),te=o(5589),oe=o(9721),se=o(9367),ae=o(677),re=o(860),ie=o(7518),le=o.n(ie);const ne=(0,I.Z)(L,[["render",z]]),ue=ne;le()(L,"components",{QCard:H.Z,QList:F.Z,QItemLabel:E.Z,QBtn:T.Z,QTooltip:V.Z,QScrollArea:Y.Z,QSeparator:N.Z,QItem:B.Z,QItemSection:R.Z,QAvatar:X.Z,QIcon:K.Z,QDialog:G.Z,QBar:J.Z,QSpace:ee.Z,QCardSection:te.Z,QBadge:oe.Z,QCardActions:se.Z}),le()(L,"directives",{ClosePopup:ae.Z,Ripple:re.Z});const ce=(0,s._)("img",{class:"q-pl-md",src:i()},null,-1),de={class:"q-ml-sm"},me=(0,s.Uk)(" Server Information "),pe=(0,s.Uk)("Refresh"),fe={class:"text-grey-6"},we={class:"float-left text-caption"},ge={class:"text-grey-6"},ye={class:"q-mt-md"},he={class:"text-center absolute-bottom",style:{bottom:"5px"}},_e={class:"APP__drawer-footer-link","aria-label":"Copyright"};function ke(e,t,o,r,i,l){const n=(0,s.up)("q-toolbar-title"),u=(0,s.up)("q-toolbar"),c=(0,s.up)("EssentialLink"),d=(0,s.up)("q-separator"),m=(0,s.up)("q-icon"),p=(0,s.up)("q-item-section"),f=(0,s.up)("q-tooltip"),w=(0,s.up)("q-btn"),g=(0,s.up)("q-item-label"),y=(0,s.up)("q-item"),h=(0,s.up)("q-linear-progress"),_=(0,s.up)("q-badge"),k=(0,s.up)("q-list"),v=(0,s.up)("q-scroll-area");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(u,{class:"APP__toolbar absolute-top",style:{height:"75px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{class:"row items-center"},{default:(0,s.w5)((()=>[ce,(0,s._)("span",de,(0,a.zw)(e.company.name_abbr),1)])),_:1})])),_:1}),(0,s.Wm)(v,{class:(0,a.C_)(e.$root.darkModeStatus?"text-grey-3":"text-grey-8"),style:{height:"calc(100% - 65px)","margin-top":"65px"},"thumb-style":e.$style.scrollarea.thumb,"bar-style":e.$style.scrollarea.bar},{default:(0,s.w5)((()=>[(0,s.Wm)(k,{padding:"",class:(0,a.C_)(e.$root.darkModeStatus?"text-white":"")},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.keys(e.$root.essentialLinks),(t=>((0,s.wg)(),(0,s.j4)(c,(0,s.dG)({key:t},e.$root.essentialLinks[t],{_class:"APP__drawer-item hover-text-primary"}),null,16)))),128)),(0,s.Wm)(d,{class:"q-my-md"}),(0,s._)("div",{class:"text-grey-7",onMouseover:t[0]||(t[0]=t=>e.manual_server_refresh=!0),onMouseleave:t[1]||(t[1]=t=>e.manual_server_refresh=!1)},[(0,s.Wm)(y,{class:"APP__drawer-item APP__drawer-item--server"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{color:e.$root.isOnline?"primary":"grey-7",name:e.$root.isOnline?"cloud":"dns"},null,8,["color","name"])])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g,{class:(0,a.C_)(e.$root.isOnline?"text-primary":"text-grey-7")},{default:(0,s.w5)((()=>[me,e.manual_server_refresh?((0,s.wg)(),(0,s.j4)(w,{key:0,flat:"",round:"",size:"xs",icon:"refresh",color:"grey-6",class:"hover-text-primary",onClick:e.$root.getServerInformation},{default:(0,s.w5)((()=>[(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[pe])),_:1})])),_:1},8,["onClick"])):(0,s.kq)("",!0)])),_:1},8,["class"])])),_:1})])),_:1}),(0,s.Wm)(y,{class:"APP__drawer-item APP__drawer-item--server"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{name:"account_tree"})])),_:1}),(0,s.Wm)(p,{top:""},{default:(0,s.w5)((()=>[(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.getObj(e.$root.server_info,"info.os.type","Server"))+" "+(0,a.zw)(e.getObj(e.$root.server_info,"info.os.arch","X"))+" ",1),(0,s._)("small",fe," r."+(0,a.zw)(e.getObj(e.$root.server_info,"info.os.release","0.0.0")),1)])),_:1}),(0,s.Wm)(h,{value:1-e.server_freeMemory/e.server_totalMemory,class:"q-my-sm",color:e.server_usedMemoryPercent>=70?"negative":"primary"},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{class:(0,a.C_)(["text-body2",e.server_usedMemoryPercent>=70?"bg-negative":"bg-primary"])},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.server_usedMemoryPercent)+"% ",1)])),_:1},8,["class"])])),_:1},8,["value","color"]),(0,s.Wm)(g,{caption:""},{default:(0,s.w5)((()=>[(0,s._)("span",we,(0,a.zw)(e.humanStorageSize(e.server_usedMemory))+"/"+(0,a.zw)(e.humanStorageSize(e.server_totalMemory)),1),e.server_usedMemoryPercent>=70?((0,s.wg)(),(0,s.j4)(_,{key:0,class:(0,a.C_)(["float-right text-caption",e.server_usedMemoryPercent>=70?"text-white":e.$root.darkModeStatus?"text-dark":"text-grey-6"]),color:e.server_usedMemoryPercent>=70?"negative":e.$root.darkModeStatus?"grey-6":"grey-3"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(`Free: ${e.humanStorageSize(e.server_freeMemory)}`),1)])),_:1},8,["class","color"])):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1}),(0,s.Wm)(y,{class:"APP__drawer-item APP__drawer-item--server"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{name:"memory"})])),_:1}),(0,s.Wm)(p,{top:""},{default:(0,s.w5)((()=>[(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[(0,s.Uk)(" Uptime "+(0,a.zw)(`${e.server_upTime}hr${e.server_upTime>1?"s":""}`)+" ",1),(0,s._)("small",ge," / "+(0,a.zw)(`${Number(e.server_upTime/24).toFixed(1)} day${e.server_upTime/24>1?"s":""}`),1)])),_:1}),(0,s.Wm)(g,{caption:""},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{class:(0,a.C_)(["float-left text-caption text-dark",e.$root.darkModeStatus?"text-dark":"text-grey-6"]),color:e.$root.darkModeStatus?"grey-6":"grey-3"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(`CUP${e.getObj(e.$root.server_info,"info.os.cpus",[]).length>1?"s":""}: ${e.getObj(e.$root.server_info,"info.os.cpus",[]).length}`),1)])),_:1},8,["class","color"]),(0,s.Wm)(_,{class:(0,a.C_)(["float-right text-caption text-dark",e.$root.darkModeStatus?"text-dark":"text-grey-6"]),color:e.$root.darkModeStatus?"grey-6":"grey-3"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(`Drive${e.getObj(e.$root.server_info,"info.os.drives",[]).length>1?"s":""}: ${e.getObj(e.$root.server_info,"info.drives",[]).length}`),1)])),_:1},8,["class","color"])])),_:1})])),_:1})])),_:1})],32),(0,s._)("div",ye,[(0,s._)("div",he,[(0,s._)("a",_e,(0,a.zw)(e.company.name_abbr)+" © "+(0,a.zw)(e.$root.realtimeDate?e.$root.realtimeDate.getFullYear():1998),1)])])])),_:1},8,["class"])])),_:1},8,["class","thumb-style","bar-style"])],64)}function ve(e,t,o,r,i,l){const n=(0,s.up)("q-icon"),u=(0,s.up)("q-item-section"),c=(0,s.up)("q-img"),d=(0,s.up)("q-avatar"),m=(0,s.up)("q-item-label"),p=(0,s.up)("q-item"),f=(0,s.up)("q-separator");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.viewif?((0,s.wg)(),(0,s.j4)(p,{key:0,exact:"","v-ripple":!(!e.link&&!e.action),clickable:!(!e.link&&!e.action),to:e.link?e.link:void 0,onClick:e.action,class:(0,a.C_)(e._class),style:(0,a.j5)(e._style)},{default:(0,s.w5)((()=>[e.icon?((0,s.wg)(),(0,s.j4)(u,{key:0,avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{name:e.icon},null,8,["name"])])),_:1})):e.img?((0,s.wg)(),(0,s.j4)(u,{key:1,avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{size:"26px"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{src:e.img},null,8,["src"])])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.title),1)])),_:1}),(0,s.Wm)(m,{caption:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.caption),1)])),_:1})])),_:1})])),_:1},8,["v-ripple","clickable","to","onClick","class","style"])):(0,s.kq)("",!0),e.separator?((0,s.wg)(),(0,s.j4)(f,{key:1,class:"q-my-md"})):(0,s.kq)("",!0)],64)}const be=(0,s.aZ)({name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},description:{type:String,default:""},shortcut:{type:String,default:""},link:{type:String},action:{type:Function,default:()=>{}},icon:{type:String},img:{type:String},separator:{type:Boolean,default:!1},viewif:{default:!0},_class:{type:String},_style:{type:String}}});var qe=o(4027);const xe=(0,I.Z)(be,[["render",ve]]),je=xe;le()(be,"components",{QItem:B.Z,QItemSection:R.Z,QIcon:K.Z,QAvatar:X.Z,QImg:qe.Z,QItemLabel:E.Z,QSeparator:N.Z}),le()(be,"directives",{Ripple:re.Z});var $e=o(2130);const We=(0,s.aZ)({name:"MainMenu",components:{EssentialLink:je},data(){return{date:M.ZP,getObj:D.Sw,humanStorageSize:$e.ZP.humanStorageSize,manual_server_refresh:!1}},computed:{...(0,Q.rn)("company",["company"]),server_upTime(){return Number((0,D.Sw)(this.$root.server_info,"info.os.uptime",0)/60/60).toFixed(2)},server_freeMemory(){return(0,D.Sw)(this.$root.server_info,"info.os.freemem",0)},server_totalMemory(){return(0,D.Sw)(this.$root.server_info,"info.os.totalmem",0)},server_usedMemoryPercent(){return Number(100*(1-this.server_freeMemory/this.server_totalMemory)).toFixed(2)},server_usedMemory(){return this.server_totalMemory-this.server_freeMemory}}});var Ue=o(9570),Pe=o(3747),Ze=o(1598);const Ae=(0,I.Z)(We,[["render",ke]]),Se=Ae;le()(We,"components",{QToolbar:Ue.Z,QToolbarTitle:Pe.Z,QScrollArea:Y.Z,QList:F.Z,QSeparator:N.Z,QItem:B.Z,QItemSection:R.Z,QIcon:K.Z,QItemLabel:E.Z,QBtn:T.Z,QTooltip:V.Z,QLinearProgress:Ze.Z,QBadge:oe.Z});const Ce=(0,s.Uk)(" Add User "),ze=(0,s.Uk)(" Just You "),Oe={class:"q-mt-md"},Qe={class:"text-center absolute-bottom"},Me={class:"text-caption text-grey-6"};function De(e,t,o,r,i,l){const n=(0,s.up)("q-icon"),u=(0,s.up)("q-toolbar-title"),c=(0,s.up)("q-tooltip"),d=(0,s.up)("q-btn"),m=(0,s.up)("q-toolbar"),p=(0,s.up)("q-item-section"),f=(0,s.up)("q-item-label"),w=(0,s.up)("q-badge"),g=(0,s.up)("q-item"),y=(0,s.up)("q-separator"),h=(0,s.up)("q-list"),_=(0,s.up)("q-scroll-area"),k=(0,s.up)("UserInfo"),v=(0,s.up)("q-dialog"),b=(0,s.Q2)("ripple");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(m,{class:"APP__toolbar absolute-top",style:{height:"75px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"row items-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{name:"supervised_user_circle",class:"hover-text-primary",color:e.$root.darkModeStatus?"grey-6":"grey-8",size:"md"},null,8,["color"]),(0,s._)("span",{class:(0,a.C_)(["q-ml-sm",e.$root.darkModeStatus?"text-grey-6":"text-grey-8"])}," Users ",2)])),_:1}),(0,s.Wm)(d,{flat:"",round:"",size:"md",icon:"person_add",class:"hover-text-primary",color:e.$root.darkModeStatus?"grey-6":"grey-8",onClick:t[0]||(t[0]=t=>e.$root.dialogAddUser=!e.$root.dialogAddUser)},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{offset:[10,10],self:"center end",anchor:"center start",class:"bg-primary"},{default:(0,s.w5)((()=>[Ce])),_:1})])),_:1},8,["color"])])),_:1}),(0,s.Wm)(_,{class:(0,a.C_)(e.$root.darkModeStatus?"text-grey-3":"text-grey-8"),style:{height:"calc(100% - 75px)","margin-top":"60px"},"thumb-style":e.$style.scrollarea.thumb,"bar-style":e.$style.scrollarea.bar},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{padding:"",class:(0,a.C_)(e.$root.darkModeStatus?"text-white":"")},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.keys(e.users),((o,r)=>((0,s.wg)(),(0,s.iD)("div",{key:o},[e.users[o].userid!=e.authenticated.data.userid?(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{key:0,clickable:"",onClickCapture:()=>e.users[o].userid==e.authenticated.data.userid?void 0:e.openUserInfo(e.users[o]),class:"APP__drawer-item-right hover-text-primary",onMouseover:t=>e.index_on_hover=r,onMouseout:t[1]||(t[1]=t=>e.index_on_hover=null)},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{avatar:"",style:{"min-width":"unset !important"}},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{size:"md",name:"active"!=e.users[o].status?"no_accounts":e.checkAccessLevel(e.users[o].position)>=0&&e.checkAccessLevel(e.users[o].position)<3?"admin_panel_settings":"account_circle",color:"yes"==e.users[o].active_now||e.index_on_hover==r?"primary":"grey-6"},null,8,["name","color"])])),_:2},1024),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[e.users[o].userid!=e.authenticated.data.userid?((0,s.wg)(),(0,s.j4)(f,{key:0},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.users[o].firstname)+" "+(0,a.zw)(e.users[o].lastname),1)])),_:2},1024)):((0,s.wg)(),(0,s.j4)(f,{key:1},{default:(0,s.w5)((()=>[ze])),_:1})),(0,s.Wm)(f,{caption:"",class:"q-gutter-x-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{color:"yes"==e.users[o].active_now?"primary":"grey-6"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{name:"numbers"}),(0,s.Uk)(" "+(0,a.zw)(e.users[o].userid),1)])),_:2},1032,["color"]),(0,s.Wm)(w,{color:"yes"==e.users[o].active_now?"primary":"grey-6"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{name:"fmd_good"}),(0,s.Uk)(" "+(0,a.zw)(e.users[o].branch_location),1)])),_:2},1032,["color"])])),_:2},1024)])),_:2},1024),(0,s.Wm)(c,{offset:[10,10],self:"center end",anchor:"center start",class:"bg-transparent text-right q-gutter-y-xs"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(w,{color:"yes"==e.users[o].active_now?"primary":"grey-6"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)("yes"==e.users[o].active_now?"Online":"Offline"),1)])),_:2},1032,["color"])]),(0,s._)("div",null,[(0,s.Wm)(w,{color:"active"!=e.users[o].status?"grey-8":"yes"==e.users[o].active_now?"primary":"grey-6"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)("active"!=e.users[o].status?e.capitalize(e.users[o].status)+" - ":"")+(0,a.zw)(e.users[o].position),1)])),_:2},1032,["color"])])])),_:2},1024)])),_:2},1032,["onClickCapture","onMouseover"])),[[b]]):(0,s.kq)("",!0),e.users[o].userid!=e.authenticated.data.userid&&r+1!==Object.keys(e.users).length?((0,s.wg)(),(0,s.j4)(y,{key:1,inset:"item",style:{opacity:"0.25"}})):(0,s.kq)("",!0)])))),128)),(0,s._)("div",Oe,[(0,s._)("div",Qe,[(0,s._)("a",Me,[(0,s.Wm)(w,{rounded:"",color:"grey-6"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.onlineCount-1),1)])),_:1}),(0,s.Uk)(" Online User"+(0,a.zw)(e.onlineCount-1>1?"s":""),1)])])])])),_:1},8,["class"])])),_:1},8,["class","thumb-style","bar-style"]),(0,s.Wm)(v,{modelValue:e.dialogUserInfo,"onUpdate:modelValue":t[3]||(t[3]=t=>e.dialogUserInfo=t),"transition-duration":"100","transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Wm)(k,{userid:e.getObj(e.selectedUser,"userid",0),onSuccess:e.userFormResponse,onFailed:e.userFormResponse,onLogout:e.onUserLogout,onUnchanged:t[2]||(t[2]=t=>e.$q.notify({message:"Profile Unchanged",timeout:3e3,type:"info"}))},null,8,["userid","onSuccess","onFailed","onLogout"])])),_:1},8,["modelValue"])],64)}var Le=o(9981);const Ie=(0,s.aZ)({name:"UsersList",components:{UserInfo:Le.Z},data(){return{getObj:D.Sw,selectedUser:null,dialogUserInfo:!1,buttonAdd:null,usersList:null,index_on_hover:null,checkAccessLevel:D.ZZ.user.position,capitalize:$e.ZP.capitalize}},computed:{...(0,Q.rn)("user",["authenticated","users"]),...(0,Q.Se)("user",["activeUsers"]),usersCount(){return Object.keys(this.users).length},onlineCount(){return Object.keys(this.activeUsers).length},offlineCount(){return this.usersCount-this.onlineCount}},methods:{async openUserInfo(e){this.selectedUser=e,this.dialogUserInfo=!0},async userFormResponse(e){this.$q.notify({message:`User #${(0,D.Sw)(e,"data.userid")||(0,D.Sw)(this.selectedUser,"userid","NULL")} - Update${e.success?"d":" Failed"}${(0,D.Sw)(e,"data.error.message")?": "+(0,D.Sw)(e,"data.error.message"):""}`,timeout:3e3,type:e.success?"positive":"negative"}),e.success&&(this.dialogUserInfo=!1)},async onUserLogout(e){const t=(0,D.Sw)(e,"success");this.$q.notify({message:"Logout "+(t?"Success":"Failed"),timeout:3e3,type:t?"positive":"negative"})}}}),He=(0,I.Z)(Ie,[["render",De]]),Fe=He;le()(Ie,"components",{QToolbar:Ue.Z,QToolbarTitle:Pe.Z,QIcon:K.Z,QBtn:T.Z,QTooltip:V.Z,QScrollArea:Y.Z,QList:F.Z,QItem:B.Z,QItemSection:R.Z,QItemLabel:E.Z,QBadge:oe.Z,QSeparator:N.Z,QDialog:G.Z}),le()(Ie,"directives",{Ripple:re.Z});var Ee=o(6395),Te=o(8825),Ve=o(4716);const Ye=(0,s.aZ)({name:"MainLayout",components:{MainMenu:Se,UsersList:Fe,Notifications:ue},data(){return{$q:(0,Te.Z)(),leftDrawerOpen:!1,rightDrawerOpen:!1,date:M.ZP,search:"",getObj:D.Sw,humanStorageSize:$e.ZP.humanStorageSize,autolock:null,usersHeadPos:[0,0],draggingUsersHead:!1,animateProfile:!0}},setup(){const e=(0,O.iH)(null);function t(){const t=e.value;t.start(),setTimeout((()=>{const t=e.value;t&&t.stop()}),3e3*Math.random()+1e3)}return{ajax_loader:e,ajax_manual_load:t}},computed:{...(0,Q.rn)("company",["company"]),...(0,Q.rn)("user",["authenticated","notifications"]),...(0,Q.Se)("user",["unseenNotifications"]),essentialsLeft(){return Object.keys(this.$root.essentialLinks).slice(0,3)},totalUnseenNotif(){return Object.keys(this.unseenNotifications).length},currentTime(){return M.ZP.formatDate(this.$root.realtimeDate,"HH:mm:ss")}},created(){this.usersHeadPos=[this.$q.screen.gt.sm?5:0,15],window.addEventListener("keydown",this.handleKeyDown,!0);const e=Ee.Z.getItem((0,D.Sw)(this.$config,"lstorageKeys.autolock"));this.autolock="number"===typeof e?e:this.$root.autoLockConf},watch:{autolock:{async handler(e){e!=this.$root.autoLockConf&&(Ee.Z.set((0,D.Sw)(this.$config,"lstorageKeys.autolock"),e),this.updateUserConfig({autolock:this.autolock}))},deep:!0},["$q.screen"]:{async handler(e){e.width-50<this.usersHeadPos[0]&&(this.usersHeadPos[0]=e.width-50),e.height-100<this.usersHeadPos[1]&&(this.usersHeadPos[1]=e.height-100)},deep:!0}},methods:{...(0,Q.nv)("user",["logout","updateUserConfig"]),async handleKeyDown(e){let t=!1;if(this.$root.essentialShortcuts.forEach(((o,s)=>{const a=this.$root.essentialLinks[o];a.shortcut!=e.key||"undefined"!==typeof a.viewif&&!a.viewif||(a.link?(t=!0,this.$router.push(a.link)):a.action&&(t=!0,a.action()),this.$q.notify({message:`${a.title}`,timeout:3e3,type:"positive",icon:`${a.icon||"info"}`,position:"top"}))})),t||this.$root.miscShortcuts.forEach(((o,s)=>{const a=this.$root.miscLinks[o];a.shortcut!=e.key||"undefined"!==typeof a.viewif&&!a.viewif||(a.link?(t=!0,this.$router.push(a.link)):a.action&&(t=!0,a.action()))})),!t)switch(e.key){case"F8":t=!0,this.toggleLeftDrawer();break;case"F9":this.$root.isAdmin&&(t=!0,this.toggleRightDrawer());break}t&&Ve.ZP.stopAndPrevent(e)},async updateConfig(e){this.updateUserConfig(e)},async toggleLeftDrawer(){this.leftDrawerOpen=!this.leftDrawerOpen},async toggleRightDrawer(){this.rightDrawerOpen=!this.rightDrawerOpen},moveUsersHead(e){e&&(this.draggingUsersHead=!0!==e.isFirst&&!0!==e.isFinal,this.usersHeadPos=[(window.innerWidth-50>this.usersHeadPos[0]||e.delta.x>0)&&(this.usersHeadPos[0]>-15||e.delta.x<0)?this.usersHeadPos[0]-e.delta.x:this.usersHeadPos[0],(window.innerHeight-100>this.usersHeadPos[1]||e.delta.y<0)&&(this.usersHeadPos[1]>-15||e.delta.y>0)?this.usersHeadPos[1]+e.delta.y:this.usersHeadPos[1]])}},beforeUnmount(){window.removeEventListener("keydown",this.handleKeyDown,!0)}});var Ne=o(9214),Be=o(3812),Re=o(5990),Xe=o(811),Ke=o(8886),Ge=o(2064),Je=o(6122),et=o(2901),tt=o(1007),ot=o(2652),st=o(614),at=o(8406);const rt=(0,I.Z)(Ye,[["render",$]]),it=rt;le()(Ye,"components",{QLayout:Ne.Z,QHeader:Be.Z,QToolbar:Ue.Z,QBtn:T.Z,QToolbarTitle:Pe.Z,QSpace:ee.Z,QBadge:oe.Z,QTooltip:V.Z,QTime:Re.Z,QMenu:Xe.Z,QAvatar:X.Z,QImg:qe.Z,QCard:H.Z,QToggle:Ke.Z,QSlider:Ge.Z,QSeparator:N.Z,QCircularProgress:Je.Z,QDrawer:et.Z,QPageSticky:tt.Z,QPageContainer:ot.Z,QIcon:K.Z,QList:F.Z,QItemLabel:E.Z,QItem:B.Z,QItemSection:R.Z,QAjaxBar:st.Z}),le()(Ye,"directives",{ClosePopup:ae.Z,TouchPan:at.Z})},9949:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAACXBIWXMAAAsSAAALEgHS3X78AAACtVBMVEUjpu0ipewjrPUipewipuwjp+wq0vdHcEwipewjpewipewkpOpZxesjpu0opekjpewjpuwmvPYjpu0jpuwipu0kqvAipeYkq/EkrPMjpu0q0vcipu0ipu0lrfIlrPAipu4qmusipu4ipewip+4ip+8ip+8ip+8kpOojpewkr/Uip/Acquwkqe8ipu0ipuwhpOs83vcipewjpewlrPApmucipu0pmeglrfMlrfElrvMipu4jrPMlrvMqmeUlrvQipu0om/MipewlrvUom+8ipewom/Faxesnm/IrmOMip+8ipu8lr/UkrPQjpuwipu0ipewjqfArmOIjq/Itu/Qmv/grl+Emu/YjpOotluIip+wkvfeU0+BTw+wppusjpesksPUjpuskqe9H3/5G3/4kqO5I3Pspv/gkq/FD4P5B4P43y/Q/4f8kqO4jpuwkp+1F2PYjpu0dqesdquxG2vkipe0/4v8jqPBF1vQcqesbquwjpuojpelF/P9F0/EcqOso1vl71vslu/Y63/8bq+w94/8drO4opukkrPQhpu4cp+kjq/MhpOspq+8cqOoopehE0e4jqPEjqPAhpOsjqfEbq+0jq/Qjp+wjp+wipe0r0fcipu1Q1PsjrPUmvPYnvPFL1/wkqfAkrfRF2v4jq/UkqfAzx/Y73fcopukswvc83vcjqOw92/0kqfAipe0jqOw83vcjqO0npOUhsvE32vohpOsjqe8kqO0kqvA82vQjp+soyek83vggo+shpusy1/Ut1/IhpOYipeYipOYmvPcmu/Yjpu0jpu4jqPAjp+8kr/olsfwipu4krPQjp+4krvoipu0jqfEjqfIjqvIipe0jqPEkr/sjq/MjqvMlsPwkrvkjqO8krfcip+8krPUksPwlsf0kr/klr/Ylsf4ksv4jp/AkrfUjqvEE9hfgAAAAxXRSTlP++4j4/vovAP7+/fQY+3P7+0r9/v73Rfjr/C7y76+y6gLo9ebk4d/z/ajbBfX7+PYl+vyxAu0CrbCs7OqrAqvuAvaqAvQCGAIC4t6p6/z1+foCv1pDAkz0AvpGDBoF96H29yEh9yBk9yIiQSL09vYg+gUFIP0j2h8FBfb1Gh8FKhFFJwUkBXPozwX69GsFdR/Z2P3YBYb79/4v/ByHSwIb9YUcifYDFHUEJ/Qe9/r4JPgfAyD19/n5JPMmJfjyIyVJREVKST1nnQUAAAIZSURBVDjLfdPld9NQHMbx3yBw7y2UbKRQOvcxZcPd3d3d3d1hw93d3d1dbprRhUKnuPN3cJOmkITA5+RFXnzPc3JyE1i9bcvm2Skp7RMTExLaxcfHxcXEREXVr9UkPDwsrGVsbDPY+sFXXOzzvWZeMQUFbtVbiZFlmcI6sOlgMxtUkzE18v65dVCHRaADFOC6bAOVwFHBQbzEqCrc/+4RRfZA7yXKsXkiuQ0keHDrxvnjh9PSJg7FlHDEOzipTzmdJLj76OG1c0cP7Vs6vp8oACnqMWBgeZ3WgAKWlBE5wHn9kVEgOIH2+IPeaFDfXt3aNqpZOzq6RaumbeD2vczMS2dOIhTqD3qaF+7cvHj57JcjCJVVA6n7kOTkDs0bN6xXJyKibo3ISLggeUTb12P+gFL8rqSwMFf1UvEGMigHWSX7Awu0Ex+s4Hl28Xz1YCgtYgh6UUoLKAbzqzYEVmdhXCAU9AR2FsaFfIF6flO+Gcm0IOR3dTqdYyopho2cPGn+AlOAi0YvXJ4za8K4sSOGj5oxZc6iTeYgb5n5TZqDA+j0we3Z81JTp0+bu3jDmhV/BSHo6v8XQhC6cqqCZuXG9VbB42+5AR/XWgVPwK6ZSlZZBZXdxOH/bUCs8q9AOwuZBVQLQg2BdhhsoYtMadAnZWGniCn+8UwNdmsLUkfo7Eq3Z3zewRZ2zUy3Z/18jtBT2bW3osrlbfALIi1OJC31MMUAAAAASUVORK5CYII="}}]);